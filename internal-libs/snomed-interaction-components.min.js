/*! snomed-interaction-components 2020-02-14 */
function formatOwlAxiomExpression(a,b){var c=a;c=c.replace(/\(/g,"(\n"),c=c.replace(/\)/g,"\n)\n"),c=c.replace(/(:\d*)\s/g,"$&\n"),c=c.replace(/(:roleGroup)\s/g,"$&\n");var d=c.split("\n");d=d.filter(function(a){return""!=(a=a.trim())});for(var e=0,f=0;f<d.length;f++){if(d[f]=d[f].trim(),-1!==d[f].indexOf(")")&&e--,0!==f&&e>0)for(var g=0;g<e;g++)d[f]="\t"+d[f];-1!==d[f].indexOf("(")&&e++,d[f]=fillConceptFSN(d[f],b)}return d.join("\n")}function fillConceptFSN(a,b){var c=a.trim();if(-1!=c.indexOf(":roleGroup"))return a.replace(":roleGroup",":609096000 |Role group (attribute)|");if(/(^:\d*)/g.test(c)){var d=c.substring(1,c.length);return b.hasOwnProperty(d)?a+" |"+b[d]+"|":a}return a}function renderExpressionForAxioms(a,b,c,d){var e={};b.forEach(function(a){a.additionalFields.hasOwnProperty("owlExpression")&&(a.memberId?e[a.memberId]=a.additionalFields.owlExpression:e[a.id]=a.additionalFields.owlExpression)});var f={};f[a.conceptId]=a.fsn.term,f[609096e3]="Role group (attribute)",f[116680003]="Is a (attribute)",a.classAxioms&&0!==a.classAxioms.length&&a.classAxioms.forEach(function(a){a.relationships.forEach(function(a){f[a.type.conceptId]=a.type.fsn.term,f[a.target.conceptId]=a.target.fsn.term})}),a.gciAxioms&&0!==a.gciAxioms.length&&a.gciAxioms.forEach(function(a){a.relationships.forEach(function(a){f[a.type.conceptId]=a.type.fsn.term,f[a.target.conceptId]=a.target.fsn.term})});var g={};for(var h in e)g[h]=formatOwlAxiomExpression(e[h],f);a.classAxioms&&0!==a.classAxioms.length&&a.classAxioms.forEach(function(a){g.hasOwnProperty(a.axiomId)&&c.push(g[a.axiomId])}),a.gciAxioms&&0!==a.gciAxioms.length&&a.gciAxioms.forEach(function(a){g.hasOwnProperty(a.axiomId)&&d.push(g[a.axiomId])})}function conceptDetails(a,b,c){"undefined"==typeof componentsRegistry&&(componentsRegistry=[]);var d={20581000087109:"fr-CA",19491000087109:"en-CA","900000000000508004":"en-GB","900000000000509007":"en-US",450828004:"es","900000701000122101":"es-ES",554461000005103:"DA",46011000052107:"SV","32570271000036106":"AU","999001251000000103":"UK",11000146104:"NL",71000181105:"ET"};c.languageNameOfLangRefset&&(d=c.languageNameOfLangRefset);var e=this;this.type="concept-details",this.conceptId=b,this.divElement=a,this.options=jQuery.extend(!0,{},c),this.attributesPId="",this.descsPId="",this.relsPId="",this.history=[],this.color="white",e.preferred=!1,e.acceptable=!1,e.included=!1,e.refset={},e.refset.simple=!1,e.refset.simplemap=!1,e.refset.attr=!1,e.refset.assoc=!1,this.lastGroup=null,this.subscription=null;var f=null,g=null,h=null,i=null,j=null,k=null,l=0;e.subscriptionsColor=[],e.subscriptions=[],e.subscribers=[],e.server="",c.serverUrl.includes("snowowl")?e.server="snowowl":e.server="snowstorm",componentLoaded=!1,$.each(componentsRegistry,function(a,b){b.divElement.id==e.divElement.id&&(componentLoaded=!0)}),0==componentLoaded&&componentsRegistry.push(e),this.getConceptId=function(){return this.conceptId},this.getDivId=function(){return this.divId},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},e.markerColor=e.getNextMarkerColor(globalMarkerColor),this.setupCanvas=function(){e.attributesPId=e.divElement.id+"-attributes-panel",e.descsPId=e.divElement.id+"-descriptions-panel",e.relsPId=e.divElement.id+"-rels-panel",e.childrenPId=e.divElement.id+"-children-panel",e.defaultTerm="",$(a).html();var b={divElementId:e.divElement.id,server:e.server};$(a).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/main.hbs"](b)),$("#"+e.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+e.divElement.id+"-configButton").disableTextSelect(),$("#"+e.divElement.id+"-historyButton").disableTextSelect(),$("#"+e.divElement.id+"-collapseButton").disableTextSelect(),$("#"+e.divElement.id+"-expandButton").disableTextSelect(),$("#"+e.divElement.id+"-closeButton").disableTextSelect(),$("#"+e.divElement.id+"-expandButton").hide(),$("#"+e.divElement.id+"-configButton").attr("disabled",!0),$("#"+e.divElement.id+"-subscribersMarker").hide(),$("#"+e.divElement.id+"-closeButton").click(function(b){$(a).remove()}),$("#"+e.divElement.id+"-configButton").click(function(a){e.setupOptionsPanel()}),void 0!==e.options.closeButton&&0==e.options.closeButton&&$("#"+e.divElement.id+"-closeButton").hide(),void 0!==e.options.subscribersMarker&&0==e.options.subscribersMarker&&$("#"+e.divElement.id+"-subscribersMarker").remove(),void 0!==e.options.collapseButton&&0==e.options.collapseButton&&($("#"+e.divElement.id+"-expandButton").hide(),$("#"+e.divElement.id+"-collapseButton").hide()),$("#"+e.divElement.id+"-expandButton").click(function(a){$("#"+e.divElement.id+"-panelBody").slideDown("fast"),$("#"+e.divElement.id+"-expandButton").hide(),$("#"+e.divElement.id+"-collapseButton").show(),$("#"+e.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp<strong>Concept Details</strong>")}),$("#"+e.divElement.id+"-collapseButton").click(function(a){$("#"+e.divElement.id+"-panelBody").slideUp("fast"),$("#"+e.divElement.id+"-expandButton").show(),$("#"+e.divElement.id+"-collapseButton").hide(),$("#"+e.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp<strong>Concept Details: "+e.defaultTerm+"</strong>")}),$("#"+e.divElement.id).click(function(a){$(a.target).hasClass("glyphicon")||$("#"+e.divElement.id).find(".more-fields-button").popover("hide")}),$("#"+e.divElement.id+"-historyButton").click(function(a){$("#"+e.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){var a='<div style="height:100px;overflow:auto;">';a+="<table>";var b=e.history.slice(0);return b.reverse(),$.each(b,function(b,c){var d=new Date,f=d.getTime(),g=f-c.time,h="";g<6e4?h=1==Math.round(g/1e3)?Math.round(g/1e3)+" second ago":Math.round(g/1e3)+" seconds ago":g<36e5?h=1==Math.round(g/1e3/60)?Math.round(g/1e3/60)+" minute ago":Math.round(g/1e3/60)+" minutes ago":g<216e6&&(h=1==Math.round(g/1e3/60/60)?Math.round(g/1e3/60/60)+" hour ago":Math.round(g/1e3/60/60)+" hours ago"),a=a+'<tr><td><a href="javascript:void(0);" onclick="updateCD(\''+e.divElement.id+"',"+c.conceptId+');">'+c.defaultTerm+"</a>",a=a+' <span class="text-muted" style="font-size: 80%"><em>'+h+"<em></span>",a+="</td></tr>"}),a+="</table>",a+="</div>"}}),$("#"+e.divElement.id+"-historyButton").popover("toggle")}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Panel options"),$("#"+e.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+e.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+e.divElement.id+"-apply-button").click(function(){e.readOptionsPanel(),e.updateCanvas()}),"undefined"!=typeof Storage&&(localStorage.getItem("conceptDetailOptions_displaySynonyms")&&(e.options.displaySynonyms="true"===localStorage.getItem("conceptDetailOptions_displaySynonyms")),localStorage.getItem("conceptDetailOptions_showIds")&&(e.options.showIds="true"===localStorage.getItem("conceptDetailOptions_showIds")),localStorage.getItem("conceptDetailOptions_displayInactiveDescriptions")&&(e.options.displayInactiveDescriptions="true"===localStorage.getItem("conceptDetailOptions_displayInactiveDescriptions")),localStorage.getItem("conceptDetailOptions_hideNotAcceptable")&&(e.options.hideNotAcceptable="true"===localStorage.getItem("conceptDetailOptions_hideNotAcceptable")),localStorage.getItem("conceptDetailOptions_diagrammingMarkupEnabled")&&(e.options.diagrammingMarkupEnabled="true"===localStorage.getItem("conceptDetailOptions_diagrammingMarkupEnabled")),localStorage.getItem("conceptDetailOptions_displayChildren")&&(e.options.displayChildren="true"===localStorage.getItem("conceptDetailOptions_displayChildren")),localStorage.getItem("conceptDetailOptions_selectedView")&&(e.options.selectedView="stated"===localStorage.getItem("conceptDetailOptions_selectedView")?"stated":"inferred")),e.updateCanvas(),channel.publish(e.divElement.id,{term:e.term,module:e.module,conceptId:e.conceptId,source:e.divElement.id}),(e.subscriptions.length>0||e.subscribers.length>0)&&$("#"+e.divElement.id+"-subscribersMarker").show(),$("#"+e.divElement.id+"-ownMarker").css("color",e.markerColor)},this.updateCanvas=function(){if($("#home-children-cant-"+e.divElement.id).html(""),$(".more-fields-button").popover("hide"),l!=e.conceptId){l=e.conceptId,$("#home-children-"+e.divElement.id+"-body").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+e.attributesPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-attributes-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+e.descsPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+e.relsPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-parents-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-roles-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+e.childrenPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#diagram-canvas-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#refsets-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#product-details-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),null!=f&&(f.abort(),f=null);var b=c.edition;if(c.release.length>0&&"None"!==c.release&&(b=b+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),void 0===e.options.selectedView&&(e.options.selectedView="inferred"),f=$.getJSON(c.serverUrl+"/browser/"+b+"/concepts/"+e.conceptId+"?descendantCountForm="+e.options.selectedView,function(a){}).done(function(b){function g(a){a.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0})}function h(a){window.getSelection().isCollapsed&&(a.srcElement&&a.srcElement.value||(a.clipboardData.setData("text/plain",j.conceptId+" | "+j.defaultTerm+" |"),a.preventDefault(),alertEvent("Copied!","info")))}setDefaultTerm(b);var i={};$.each(b.descriptions,function(a,b){b.lang==c.defaultLanguage&&b.active&&$.each(b.acceptabilityMap,function(a,c){"PREFERRED"==c&&(i=b)})}),i.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.fsn.lang!=c.defaultLanguage?b.defaultTerm=i.term:b.defaultTerm=b.fsn.term;var j=b;f=null,e.attributesPId=a.id+"-attributes-panel",e.defaultTerm=j.defaultTerm;var m=new Date,n=m.getTime();e.history.push({defaultTerm:j.defaultTerm,conceptId:j.conceptId,time:n}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("parseCS",function(a,b,c){var d=c.split(a).join(b).toLowerCase();return d.charAt(0).toUpperCase()+d.slice(1)}),e.statedParents=[],e.inferredParents=[],e.statedRoles=[],e.inferredRoles=[],e.statedParentsFromAxioms=[],e.attributesFromAxioms=[],j.relationships.forEach(function(a){a.type.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.type.fsn.lang!=c.defaultLanguage?a.type.defaultTerm=a.type.pt.term:a.type.defaultTerm=a.type.fsn.term,a.target.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.target.fsn.lang!=c.defaultLanguage?a.target.defaultTerm=a.target.pt.term:a.target.defaultTerm=a.target.fsn.term,"INFERRED_RELATIONSHIP"==a.characteristicType&&a.active&&"116680003"!=a.type.conceptId?e.inferredRoles.push(a):"INFERRED_RELATIONSHIP"==a.characteristicType&&a.active&&"116680003"===a.type.conceptId&&e.inferredParents.push(a)}),j.statedRelationships.forEach(function(a){a.type.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.type.fsn.lang!=c.defaultLanguage?a.type.defaultTerm=a.type.pt.term:a.type.defaultTerm=a.type.fsn.term,a.target.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.target.fsn.lang!=c.defaultLanguage?a.target.defaultTerm=a.target.pt.term:a.target.defaultTerm=a.target.fsn.term,1==a.active&&(j.statedActive="true"),"STATED_RELATIONSHIP"===a.characteristicType&&a.active&&"116680003"!=a.type.conceptId?e.statedRoles.push(a):"STATED_RELATIONSHIP"===a.characteristicType&&a.active&&"116680003"===a.type.conceptId&&e.statedParents.push(a)}),j.classAxioms.forEach(function(a){a.clinicalFindingRelationships=!0,a.active&&a.relationships.forEach(function(b){b.type.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.type.fsn.lang!=c.defaultLanguage?b.type.defaultTerm=b.type.pt.term:b.type.defaultTerm=b.type.fsn.term,b.target.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.target.fsn.lang!=c.defaultLanguage?b.target.defaultTerm=b.target.pt.term:b.target.defaultTerm=b.target.fsn.term,b.active&&"116680003"===b.type.conceptId?(b.effectiveTime=a.effectiveTime,e.statedParentsFromAxioms.push(b)):b.active&&(b.axiomId=a.axiomId,b.effectiveTime=a.effectiveTime,e.attributesFromAxioms.push(b)),b.active&&"116680003"!==b.type.conceptId&&(a.clinicalFindingRelationships=!1)}),g(a.relationships)}),j.gciAxioms.forEach(function(a){a.clinicalFindingRelationships=!0,a.active&&a.relationships.forEach(function(b){b.type.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.type.fsn.lang!=c.defaultLanguage?b.type.defaultTerm=b.type.pt.term:b.type.defaultTerm=b.type.fsn.term,b.target.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.target.fsn.lang!=c.defaultLanguage?b.target.defaultTerm=b.target.pt.term:b.target.defaultTerm=b.target.fsn.term,b.active&&"116680003"!==b.type.conceptId?(b.axiomId=a.axiomId,b.effectiveTime=a.effectiveTime,e.attributesFromAxioms.push(b)):b.active&&(b.axiomId=a.axiomId,b.effectiveTime=a.effectiveTime),b.active&&"116680003"!==b.type.conceptId&&(a.clinicalFindingRelationships=!1)}),g(a.relationships)}),j.statedDescendants&&(j.statedDescendantsString=j.statedDescendants.toLocaleString()),j.inferredDescendants&&(j.inferredDescendantsString=j.inferredDescendants.toLocaleString());var o=c.edition.startsWith("MAIN/SNOMEDCT-SE"),p={options:e.options,firstMatch:j,divElementId:e.divElement.id,edition:c.edition,release:c.release,server:c.serverUrl.substr(0,c.serverUrl.length-10),langRefset:e.options.languages,link:document.URL.split("?")[0].split("#")[0]+"?perspective=full&conceptId1="+j.conceptId+"&edition="+e.options.edition+"&release="+e.options.release+"&languages="+e.options.languages,dataContentValue:document.URL.split("?")[0].split("#")[0],swedishExtension:o};if($("#"+e.attributesPId).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/attributes-panel.hbs"](p)),void 0!==b.descendantCount){var q=c.edition;c.release.length>0&&"None"!==c.release&&(q=q+"/"+c.release),$("#"+e.divElement.id+"-statedDescendantCount").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+e.divElement.id+"-inferredDescendantCount").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$.getJSON(c.serverUrl+"/browser/"+q+"/concepts/"+e.conceptId+"?descendantCountForm="+("inferred"===e.options.selectedView?"stated":"inferred"),function(a){}).done(function(a){"inferred"===e.options.selectedView?($("#"+e.divElement.id+"-inferredDescendantCount").html(b.descendantCount),$("#"+e.divElement.id+"-statedDescendantCount").html(a.descendantCount)):($("#"+e.divElement.id+"-inferredDescendantCount").html(a.descendantCount),$("#"+e.divElement.id+"-statedDescendantCount").html(b.descendantCount))})}else $("#"+e.divElement.id+"-descendantInfor").hide();if(o){0!=$("#"+e.divElement.id+"-issues-collector").length&&$("#"+e.divElement.id+"-issues-collector").remove();var r=document.createElement("iframe");r.setAttribute("id",e.divElement.id+"-issues-collector"),r.setAttribute("style","width: 100%;position: fixed;height: 100%;z-index: 0;display: none;");var s=document.body.firstChild;s.parentNode.insertBefore(r,s);var p={firstMatch:j,divElementId:e.divElement.id,frameId:e.divElement.id+"-issues-collector"},t=JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/jira-issues-collector.hbs"](p),u=new Blob([t],{type:"text/html"});r.src=URL.createObjectURL(u),$("#"+e.divElement.id+"-addsyn-sctid-details").click(function(a){a.preventDefault();var b=$("#"+e.divElement.id+"-issues-collector");if(b){$(b[0]).css({"z-index":"10000",display:"block"});(b[0].contentWindow||b[0].contentDocument).openJiraIssueCollectorDialog()}})}$("#share-link-"+e.divElement.id).disableTextSelect(),$("#share-link-"+e.divElement.id).click(function(a){setTimeout(function(){$("#share-field-"+e.divElement.id).select()},300)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_fav",function(a,b){var c=stringToArray(localStorage.getItem("favs")),d=!1;return c?($.each(c,function(b,c){c==a&&(d=!0)}),d?b.fn(this):b.inverse(this)):b.inverse(this)});var p={panel:e,firstMatch:j,divElementId:e.divElement.id,link:document.URL.split("?")[0].split("#")[0]+"?perspective=full&conceptId1="+j.conceptId+"&edition="+e.options.edition+"&release="+e.options.release+"&languages="+e.options.languages,server:e.server};$("#home-attributes-"+e.divElement.id).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/attributes.hbs"](p));var v="?perspective=full&conceptId1="+j.conceptId+"&edition="+c.edition+"&release="+c.release+"&languages="+c.languages;manualStateChange=!1;var w={name:j.defaultTerm,conceptId:j.conceptId,url:v};History.pushState(w,"SNOMED CT - "+j.defaultTerm,v),$(".glyphicon-star-empty").click(function(a){var b={module:j.module,conceptId:j.conceptId,defaultTerm:j.defaultTerm,definitionStatus:j.definitionStatus};if($(a.target).hasClass("glyphicon-star")){var c=stringToArray(localStorage.getItem("favs")),d=[];$.each(c,function(b,c){c!=$(a.target).attr("data-conceptId")&&d.push(c)}),localStorage.setItem("favs",d),localStorage.removeItem("conceptId:"+$(a.target).attr("data-conceptId")),$(a.target).addClass("glyphicon-star-empty"),$(a.target).removeClass("glyphicon-star")}else{var c=stringToArray(localStorage.getItem("favs")),d=[];c?($.each(c,function(b,c){c!=$(a.target).attr("data-conceptId")&&d.push(c)}),d.push($(a.target).attr("data-conceptId")),localStorage.setItem("favs",d),localStorage.setItem("conceptId:"+$(a.target).attr("data-conceptId"),JSON.stringify(b))):(c=[],c.push($(a.target).attr("data-conceptId")),localStorage.setItem("favs",c),localStorage.setItem("conceptId:"+$(a.target).attr("data-conceptId"),JSON.stringify(b))),$(a.target).addClass("glyphicon-star"),$(a.target).removeClass("glyphicon-star-empty")}channel.publish("favsAction")}),e.clipboard&&e.clipboard.destroy(),e.clipboard=new Clipboard(".clip-btn"),e.clipboard.on("success",function(a){alertEvent("Copied!","info"),a.clearSelection()}),e.clipboard.on("error",function(a){console.log("Error!"),alertEvent("Error","error")}),document.addEventListener("copy",h,!1),$(".glyphicon-star").click(function(a){var b={module:j.module,conceptId:j.conceptId,defaultTerm:j.defaultTerm};if($(a.target).hasClass("glyphicon-star")){var c=stringToArray(localStorage.getItem("favs")),d=[];$.each(c,function(b,c){c!=$(a.target).attr("data-conceptId")&&d.push(c)}),localStorage.setItem("favs",d),localStorage.removeItem("conceptId:"+$(a.target).attr("data-conceptId")),$(a.target).addClass("glyphicon-star-empty"),$(a.target).removeClass("glyphicon-star")}else{var c=stringToArray(localStorage.getItem("favs")),d=[];c?($.each(c,function(b,c){c!=$(a.target).attr("data-conceptId")&&d.push(c)}),d.push($(a.target).attr("data-conceptId")),localStorage.setItem("favs",d),localStorage.setItem("conceptId:"+$(a.target).attr("data-conceptId"),JSON.stringify(b))):(c=[],c.push($(a.target).attr("data-conceptId")),localStorage.setItem("favs",c),localStorage.setItem("conceptId:"+$(a.target).attr("data-conceptId"),JSON.stringify(b))),$(a.target).addClass("glyphicon-star"),$(a.target).removeClass("glyphicon-star-empty")}channel.publish("favsAction")}),j.active?$("#home-attributes-"+e.divElement.id).css("background-color","#428bca"):$("#home-attributes-"+e.divElement.id).css("background-color","LightPink"),$("#"+e.divElement.id+"-expandButton").is(":visible")&&$("#"+e.divElement.id+"-panelTitle").html("&nbsp;&nbsp;&nbsp;<strong>Concept Details: "+e.defaultTerm+"</strong>"),"undefined"==typeof i18n_drag_this&&(i18n_drag_this="Drag this"),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)}),e.descsPId=a.id+"-descriptions-panel";var x=function(a){var b="";if(a.descriptions.sort(function(a,b){return a.lang==c.defaultLanguage&&b.lang!=c.defaultLanguage?-1:a.lang!=c.defaultLanguage&&b.lang==c.defaultLanguage?1:0}),e.options.langRefset&&e.options.langRefset.length>0)$.each(e.options.langRefset,function(c,f){var g=a.descriptions.slice(0),h="";$.each(g,function(a,b){b.included=!1,b.preferred=!1,b.acceptable=!1,(e.options.displayInactiveDescriptions||1==b.active)&&1==b.active&&(""!=h&&(h+="<br>"),h=h+"&nbsp;&nbsp;<i>"+b.lang+"</i>&nbsp;&nbsp;&nbsp;"+b.term)}),Handlebars.registerHelper("removeSemtag",function(a){return e.removeSemtag(a)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)});var i=[];$.each(g,function(a,b){var c=!1;b.acceptabilityMap&&$.each(b.acceptabilityMap,function(d,e){d===f&&(c=!0,acceptabilityPair=b.acceptabilityMap[a],"PREFERRED"==e?b.preferred=!0:"ACCEPTABLE"==e&&(b.acceptable=!0))}),c?e.options.displayInactiveDescriptions?i.push(b):b.active&&i.push(b):(b.acceptable=!1,e.options.hideNotAcceptable?e.options.displayInactiveDescriptions&&i.push(b):e.options.displayInactiveDescriptions?i.push(b):b.active&&i.push(b))}),g=i.slice(0),g.sort(function(a,b){if(a.active&&!b.active)return-1;if(!a.active&&b.active)return 1;if(a.active==b.active){if((a.acceptable||a.preferred)&&!b.preferred&&!b.acceptable)return-1;if(!a.preferred&&!a.acceptable&&(b.acceptable||b.preferred))return 1;if(a.typeId<b.typeId)return-1;if(a.typeId>b.typeId)return 1;if(a.typeId==b.typeId){if(a.preferred&&!b.preferred)return-1;if(!a.preferred&&b.preferred)return 1;if(a.preferred==b.preferred){if(a.term<b.term)return-1;if(a.term>b.term)return 1}}}return 0});var j={options:e.options,languageName:"("+d[f]+")",longLangName:e.removeSemtag(e.options.languageRefsets.filter(function(a){return a.id==f})[0].fsn.term),divElementId:e.divElement.id,server:e.server,allDescriptions:g};0!=g.length&&(b+=JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs"](j)),$("#home-descriptions-"+e.divElement.id).html(h)});else for(var f in c.languageObject){var g=a.descriptions.slice(0),h="";$.each(g,function(a,b){b.included=!1,b.preferred=!1,b.acceptable=!1,(e.options.displayInactiveDescriptions||1==b.active)&&1==b.active&&(""!=h&&(h+="<br>"),h=h+"&nbsp;&nbsp;<i>"+b.lang+"</i>&nbsp;&nbsp;&nbsp;"+b.term)}),Handlebars.registerHelper("removeSemtag",function(a){return e.removeSemtag(a)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)});var i=[];$.each(g,function(a,b){var d=!1;b.lang===f&&(d=!0),b.acceptabilityMap&&$.each(b.acceptabilityMap,function(c,d){acceptabilityPair=b.acceptabilityMap[a],"PREFERRED"==d?b.preferred=!0:"ACCEPTABLE"==d&&(b.acceptable=!0)}),d?e.options.displayInactiveDescriptions?i.push(b):b.active&&i.push(b):(b.acceptable=!1,e.options.hideNotAcceptable?e.options.displayInactiveDescriptions&&i.push(b):c.displayInactiveDescriptions?i.push(b):b.active&&i.push(b))}),g=i.slice(0),g.sort(function(a,b){if(a.active&&!b.active)return-1;if(!a.active&&b.active)return 1;if(a.active==b.active){if((a.acceptable||a.preferred)&&!b.preferred&&!b.acceptable)return-1;if(!a.preferred&&!a.acceptable&&(b.acceptable||b.preferred))return 1;if(a.typeId<b.typeId)return-1;if(a.typeId>b.typeId)return 1;if(a.typeId==b.typeId){if(a.preferred&&!b.preferred)return-1;if(!a.preferred&&b.preferred)return 1;if(a.preferred==b.preferred){if(a.term<b.term)return-1;if(a.term>b.term)return 1}}}return 0});var j={options:e.options,languageName:"("+f+")",longLangName:e.options.languagesArray[f],divElementId:e.divElement.id,server:e.server,allDescriptions:g};b+=JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs"](j),$("#home-descriptions-"+e.divElement.id).html(h)}$("#"+e.descsPId).html(b),1!=e.options.displaySynonyms&&($("#"+e.descsPId).find(".synonym-row").each(function(a,b){$(b).toggle()}),$(this).toggleClass("glyphicon-plus"),$(this).toggleClass("glyphicon-minus")),$("#"+e.descsPId+"-descButton").disableTextSelect(),$("#"+e.descsPId+"-descButton").click(function(){table=$(this).closest("table").first(),$(this).toggleClass("glyphicon-plus"),$(this).toggleClass("glyphicon-minus"),table.find(".synonym-row").each(function(a,b){$(b).toggle()})}),$("#"+e.descsPId).find("[rel=tooltip-right]").tooltip({placement:"right"})};if(e.options.languageRefsets&&0!==e.options.languageRefsets.length)x(j);else{var q=c.edition;c.release.length>0&&"None"!==c.release&&(q=q+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),$.getJSON(c.serverUrl+"/browser/"+q+"/members?active=true&limit=1",function(a){}).done(function(a){e.options.languageRefsets=[],e.options.langRefset=[],Object.keys(a.referenceSets).forEach(function(b){"900000000000506000"===a.referenceSets[b].referenceSetType.id&&e.options.languageRefsets.push(a.referenceSets[b])}),e.options.languageRefsets.sort(function(a,b){return"900000000000509007"===a.conceptId?-1:"900000000000509007"===b.conceptId?1:a.fsn.term.localeCompare(b.fsn.term)}),e.options.defaultLanguageReferenceSets&&e.options.defaultLanguageReferenceSets.length>0?e.options.langRefset=e.options.defaultLanguageReferenceSets:e.options.languageRefsets.forEach(function(a){e.options.langRefset.push(a.id)}),x(j),$("#"+e.divElement.id+"-configButton").removeAttr("disabled"),e.setupOptionsPanel()}).fail(function(){x(j),$("#"+e.divElement.id+"-configButton").removeAttr("disabled"),e.setupOptionsPanel()})}"stated"==e.options.selectedView?($("#home-"+e.divElement.id+"-stated-button").unbind(),$("#home-"+e.divElement.id+"-inferred-button").unbind(),$("#details-"+e.divElement.id+"-stated-button").unbind(),$("#details-"+e.divElement.id+"-inferred-button").unbind(),$("#home-"+e.divElement.id+"-stated-button").addClass("btn-primary"),$("#home-"+e.divElement.id+"-stated-button").removeClass("btn-default"),$("#home-"+e.divElement.id+"-inferred-button").addClass("btn-default"),$("#home-"+e.divElement.id+"-inferred-button").removeClass("btn-primary"),$("#details-"+e.divElement.id+"-stated-button").addClass("btn-primary"),$("#details-"+e.divElement.id+"-stated-button").removeClass("btn-default"),$("#details-"+e.divElement.id+"-inferred-button").addClass("btn-default"),$("#details-"+e.divElement.id+"-inferred-button").removeClass("btn-primary"),$("#home-"+e.divElement.id+"-inferred-button").click(function(a){e.options.selectedView="inferred",e.setupOptionsPanel(),e.updateCanvas()})):($("#home-"+e.divElement.id+"-stated-button").unbind(),$("#home-"+e.divElement.id+"-inferred-button").unbind(),$("#home-"+e.divElement.id+"-inferred-button").addClass("btn-primary"),$("#home-"+e.divElement.id+"-inferred-button").removeClass("btn-default"),$("#home-"+e.divElement.id+"-stated-button").addClass("btn-default"),$("#home-"+e.divElement.id+"-stated-button").removeClass("btn-primary"),$("#details-"+e.divElement.id+"-stated-button").unbind(),$("#details-"+e.divElement.id+"-inferred-button").unbind(),$("#details-"+e.divElement.id+"-inferred-button").addClass("btn-primary"),$("#details-"+e.divElement.id+"-inferred-button").removeClass("btn-default"),$("#details-"+e.divElement.id+"-stated-button").addClass("btn-default"),$("#details-"+e.divElement.id+"-stated-button").removeClass("btn-primary"),$("#home-"+e.divElement.id+"-stated-button").click(function(a){e.options.selectedView="stated",e.setupOptionsPanel(),e.updateCanvas()})),e.relsPId=a.id+"-rels-panel",j.relationships&&j.relationships.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),j.statedRelationships&&(j.statedRelationships.forEach(function(a){1==a.active&&(j.statedActive="true")}),j.statedRelationships.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0})),Handlebars.registerHelper("push",function(a,b){b.push(a)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a)return a>b?c.fn(this):c.inverse(this)});var y;j.additionalRelationships&&$.each(j.additionalRelationships,function(a,b){b.active&&(void 0===y&&(y=[]),y.push(b))});var p={options:e.options,firstMatch:j,inferredParents:e.inferredParents,inferredRoles:e.inferredRoles,statedParents:e.statedParents,statedRoles:e.statedRoles,additionalRels:y,statedParentsFromAxioms:e.statedParentsFromAxioms,attributesFromAxioms:e.attributesFromAxioms,totalStatedAxioms:(j.classAxioms?j.classAxioms.length:0)+(j.gciAxioms?j.gciAxioms.length:0)};$("#"+e.relsPId).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/rels-panel.hbs"](p)),e.inferredParents.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),e.statedParents.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),e.statedParentsFromAxioms.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),e.attributesFromAxioms.sort(function(a,b){return a.target.axiomId<b.target.axiomId?-1:a.target.axiomId>b.target.axiomId?1:0}),e.inferredRoles.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),e.statedRoles.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),Handlebars.registerHelper("substr",function(a,b){var c=a.lastIndexOf("(")-1;return a.substr(b,c)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a){return a.lastIndexOf("(")>b?c.fn(this):c.inverse(this)}}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),$(".treeButton").disableTextSelect(),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)}),Handlebars.registerHelper("eqLastGroup",function(a,b){return null==e.lastGroup?(e.lastGroup=a,b.fn(this)):a!=e.lastGroup?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("removeSemtag",function(a){return e.removeSemtag(a)}),Handlebars.registerHelper("setLastGroup",function(a){e.lastGroup=a}),Handlebars.registerHelper("lastColor",function(a){if("get"==a)return"";e.color="random"==a?getRandomColor():a}),Handlebars.registerHelper("getRandomColor",function(){return""});var p={options:e.options,statedRoles:e.statedRoles,inferredRoles:e.inferredRoles,firstMatch:j,statedParentsFromAxioms:e.statedParentsFromAxioms,attributesFromAxioms:e.attributesFromAxioms};if($("#home-roles-"+e.divElement.id).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/roles.hbs"](p)),e.options.diagrammingMarkupEnabled||$("#home-roles-"+e.divElement.id).html(e.stripDiagrammingMarkup($("#home-roles-"+e.divElement.id).html())),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("refset",function(a,b,c){if("get"==b)return e.refset[a]?c.fn(this):c.inverse(this);e.refset[a]=b}),null!=k&&(k.abort(),k=null),k=$.getJSON(c.serverUrl+"/"+c.edition+"/"+(c.release&&"None"!==c.release?c.release+"/":"")+"members?referencedComponentId="+j.conceptId+"&active=true",function(a){}).done(function(a){var b=[],d=[],f=[],g=[],h=[];if(a.total>0){var i=function(a,b){var c={};return c.active=a.active,c.refsetId=a.refsetId,c.otherValue=a.additionalFields[b],c};a.items.forEach(function(a){if(0===Object.keys(a.additionalFields).length){var c={};c.active=a.active,c.refsetId=a.refsetId,b.push(c),h.push(a.refsetId)}else if(a.additionalFields.hasOwnProperty("mapTarget")){var c=i(a,"mapTarget");d.push(c),h.push(a.refsetId)}else if(a.additionalFields.hasOwnProperty("valueId")){var c=i(a,"valueId");f.push(c),h.push(a.refsetId),h.push(c.otherValue)}else if(a.additionalFields.hasOwnProperty("targetComponent")||a.additionalFields.hasOwnProperty("targetComponentId")){var c={};c.active=a.active,c.refsetId=a.refsetId,a.additionalFields.hasOwnProperty("targetComponent")?c.otherValue=a.additionalFields.targetComponent.id:c.otherValue=a.additionalFields.targetComponentId,g.push(c),h.push(a.refsetId),h.push(c.otherValue)}})}if(h.length>0){Handlebars.registerHelper("if_not_empty",function(a,b){if(a)return a.length>0?b.fn(this):b.inverse(this)});var k=function(a){for(var b=$.Deferred(),d={concepts:[]},e=0;e<a.length;e++)$.getJSON(c.serverUrl+"/browser/"+c.edition+"/"+(c.release&&"None"!==c.release?c.release+"/":"")+"concepts/"+a[e],function(a){}).done(function(c){d.concepts.push(c),d.concepts.length===a.length&&b.resolve(d)}).fail(function(a,b,c){});return b.promise()};$.when(k(h)).then(function(a){var c=function(a,b,c){"simple"===b||"simplemap"===b?a.forEach(function(a){var b=c[a.refsetId];a.definitionStatus=b.definitionStatus,a.defaultTerm=b.pt?b.pt.term:b.fsn.term,a.module=b.moduleId,a.effectiveTime=b.effectiveTime,a.conceptId=b.conceptId}):"attr"!==b&&"assoc"!==b||a.forEach(function(a){var b=c[a.refsetId];a.definitionStatus=b.definitionStatus,a.defaultTerm=b.pt?b.pt.term:b.fsn.term,a.module=b.moduleId,a.effectiveTime=b.effectiveTime,a.conceptId=b.conceptId;var d=c[a.otherValue],e={};e.module=d.moduleId,e.defaultTerm=d.pt?d.pt.term:d.fsn.term,e.conceptId=d.conceptId,e.definitionStatus=d.definitionStatus,a.cidValue=e})},h={};a.concepts.forEach(function(a){h[a.conceptId]=a}),c(b,"simple",h),c(d,"simplemap",h),c(f,"attr",h),c(g,"assoc",h);var i={firstMatch:j,simpleRefsetMembers:b,simpleMapRefsetMembers:d,attributeValueRefsetMembers:f,associationRefsetMembers:g};$("#refsets-"+e.divElement.id).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/refset.hbs"](i))},function(a){})}else{var l={firstMatch:j,simpleRefsetMembers:[],simpleMapRefsetMembers:[],attributeValueRefsetMembers:[],associationRefsetMembers:[]};$("#refsets-"+e.divElement.id).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/refset.hbs"](l))}}).fail(function(){$("#refsets-"+e.divElement.id).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")}),"references-tab"==$("ul#details-tabs-"+e.divElement.id+" li.active").attr("id")&&($("#references-"+e.divElement.id+"-resultsTable").html(""),e.getReferences(j.conceptId)),"diagram-tab"==$("ul#details-tabs-"+e.divElement.id+" li.active").attr("id")&&drawConceptDiagram(j,$("#diagram-canvas-"+e.divElement.id),e.options,e),"expression-tab"==$("ul#details-tabs-"+e.divElement.id+" li.active").attr("id")&&($("#expression-canvas-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),setTimeout(function(){renderExpression(j,j,$("#expression-canvas-"+e.divElement.id),c)},300)),$("#references-tab-link-"+e.divElement.id).unbind(),$("#references-tab-link-"+e.divElement.id).click(function(a){$("#references-"+e.divElement.id+"-resultsTable").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),e.getReferences(j.conceptId)}),$("#diagram-tab-link-"+e.divElement.id).unbind(),$("#diagram-tab-link-"+e.divElement.id).click(function(a){$("#diagram-canvas-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),drawConceptDiagram(j,$("#diagram-canvas-"+e.divElement.id),e.options,e)}),$("#expression-tab-link-"+e.divElement.id).unbind(),$("#expression-tab-link-"+e.divElement.id).click(function(a){$("#expression-canvas-"+e.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),renderExpression(j,j,$("#expression-canvas-"+e.divElement.id),c)}),j.defaultTerm.endsWith("(clinical drug)")){$("#product-details-tab").show();var z={defaultTerm:j.defaultTerm,forms:[],groups:{},ingredients:[]};j.relationships.forEach(function(a){"411116001"==a.type.conceptId&&a.active?z.forms.push(a):a.active&&0!=a.groupId&&(void 0===z.groups[a.groupId]&&(z.groups[a.groupId]=[]),z.groups[a.groupId].push(a))}),Object.keys(z.groups).forEach(function(a){var b=z.groups[a],c={};b.forEach(function(a){"127489000"==a.type.conceptId?c.ingredient=a.target:"732946004"==a.type.conceptId?c.denominatorValue=a.target:"732944001"==a.type.conceptId?c.numeratorValue=a.target:"732943007"==a.type.conceptId?c.boss=a.target:"732947008"==a.type.conceptId?c.denominatorUnit=a.target:"732945000"==a.type.conceptId&&(c.numeratorUnit=a.target)}),z.ingredients.push(c)}),console.log(z);var p={productData:z};$("#product-details-"+e.divElement.id).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/product.hbs"](p))}else $("#product-details-tab").hasClass("active")&&$("#details-tabs-"+e.divElement.id+" a:first").tab("show"),$("#product-details-tab").hide();$(".more-fields-button").disableTextSelect(),$(".more-fields-button").popover(),navigator.userAgent.indexOf("Firefox")>-1&&($(".more-fields-button").optionsPopover({contents:"",disableBackButton:!0}),$(".more-fields-button").click(function(a){var b=$(a.target).attr("data-content");$("#popoverContent").html(b)})),"stated"==e.options.selectedView?$("#"+e.relsPId).find(".inferred-rel").each(function(a,b){$(b).toggle()}):"inferred"==e.options.selectedView?$("#"+e.relsPId).find(".stated-rel").each(function(a,b){$(b).toggle()}):e.options.selectedView,$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)}),"function"==typeof switchLanguage&&switchLanguage(selectedLanguage,selectedFlag,!1),l=0}).fail(function(b,c,d){"abort"!==c&&(e.relsPId=a.id+"-rels-panel",e.attributesPId=a.id+"-attributes-panel",e.descsPId=a.id+"-descriptions-panel",$("#home-"+e.divElement.id).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#diagram-"+e.divElement.id).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#members-"+e.divElement.id).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#references-"+e.divElement.id).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#refsets-"+e.divElement.id).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#"+e.attributesPId).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#"+e.descsPId).html(""),$("#"+e.relsPId).html(""))}),e.options.displayChildren);var b=c.edition;c.release.length>0&&"None"!==c.release&&(b=b+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),null!=i&&(i.abort(),i=null),i=$.getJSON(c.serverUrl+"/browser/"+b+"/concepts/"+e.conceptId+"/parents?form="+e.options.selectedView,function(a){}).done(function(a){a.forEach(function(a){a.pt&&a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=a.pt.term:a.defaultTerm=a.fsn.term}),a.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var b={divElementId:e.divElement.id,statedParents:"stated"===e.options.selectedView?a:[],inferredParents:"inferred"===e.options.selectedView?a:[],options:e.options};$("#home-parents-"+e.divElement.id).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/parents.hbs"](b)),e.options.diagrammingMarkupEnabled||$("#home-parents-"+e.divElement.id).html(e.stripDiagrammingMarkup($("#home-parents-"+e.divElement.id).html())),$("#home-parents-"+e.divElement.id).unbind(),$("#home-parents-"+e.divElement.id).click(function(a){if($(a.target).hasClass("treeButton")){var b=a.target;navigator.userAgent.indexOf("Firefox")>-1&&(b=$(b).context.children);var c=$(b).closest("li").attr("data-concept-id");a.preventDefault(),$(b).hasClass("glyphicon-chevron-up")?($(b).closest("li").find("ul").remove(),$(b).removeClass("glyphicon-chevron-up"),$(b).addClass("glyphicon-chevron-right")):$(b).hasClass("glyphicon-chevron-right")?($(b).removeClass("glyphicon-chevron-right"),$(b).addClass("glyphicon-refresh"),$(b).addClass("icon-spin"),e.getParent(c,b)):$(b).hasClass("glyphicon-minus")}else if($(a.target).hasClass("treeLabel")){var d=$(a.target).attr("data-concept-id");void 0!==d&&channel.publish(e.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:d,source:e.divElement.id})}}),$("#home-parents-"+e.divElement.id).dblclick(function(a){var b=$(a.target).closest("li").attr("data-concept-id");e.conceptId=b,e.updateCanvas(),channel.publish(e.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:b,source:e.divElement.id})})}),null!=g&&(g.abort(),g=null),g=$.getJSON(c.serverUrl+"/browser/"+b+"/concepts/"+e.conceptId+"/children?form="+e.options.selectedView+"&includeDescendantCount=true",function(a){}).done(function(b){b.forEach(function(a){a.pt&&a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=a.pt.term:a.defaultTerm=a.fsn.term}),b.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a)return a>b?c.fn(this):c.inverse(this)}),g=null,e.childrenPId=a.id+"-children-panel";var d={displayChildren:e.options.displayChildren,divElementId:e.divElement.id,server:e.server,childrenResult:b,selectedView:e.options.selectedView};$("#home-children-cant-"+e.divElement.id).html("("+b.length+")"),$("#"+e.childrenPId).html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/children-panel.hbs"](d)),$("#home-children-"+e.divElement.id+"-body").html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/children.hbs"](d)),$(".treeButton").disableTextSelect(),"undefined"==typeof i18n_drag_this&&(i18n_drag_this="Drag this"),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)}),$("#home-children-"+e.divElement.id+"-body").unbind(),$("#home-children-"+e.divElement.id+"-body").click(function(a){if($(a.target).hasClass("treeButton")){var b=$(a.target).closest("li").attr("data-concept-id"),c=e.divElement.id+"-treeicon-"+b;a.preventDefault(),$("#"+c).hasClass("glyphicon-chevron-down")?($(a.target).closest("li").find("ul").remove(),$("#"+c).removeClass("glyphicon-chevron-down"),$("#"+c).addClass("glyphicon-chevron-right")):$("#"+c).hasClass("glyphicon-chevron-right")?($("#"+c).removeClass("glyphicon-chevron-right"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),e.getChildren($(a.target).closest("li").attr("data-concept-id"),!0)):$("#"+c).hasClass("glyphicon-minus")}else if($(a.target).hasClass("treeLabel")){var d=$(a.target).attr("data-concept-id");void 0!==d&&channel.publish(e.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:d,source:e.divElement.id})}}),$("#home-children-"+e.divElement.id+"-body").dblclick(function(a){var b=$(a.target).closest("li").attr("data-concept-id");e.conceptId=b,e.updateCanvas(),channel.publish(e.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:b,source:e.divElement.id})}),"undefined"==typeof i18n_display_children&&(i18n_display_children="Display Children"),$("#"+e.divElement.id+"-showChildren").tooltip({placement:"right",trigger:"hover",title:i18n_display_children,animation:!0,delay:500}),$("#"+e.divElement.id+"-showChildren").click(function(){e.options.displayChildren=!0,e.updateCanvas()})}).fail(function(){$("#"+e.childrenPId).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")}),e.loadMembers(100,0)}},this.getReferences=function(a){$("#references-"+e.divElement.id+"-accordion").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),null!=h&&(h.abort(),h=null);var b=c.edition;c.release.length>0&&"None"!==c.release&&(b=b+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),h=$.getJSON(c.serverUrl+"/"+b+"/concepts/"+a+"/references?stated="+("stated"===e.options.selectedView)+"&offset=0&limit=10000",function(a){}).done(function(a){Handlebars.registerHelper("if_gr",function(a,b,c){if(a)return a>b?c.fn(this):c.inverse(this)}),a.referencesByType.sort(function(a,b){return a.referenceType.fsn.term>b.referenceType.fsn.term?1:a.referenceType.fsn.term<b.referenceType.fsn.term?-1:0}),a.referencesByType.forEach(function(a){a.referencingConcepts.sort(function(a,b){return a.fsn.term>b.fsn.term?1:a.fsn.term<b.fsn.term?-1:0})});var b={divElementId:e.divElement.id,server:e.server,result:a};$("#references-"+e.divElement.id+"-accordion").html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/references.hbs"](b)),$("#references-"+e.divElement.id+"-accordion").click(function(a){if($($(a.target).closest("a").attr("href")).hasClass("collapse")){var b=$($(a.target).closest("a").attr("href")+"-span");b.hasClass("glyphicon-chevron-right")?(b.removeClass("glyphicon-chevron-right"),b.addClass("glyphicon-chevron-down")):(b.addClass("glyphicon-chevron-right"),b.removeClass("glyphicon-chevron-down"))}})}).fail(function(){$("#references-"+e.divElement.id+"-accordion").html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")})},this.getChildren=function(a,b){void 0===e.options.selectedView&&(e.options.selectedView="inferred"),"inferred"==e.options.selectedView?$("#"+e.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"):$("#"+e.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),null!=g&&g.abort();var d=c.edition;c.release.length>0&&"None"!==c.release&&(d=d+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),g=$.getJSON(c.serverUrl+"/browser/"+d+"/concepts/"+a+"/children?form="+e.options.selectedView,function(a){}).done(function(d){d.forEach(function(a){a.pt&&a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=a.pt.term:a.defaultTerm=a.fsn.term}),d.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0});var f=[],g={displayChildren:e.options.displayChildren,childrenResult:d,divElementId:e.divElement.id,server:e.server,selectedView:e.options.selectedView};void 0!==b&&b&&(g.displayChildren=b),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("push",function(a){f.push(a)}),$("#"+e.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+e.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),d.length>0?$("#"+e.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-down"):$("#"+e.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus"),$("#"+e.divElement.id+"-treenode-"+a).closest("li").append(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/children.hbs"](g)),$(".treeButton").disableTextSelect(),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)})}).fail(function(){$("#"+e.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+e.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+e.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus")})},this.getParent=function(a,b){null!=i&&i.abort();var d=""+c.edition;c.release.length>0&&"None"!==c.release&&(d=d+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),i=$.getJSON(c.serverUrl+"/browser/"+d+"/concepts/"+a+"/parents?form="+e.options.selectedView,function(a){}).done(function(a){a.forEach(function(a){a.pt&&a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=a.pt.term:a.defaultTerm=a.fsn.term}),a.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0});var d="",f=$(b).attr("data-ind");a.length>0&&(d=$(b).attr("data-firstt")?"<ul style='margin-left: 95px; list-style-type: none; padding-left: 15px'>":"<ul style='list-style-type: none; padding-left: 15px'>",$.each(a,function(a,b){d=d+"<li class='treeLabel' data-module='"+b.moduleId+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'><button class='btn btn-link btn-xs treeButton' style='padding:2px'>",d="138875005"==b.conceptId||"9999999999"==b.conceptId?d+"<i class='glyphicon glyphicon-minus treeButton' data-ind='"+f+"'></i></button>":d+"<i class='glyphicon glyphicon-chevron-right treeButton' data-ind='"+f+"'></i></button>",d="PRIMITIVE"==b.definitionStatus?d+"<span class='badge alert-warning' draggable='true' ondragstart='drag(event)' data-module='"+b.moduleId+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'>&nbsp;&nbsp;</span>&nbsp;&nbsp":d+"<span class='badge alert-warning' draggable='true' ondragstart='drag(event)' data-module='"+b.moduleId+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'>&equiv;</span>&nbsp;&nbsp",countryIcons[b.moduleId]&&(d=d+"<div class='phoca-flagbox' style='width:26px;height:26px'><span class='phoca-flag "+countryIcons[b.moduleId]+"'></span></div>&nbsp"),d=d+"<a id='"+f+e.divElement.id+"-treeicon-"+b.conceptId+"' href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'>",d=d+"<span class='treeLabel selectable-row' data-module='"+b.moduleId+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'>"+b.defaultTerm+"</span></a></li>"}),d+="</ul>"),$(b).removeClass("glyphicon-refresh"),$(b).removeClass("icon-spin"),a.length>0?$(b).addClass("glyphicon-chevron-up"):$(b).addClass("glyphicon-minus"),$(b).closest("li").prepend(d),$(".treeButton").disableTextSelect(),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)})}).fail(function(){})},this.loadMembers=function(a,b,d){var f=c.edition;c.release.length>0&&"None"!==c.release&&(f=f+"/"+c.release);var g=c.serverUrl+"/"+f+"/members?referenceSet="+e.conceptId+"&limit=100";b>0?g=g+"&offset="+b:$("#members-"+e.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><i class='glyphicon glyphicon-refresh icon-spin'></i></td></tr>");var h;void 0!==h&&(d=1,g+="&paginate=1"),null!=j&&(j.abort(),j=null),j=$.getJSON(g,function(a){}).done(function(c){var f="asd";if(void 0===h&&(h=c.total),(f=h==b?0:h>b+a?h-(b+a):0)<a)var g=f;else if(0!=f)var g=a;else var g=0;var i=!1;c.items&&c.items.length>0&&c.items.forEach(function(a){if(!a.hasOwnProperty("referencedComponent"))return void(i=!0)});var j={};j=i?{result:{items:[]},divElementId:e.divElement.id,server:e.server,total:h,skipTo:0,referenceComponentsOfRefsetAreNotConcepts:!0}:{result:c,returnLimit:g,remaining:f,divElementId:e.divElement.id,server:e.server,skipTo:b,panel:e,total:h,referenceComponentsOfRefsetAreNotConcepts:!1},Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a)return a>b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),0!=c.total?($("#"+e.divElement.id+"-moreMembers").remove(),$("#members-"+e.divElement.id+"-resultsTable").find(".more-row").remove(),0==b?$("#members-"+e.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/members.hbs"](j)):$("#members-"+e.divElement.id+"-resultsTable").append(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/members.hbs"](j)),$("#"+e.divElement.id+"-moreMembers").click(function(){$("#"+e.divElement.id+"-moreMembers").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),e.loadMembers(g,b+a,d)}),$("#members-"+e.divElement.id+"-sort").unbind(),$("#members-"+e.divElement.id+"-sort").click(function(){$("#members-"+e.divElement.id+"-sort").blur(),e.loadMembers(a,0,1)})):0!=b?($("#"+e.divElement.id+"-moreMembers").remove(),$("#members-"+e.divElement.id+"-resultsTable").find(".more-row").remove(),0==b?$("#members-"+e.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/members.hbs"](j)):$("#members-"+e.divElement.id+"-resultsTable").append(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/members.hbs"](j)),$("#"+e.divElement.id+"-moreMembers").click(function(){$("#"+e.divElement.id+"-moreMembers").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),e.loadMembers(g,b+a,d)}),$("#members-"+e.divElement.id+"-sort").unbind(),$("#members-"+e.divElement.id+"-sort").click(function(){$("#members-"+e.divElement.id+"-sort").blur(),e.loadMembers(a,0,1)})):$("#members-"+e.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><span data-i18n-id='i18n_no_members' class='i18n'>This concept has no members</span></td></tr>"),$("#members-"+e.divElement.id).find(".member-row").unbind(),$("#members-"+e.divElement.id).find(".member-row").click(function(a){var b=$(a.target).data("concept-id");e.conceptId=b,$("#details-tabs-"+e.divElement.id+" a:first").tab("show"),e.updateCanvas()})}).fail(function(){$("#members-"+e.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><span data-i18n-id='i18n_no_members' class='i18n'>This concept has no members</span></td></tr>")})},this.stripDiagrammingMarkup=function(a){return a||(a=""),a=a.replace(new RegExp(e.escapeRegExp("sct-primitive-concept-compact"),"g"),""),a=a.replace(new RegExp(e.escapeRegExp("sct-defined-concept-compact"),"g"),""),a=a.replace(new RegExp(e.escapeRegExp("sct-attribute-compact"),"g"),"")},this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.removeSemtag=function(a){if(a)return a.lastIndexOf("(")>0?a.substr(0,a.lastIndexOf("(")-1):a},this.loadMarkers=function(){var a="",b=0,c=0,d=!1,f=!1;$.each(componentsRegistry,function(a,b){var c=b.divElement.id;$("#"+c+"-subscribersMarker").is(":visible")&&(f=!0)}),0==e.subscribers.length?(b=14,$("#"+e.divElement.id+"-ownMarker").hide()):(f||$("#"+e.divElement.id+"-ownMarker").hide(),d=!0),$("#"+e.divElement.id+"-subscribersMarker").is(":visible")&&($("#"+e.divElement.id+"-panelTitle").html($("#"+e.divElement.id+"-panelTitle").html().replace(/&nbsp;/g,"")),d&&$("#"+e.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp&nbsp"+$("#"+e.divElement.id+"-panelTitle").html()),$.each(e.subscriptionsColor,function(d,f){a=a+"<i class='glyphicon glyphicon-bookmark' style='color: "+f+"; top:"+c+"px; right: "+b+"px;'></i>",$("#"+e.divElement.id+"-panelTitle").html("&nbsp&nbsp"+$("#"+e.divElement.id+"-panelTitle").html()),c+=5,b+=10}),$("#"+e.divElement.id+"-subscribersMarker").html(a))},this.subscribe=function(a){var b=a.divElement.id,c=!1;if($.each(e.subscriptionsColor,function(b,d){d==a.markerColor&&(c=!0)}),!c){var d=channel.subscribe(b,function(a,b){e.conceptId=a.conceptId,a.showConcept&&!$('a[href="#'+e.divElement.id+'-pane"]').parent().hasClass("active")&&$('a[href="#'+e.divElement.id+'-pane"]').click(),$("#home-children-"+e.divElement.id+"-body").length>0||(e.setupCanvas(),e.loadMarkers&&e.loadMarkers()),e.readOptionsPanel(),e.updateCanvas()});e.subscriptions.push(d),a.subscribers.push(e.divElement.id),e.subscriptionsColor.push(a.markerColor)}$("#"+e.divElement.id+"-subscribersMarker").show()},this.unsubscribe=function(a){var b=[],c=[],d=!0;$.each(e.subscriptionsColor,function(b,e){e!=a.markerColor?c.push(e):d=!1}),d||(e.subscriptionsColor=c,c=[],$.each(a.subscribers,function(a,c){c!=e.divElement.id&&b.push(c)}),a.subscribers=b,$.each(a.subscriptionsColor,function(a,b){c.push(b)}),0==a.subscribers.length&&0==a.subscriptions.length&&$("#"+a.divElement.id+"-subscribersMarker").hide(),a.subscriptionsColor=c,b=[],$.each(e.subscriptions,function(c,d){a.divElement.id==d.topic?d.unsubscribe():b.push(d)}),e.subscriptions=b,0==e.subscriptions.length&&0==e.subscribers.length&&$("#"+e.divElement.id+"-subscribersMarker").hide())},this.setupOptionsPanel=function(){var a={options:e.options,divElementId:e.divElement.id};Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("ifIn",function(a,b,c){return b.indexOf(a)>-1?c.fn(this):c.inverse(this)}),$("#"+e.divElement.id+"-modal-body").html(JST["snomed-interaction-components/views/conceptDetailsPlugin/options.hbs"](a))},this.readOptionsPanel=function(){e.options.displaySynonyms=$("#"+e.divElement.id+"-displaySynonymsOption").is(":checked"),e.options.showIds=$("#"+e.divElement.id+"-displayIdsOption").is(":checked"),e.options.displayChildren=$("#"+e.divElement.id+"-childrenOption").is(":checked"),e.options.hideNotAcceptable=$("#"+e.divElement.id+"-hideNotAcceptableOption").is(":checked"),e.options.displayInactiveDescriptions=$("#"+e.divElement.id+"-displayInactiveDescriptionsOption").is(":checked"),e.options.diagrammingMarkupEnabled=$("#"+e.divElement.id+"-diagrammingMarkupEnabledOption").is(":checked"),e.options.selectedView=$("#"+e.divElement.id+"-relsViewOption").val(),"undefined"!=typeof Storage&&(localStorage.setItem("conceptDetailOptions_displaySynonyms",e.options.displaySynonyms),localStorage.setItem("conceptDetailOptions_showIds",e.options.showIds),localStorage.setItem("conceptDetailOptions_displayInactiveDescriptions",e.options.displayInactiveDescriptions),localStorage.setItem("conceptDetailOptions_hideNotAcceptable",e.options.hideNotAcceptable),localStorage.setItem("conceptDetailOptions_diagrammingMarkupEnabled",e.options.diagrammingMarkupEnabled),localStorage.setItem("conceptDetailOptions_displayChildren",e.options.displayChildren),localStorage.setItem("conceptDetailOptions_selectedView",e.options.selectedView)),e.options.langRefset=[],$.each($("#"+e.divElement.id).find(".langOption"),function(a,b){$(b).is(":checked")&&e.options.langRefset.push($(b).val())}),$.each(componentsRegistry,function(a,b){b.loadMarkers&&b.loadMarkers()})}}function updateCD(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(d.conceptId=b,d.updateCanvas(),channel.publish(d.divElement.id,{term:d.term,conceptId:d.conceptId,module:d.module,source:d.divElement.id}))}),$(".history-button").popover("hide")}function getRandomColor(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;c<6;c++)b+=a[Math.round(15*Math.random())];return b}function drawConceptDiagram(a,b,c,d){var e=function(a){return a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.pt.term:a.fsn.term},f=function(a,b){for(var c=0;c<a.length;c++)if(a[c].referencedComponentId===b)return!0;return!1},g=function(a,b){var c=document.createElement("canvas");c.id="canvas",document.body.appendChild(c),canvg(document.getElementById("canvas"),a),Canvas2Image.saveAsPNG(c,null,null,"diagram-"+b),c.width=c.width},h=function(a,b,c,d){var h=[],i=[],j=[];"stated"==c.selectedView?($.each(a.statedRelationships,function(a,b){1==b.active&&(116680003==b.type.conceptId?h.push(b):i.push(b))}),$.each(a.classAxioms,function(a,b){var c={relationships:[],type:"add",definitionStatus:b.definitionStatus};$.each(b.relationships,function(a,b){b.type.conceptId,c.relationships.push(b)}),j.push(c)}),$.each(a.gciAxioms,function(a,b){var c={};c.relationships=[],c.type="gci",$.each(b.relationships,function(a,b){b.type.conceptId,c.relationships.push(b)}),j.push(c)})):a.relationships&&$.each(a.relationships,function(a,b){1==b.active&&(116680003==b.type.conceptId?h.push(b):i.push(b))});var k={divElementId:b.attr("id")};b.html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/diagram.hbs"](k));var l=$("#"+b.attr("id")+"-diagram-body"),m=350,n=700;$.each(h,function(a,b){m+=50,n+=80}),$.each(i,function(a,b){m+=65,n+=110}),"stated"===c.selectedView&&($.each(a.classAxioms,function(a,b){m+=40,n+=80,$.each(b.relationships,function(a,b){m+=55,n+=110})}),$.each(a.gciAxioms,function(a,b){m+=40,n+=80,$.each(b.relationships,function(a,b){m+=55,n+=110})})),l.svg({settings:{width:n+"px",height:m+"px"}});var o=l.svg("get");loadDefs(o);var p=10,q=10,r=10,s="";s="PRIMITIVE"==a.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var t={};$.each(a.descriptions,function(a,b){b.lang==c.defaultLanguage&&b.active&&$.each(b.acceptabilityMap,function(a,c){"PREFERRED"==c&&(t=b)})}),t.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=t.term:a.defaultTerm=a.fsn.term;var u=drawSctBox(o,p,q,a.defaultTerm,a.conceptId,s);if(p+=90,q=q+u.getBBox().height+40,"stated"===c.selectedView&&h&&h.length>0||"stated"!=c.selectedView){var v;v="PRIMITIVE"==a.definitionStatus?drawSubsumedByNode(o,p,q):drawEquivalentNode(o,p,q),connectElements(o,u,v,"bottom-50","left"),p+=55;var w=drawConjunctionNode(o,p,q);connectElements(o,v,w,"right","left","LineMarker"),p+=40,q-=18}h&&0!==h.length||(p+=20,q+=3),r=r<p?p:r,s="sct-defined-concept",$.each(h,function(a,b){s="PRIMITIVE"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(o,p,q,e(b.target),b.target.conceptId,s);connectElements(o,w,c,"center","left","ClearTriangle"),q=q+c.getBBox().height+25,r=r<p+c.getBBox().width+50?p+c.getBBox().width+50:r});var x=0;$.each(i,function(a,b){if(s="PRIMITIVE"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept",0==b.groupId)if(f(d,b.type.conceptId)){var c=drawSctBox(o,p,q,e(b.type),b.type.conceptId,"sct-attribute");connectElements(o,w,c,"center","left");var g=drawSctBox(o,p+c.getBBox().width+50,q,e(b.target),b.target.conceptId,s);connectElements(o,c,g,"right","left"),q=q+g.getBBox().height+25,r=r<p+c.getBBox().width+50+g.getBBox().width+50?p+c.getBBox().width+50+g.getBBox().width+50:r}else{q+=20;var h=drawAttributeGroupNode(o,p,q);connectElements(o,w,h,"center","left"),q-=20,p=p+h.getBBox().width+40;var c=drawSctBox(o,p,q,e(b.type),b.type.conceptId,"sct-attribute");connectElements(o,h,c,"right","left"),p=p+c.getBBox().width+50;var g=drawSctBox(o,p,q,e(b.target),b.target.conceptId,s);connectElements(o,c,g,"right","left"),p-=h.getBBox().width+c.getBBox().width+90,q=q+g.getBBox().height+25,r=r<p+20+h.getBBox().width+50+c.getBBox().width+50?p+c.getBBox().width+50+g.getBBox().width+50:r}else b.groupId>x&&(x=b.groupId)}),q+=15;for(var y=1;y<=x;y++){var z=drawAttributeGroupNode(o,p,q);connectElements(o,w,z,"center","left");var A=drawConjunctionNode(o,p+55,q);connectElements(o,z,A,"right","left"),$.each(i,function(a,b){if(b.groupId==y){s="PRIMITIVE"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(o,p+85,q-18,e(b.type),b.type.conceptId,"sct-attribute");connectElements(o,A,c,"center","left");var d=drawSctBox(o,p+85+c.getBBox().width+30,q-18,e(b.target),b.target.conceptId,s);connectElements(o,c,d,"right","left"),q=q+d.getBBox().height+25,r=r<p+85+c.getBBox().width+30+d.getBBox().width+50?p+85+c.getBBox().width+30+d.getBBox().width+50:r}})}$.each(j,function(a,b){console.log(b),p=100,q-=3;var c;"gci"===b.type?c=drawSubsumesNode(o,p,q):"gci"!==b.type&&"FULLY_DEFINED"===b.definitionStatus?c=drawEquivalentNode(o,p,q):(console.log("drawing 2"),c=drawSubsumedByNode(o,p,q)),connectElements(o,u,c,"bottom-50","left"),p+=55;var g=drawConjunctionNode(o,p,q);connectElements(o,c,g,"right","left","LineMarker"),p+=40,q-=18,r=r<p?p:r;var h=0;$.each(b.relationships,function(a,b){if(console.log("here"),"116680003"===b.type.conceptId){s="PRIMITIVE"===b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(o,p,q,e(b.target),b.target.conceptId,s);connectElements(o,g,c,"center","left","ClearTriangle"),q=q+c.getBBox().height+25,r=r<p+c.getBBox().width+50?p+c.getBBox().width+50:r}else if(s="PRIMITIVE"===b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept",0===b.groupId)if(f(d,b.type.conceptId)){var i=drawSctBox(o,p,q,e(b.type),b.type.conceptId,"sct-attribute");connectElements(o,g,i,"center","left");var j=drawSctBox(o,p+i.getBBox().width+50,q,e(b.target),b.target.conceptId,s);connectElements(o,i,j,"right","left"),q=q+j.getBBox().height+25,r=r<p+i.getBBox().width+50+j.getBBox().width+50?p+i.getBBox().width+50+j.getBBox().width+50:r}else{q+=20;var k=drawAttributeGroupNode(o,p,q);connectElements(o,g,k,"center","left"),q-=20,p=p+k.getBBox().width+40;var i=drawSctBox(o,p,q,e(b.type),b.type.conceptId,"sct-attribute");connectElements(o,k,i,"right","left"),p=p+i.getBBox().width+50;var j=drawSctBox(o,p,q,e(b.target),b.target.conceptId,s);connectElements(o,i,j,"right","left"),p-=k.getBBox().width+i.getBBox().width+90,q=q+j.getBBox().height+25,r=r<p+20+k.getBBox().width+50+i.getBBox().width+50?p+i.getBBox().width+50+j.getBBox().width+50:r}else b.groupId>h&&(h=b.groupId)}),q+=15;for(var a=1;a<=h;a++){var i=drawAttributeGroupNode(o,p,q);connectElements(o,g,i,"center","left");var j=drawConjunctionNode(o,p+55,q);connectElements(o,i,j,"right","left"),$.each(b.relationships,function(b,c){if(c.groupId===a){s="PRIMITIVE"==c.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var d=drawSctBox(o,p+85,q-18,e(c.type),c.type.conceptId,"sct-attribute");connectElements(o,j,d,"center","left");var f=drawSctBox(o,p+85+d.getBBox().width+30,q-18,e(c.target),c.target.conceptId,s);connectElements(o,d,f,"right","left"),q=q+f.getBBox().height+25,r=r<p+85+d.getBBox().width+30+f.getBBox().width+50?p+85+d.getBBox().width+30+f.getBBox().width+50:r}})}});var B='<?xml version="1.0" encoding="UTF-8" standalone="no"?>'+l.html();B=B.substr(0,B.indexOf("svg")+4)+' xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://web.resource.org/cc/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" '+B.substr(B.indexOf("svg")+4),B=B.replace('width="1000px" height="2000px"','width="'+r+'" height="'+q+'"');var C=Base64.encode(B);$("#"+b.attr("id")+"-download-button").disableTextSelect(),$("#"+b.attr("id")+"-png-button").disableTextSelect(),$("#"+b.attr("id")+"-svg-button").disableTextSelect(),$("#"+b.attr("id")+"-download-button").removeClass("disabled"),$("#"+b.attr("id")+"-download-button").unbind().click(function(c){$("#"+b.attr("id")+"-download-button").hide(),$("#"+b.attr("id")+"-png-button").show(),$("#"+b.attr("id")+"-svg-button").show(),$("#"+b.attr("id")+"-png-button").unbind().click(function(b){g(B,a.conceptId)}),$("#"+b.attr("id")+"-svg-button").unbind().click(function(b){var c=document.createElement("a");c.href="data:image/svg+xml;base64,\n"+C,c.download="diagram-"+a.conceptId+".svg",document.body.appendChild(c),c.click(),document.body.removeChild(c)})})},i=c.edition;c.release.length>0&&"None"!==c.release&&(i=i+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),$.getJSON(c.serverUrl+"/"+i+"/members?referenceSet=723561005&offset=0&limit=500&active=true&expand=referencedComponent(expand(fsn()))",function(a){}).done(function(d){var e=[];d.items&&(e=d.items.filter(function(a){return a.additionalFields&&a.additionalFields.hasOwnProperty("grouped")&&"1"!==a.additionalFields.grouped})),h(a,b,c,e)})}function searchPanel(a,b){var c=null,d=this,e="",f=null;"undefined"==typeof componentsRegistry&&(componentsRegistry=[]),this.markerColor="black","undefined"==typeof globalMarkerColor&&(globalMarkerColor="black"),this.type="search",this.divElement=a,this.options=jQuery.extend(!0,{},b);var g=!1;d.shown0=!1,$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(g=!0)}),0==g&&componentsRegistry.push(d),d.subscribers=[],d.subscriptions=[],d.subscriptionsColor=[],this.history=[],this.setupCanvas=function(){var f="snowstorm";b.serverUrl.includes("snowowl")&&(f="snowowl");var g={divElementId:d.divElement.id,server:f};if(Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),$(a).html(JST["snomed-interaction-components/views/searchPlugin/aux.hbs"](g)),$("#"+d.divElement.id+"-searchBox").keyup(function(){clearTimeout(c);var a=$(this);c=setTimeout(function(){d.search(a.val(),0,100,!1)},500)}),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-clearButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id).find(".semtag-button").click(function(a){}),"fullText"!=b.searchMode&&$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),$("#"+d.divElement.id+"-configButton").click(function(a){d.setupOptionsPanel()}),void 0!==d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),void 0!==d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),void 0!==d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(a){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show()}),$("#"+d.divElement.id+"-collapseButton").click(function(a){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide()}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Panel options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel()}),$("#"+d.divElement.id+"-clearButton").click(function(){d.options.semTagFilter="none",d.options.langFilter="none",d.options.moduleFilter="none",d.options.refsetFilter="none",d.options.semTagsFilter=[],$("#"+d.divElement.id+"-searchBox").val(""),$("#"+d.divElement.id+"-searchFilters").html(""),$("#"+d.divElement.id+"-resultsTable").html(""),$("#"+d.divElement.id+"-searchBar").html(""),$("#"+d.divElement.id+"-searchBar2").html(""),$("#"+d.divElement.id+"-searchBar3").html(""),$("#"+d.divElement.id+"-searchBar4").html(""),$("#"+d.divElement.id+"-searchBar5").html(""),$("#"+d.divElement.id+"-searchBar6").html(""),$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-success"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").addClass("text-danger"),e=""}),$("#"+d.divElement.id+"-historyButton").click(function(a){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){historyHtml='<div style="height:100px;overflow:auto;">',"undefined"==typeof i18n_no_search_terms&&(i18n_no_search_terms="No search terms"),0==d.history.length&&(historyHtml=historyHtml+'<div class="text-center text-muted" style="width:100%"><em>'+i18n_no_search_terms+"</span>...</em></div>"),historyHtml+="<table>";var a=d.history.slice(0);return a.reverse(),$.each(a,function(a,b){var c=new Date,e=c.getTime(),f=e-b.time,g="";f<6e4?g=1==Math.round(f/1e3)?Math.round(f/1e3)+" second ago":Math.round(f/1e3)+" seconds ago":f<36e5?g=1==Math.round(f/1e3/60)?Math.round(f/1e3/60)+" minute ago":Math.round(f/1e3/60)+" minutes ago":f<216e6&&(g=1==Math.round(f/1e3/60/60)?Math.round(f/1e3/60/60)+" hour ago":Math.round(f/1e3/60/60)+" hours ago"),historyHtml=historyHtml+'<tr><td><a href="javascript:void(0);" onclick="searchInPanel(\''+d.divElement.id+"','"+b.searchTerm+"');\">"+b.searchTerm+"</a>",historyHtml=historyHtml+' <span class="text-muted" style="font-size: 80%"><em>'+g+"<em></span>",historyHtml+="</td></tr>"}),historyHtml+="</table>",historyHtml+="</div>",historyHtml}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),$("#"+d.divElement.id+"-fullTextButton").click(function(a){d.options.searchMode="fullText","undefined"!=typeof Storage&&localStorage.setItem("searchMode",d.options.searchMode),d.updateSearchLabel();var b=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").show(),"^"!=b.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val("^"+b),b.length>0&&d.search(b+"$",0,100,!0)}),$("#"+d.divElement.id+"-partialMatchingButton").click(function(a){d.options.searchMode="partialMatching","undefined"!=typeof Storage&&localStorage.setItem("searchMode",d.options.searchMode),d.updateSearchLabel();var b=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),"^"==b.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val(b.slice(1)),b.length>0&&d.search(b,0,100,!0)}),$("#"+d.divElement.id+"-regexButton").click(function(a){d.options.searchMode="regex","undefined"!=typeof Storage&&localStorage.setItem("searchMode",d.options.searchMode),d.updateSearchLabel();var b=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),"^"!=b.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val("^"+b),b.length>0&&d.search(b,0,100,!0)}),$("#"+d.divElement.id+"-danishLangButton").click(function(a){d.options.searchLang="danish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_danish_stemmer);var b=$("#"+d.divElement.id+"-searchBox").val();b.length>0&&d.search(b,0,100,!0)}),$("#"+d.divElement.id+"-englishLangButton").click(function(a){d.options.searchLang="english",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_english_stemmer);var b=$("#"+d.divElement.id+"-searchBox").val();b.length>0&&d.search(b,0,100,!0)}),$("#"+d.divElement.id+"-spanishLangButton").click(function(a){d.options.searchLang="spanish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_spanish_stemmer);var b=$("#"+d.divElement.id+"-searchBox").val();b.length>0&&d.search(b,0,100,!0)}),$("#"+d.divElement.id+"-swedishLangButton").click(function(a){d.options.searchLang="swedish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_swedish_stemmer);var b=$("#"+d.divElement.id+"-searchBox").val();b.length>0&&d.search(b,0,100,!0)}),$("#"+d.divElement.id+"-activeOnlyButton").click(function(a){d.options.statusSearchFilter="activeOnly","undefined"!=typeof Storage&&localStorage.setItem("searchStatus",d.options.statusSearchFilter),d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-activeInactiveButton").click(function(a){d.options.statusSearchFilter="activeAndInactive","undefined"!=typeof Storage&&localStorage.setItem("searchStatus",d.options.statusSearchFilter),d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-inactiveOnlyButton").click(function(a){d.options.statusSearchFilter="inactiveOnly","undefined"!=typeof Storage&&localStorage.setItem("searchStatus",d.options.statusSearchFilter),d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-allTypeButton").click(function(a){d.options.typeSearchFilter="","undefined"!=typeof Storage&&localStorage.setItem("searchType",d.options.typeSearchFilter),d.updateTypeFilterLabel()}),$("#"+d.divElement.id+"-noDefTypeButton").click(function(a){d.options.typeSearchFilter="noDef","undefined"!=typeof Storage&&localStorage.setItem("searchType",d.options.typeSearchFilter),d.updateTypeFilterLabel()}),$("#"+d.divElement.id+"-fsnTypeButton").click(function(a){d.options.typeSearchFilter="fsn","undefined"!=typeof Storage&&localStorage.setItem("searchType",d.options.typeSearchFilter),d.updateTypeFilterLabel()}),$("#"+d.divElement.id+"-preferredTermyButton").click(function(a){d.options.typeSearchFilter="pt","undefined"!=typeof Storage&&localStorage.setItem("searchType",d.options.typeSearchFilter),d.updateTypeFilterLabel()}),"undefined"!=typeof Storage)if(localStorage.getItem("searchType")?(d.options.typeSearchFilter=localStorage.getItem("searchType"),d.updateTypeFilterLabel()):d.updateTypeFilterLabel(),localStorage.getItem("searchStatus")?(d.options.statusSearchFilter=localStorage.getItem("searchStatus"),d.updateStatusFilterLabel()):d.updateStatusFilterLabel(),localStorage.getItem("searchMode"))switch(d.options.searchMode=localStorage.getItem("searchMode"),d.options.searchMode){case"fullText":$("#"+d.divElement.id+"-fullTextButton").click();break;case"regex":$("#"+d.divElement.id+"-regexButton").click();break;default:$("#"+d.divElement.id+"-partialMatchingButton").click()}else $("#"+d.divElement.id+"-partialMatchingButton").click();else d.updateStatusFilterLabel(),d.updateTypeFilterLabel(),$("#"+d.divElement.id+"-partialMatchingButton").click();$("#"+d.divElement.id+"-ownMarker").css("color",d.markerColor),this.getLanguageRefsets()},this.getLanguageRefsets=function(){var a=d.options.edition;d.options.release.length>0&&"None"!==d.options.release&&(a=a+"/"+d.options.release),d.options.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":d.options.languages}}),$.getJSON(d.options.serverUrl+"/browser/"+a+"/members?active=true&limit=1",function(a){}).done(function(a){d.options.languageRefsets=[],Object.keys(a.referenceSets).forEach(function(b){"900000000000506000"===a.referenceSets[b].referenceSetType.id&&d.options.languageRefsets.push(a.referenceSets[b])}),0!==d.options.languageRefsets.length&&d.setupLanguageRefsetDropdown()})},this.setupLanguageRefsetDropdown=function(){d.options.languageRefsets.forEach(function(a){var b=new Option(a.pt.term,a.id);$(b).html(a.pt.term),$("#"+d.divElement.id+"-filterLanguageRefsetOpt").append(b)}),$("#"+d.divElement.id+"-filterLanguageRefsetOpt").multiselect({buttonClass:"btn btn-success",selectedClass:"",templates:{button:'<button type="button" style="white-space: normal;" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>'},buttonText:function(a,b){if(0===a.length)return"Language Refsets";var c="";return a.each(function(){var a=void 0!==$(this).attr("label")?$(this).attr("label"):$(this).html();c+=a+", "}),"Language Refsets: "+c.substr(0,c.length-2)},onChange:function(a,b,c){void 0===d.options.languageRefsetSearchFilter&&(d.options.languageRefsetSearchFilter=[]),b?d.options.languageRefsetSearchFilter.includes(a.val())||d.options.languageRefsetSearchFilter.push(a.val()):d.options.languageRefsetSearchFilter=d.options.languageRefsetSearchFilter.filter(function(b){return b!==a.val()});var e=$("#"+d.divElement.id+"-searchBox").val();e.length>0&&d.search(e,0,100,!0)}}),$("#"+d.divElement.id+"-filterLanguageRefsetOpt option").each(function(){$(this).attr("label",d.options.languageNameOfLangRefset[$(this).val()])}),$("#"+d.divElement.id+"-filterLanguageRefsetOptHidden").hide()},this.setupOptionsPanel=function(){var a=[];$.each(componentsRegistry,function(b,c){if(c.divElement.id!=d.divElement.id){var e={};e.subscriptions=c.subscriptions,e.id=c.divElement.id,a.push(e)}});var b=!1;$.each(a,function(a,c){b=!1,$.each(d.subscriptions,function(a,d){c.id==d.topic&&(b=!0)}),c.subscribed=b,b=!1,$.each(c.subscriptions,function(a,c){c.topic==d.divElement.id&&(b=!0)}),c.subscriptor=b}),d.options.possibleSubscribers=a;var c={options:d.options,divElementId:d.divElement.id};$("#"+d.divElement.id+"-modal-body").html(JST["snomed-interaction-components/views/taxonomyPlugin/options.hbs"](c))},this.readOptionsPanel=function(){$.each(d.options.possibleSubscribers,function(a,b){b.subscribed=$("#"+d.divElement.id+"-subscribeTo-"+b.id).is(":checked"),b.subscriptor=$("#"+d.divElement.id+"-subscriptor-"+b.id).is(":checked");var c={};$.each(componentsRegistry,function(a,d){d.divElement.id==b.id&&(c=d)}),b.subscribed?d.subscribe(c):d.unsubscribe(c),b.subscriptor?c.subscribe(d):c.unsubscribe(d)}),$.each(componentsRegistry,function(a,b){b.loadMarkers&&b.loadMarkers()})},this.updateStatusFilterLabel=function(){"undefined"==typeof i18n_active_and_inactive&&(i18n_active_and_inactive="Active and Inactive"),"undefined"==typeof i18n_inactive_only&&(i18n_inactive_only="Inactive Only"),"undefined"==typeof i18n_active_only&&(i18n_active_only="Active Only"),"activeAndInactive"==d.options.statusSearchFilter?($("#"+d.divElement.id+"-searchStatus").html(i18n_active_and_inactive),$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_active_and_inactive)):"inactiveOnly"==d.options.statusSearchFilter?($("#"+d.divElement.id+"-searchStatus").html(i18n_inactive_only),$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_inactive_only)):(d.options.statusSearchFilter="activeOnly",$("#"+d.divElement.id+"-searchStatus").html(i18n_active_only),$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_active_only));var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)},this.updateTypeFilterLabel=function(){"noDef"==d.options.typeSearchFilter?$("#"+d.divElement.id+"-searchTypeOpt").html("Exclude definitions"):"fsn"==d.options.typeSearchFilter?$("#"+d.divElement.id+"-searchTypeOpt").html("FSN"):"pt"==d.options.typeSearchFilter?$("#"+d.divElement.id+"-searchTypeOpt").html("Preferred Term"):(d.options.typeSearchFilter="",$("#"+d.divElement.id+"-searchTypeOpt").html("All"));var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)},this.search=function(a,c,g,h,i){if(void 0===d.options.searchMode&&(d.options.searchMode="partialMatching"),void 0===d.options.semTagFilter&&(d.options.semTagFilter="none"),void 0===d.options.langFilter&&(d.options.langFilter="none"),void 0===d.options.moduleFilter&&(d.options.moduleFilter="none"),void 0===d.options.textIndexNormalized&&(d.options.textIndexNormalized="none"),void 0===d.options.refsetFilter&&(d.options.refsetFilter="none"),void 0===h&&(h=!1),""!=a&&(a!=e||h))if(a.length<3)$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-success"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").addClass("text-danger");else{$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-danger"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").addClass("text-success"),e=a;var j=new Date,k=j.getTime();d.history.push({searchTerm:a,time:k}),$("#"+d.divElement.id+"-searchFilters").html(""),0==c?$("#"+d.divElement.id+"-resultsTable").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"):$("#"+d.divElement.id+"-resultsTable").find(".more-row").html("<td colspan='2' class='text-center'><i class='glyphicon glyphicon-refresh icon-spin'></i>&nbsp;&nbsp;</td>");var l="";if(null!=f&&f.abort(),$("#"+d.divElement.id+"-searchBar2").html(""),$("#"+d.divElement.id+"-searchBar3").html(""),i||(d.options.semTagsFilter=[],$("#"+d.divElement.id+"-searchBar4").html("")),$("#"+d.divElement.id+"-searchBar5").html(""),$("#"+d.divElement.id+"-searchBar6").html(""),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'>Searching..</span>"),a=a.trim(),isNumber(a))if("0"==a.substr(-2,1)){var m=b.edition;b.release.length>0&&"None"!==b.release&&(m=m+"/"+b.release),b.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":b.languages}}),f=$.getJSON(b.serverUrl+"/browser/"+m+"/concepts/"+a,function(a){}).done(function(b){if(!1===b.active&&"activeOnly"==d.options.statusSearchFilter){var e=jQuery.i18n.prop("i18n_no_results");e||(e="No results"),l=l+"<tr><td class='text-muted i18n' data-i18n-id='i18n_no_results'>"+e+"</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(l),$("#"+d.divElement.id+"-searchBar2").html(""),$("#"+d.divElement.id+"-searchBar3").html(""),$("#"+d.divElement.id+"-searchBar4").html(""),$("#"+d.divElement.id+"-searchBar5").html(""),$("#"+d.divElement.id+"-searchBar6").html("")}else{Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var f=[];$.each(b.descriptions,function(a,c){var e=c;e.definitionStatus=b.definitionStatus,e.active||(e.danger=!0),b.active||(e.danger=!0),c.active&&($("#"+d.divElement.id+"-groupConcept").is(":checked")?e.term===b.pt.term&&e.lang==b.pt.lang&&("activeOnly"==d.options.statusSearchFilter&&f.push(e),"activeAndInactive"==d.options.statusSearchFilter&&f.push(e),"inactiveOnly"==d.options.statusSearchFilter&&f.push(e)):("activeOnly"==d.options.statusSearchFilter&&f.push(e),"activeAndInactive"==d.options.statusSearchFilter&&f.push(e),"inactiveOnly"==d.options.statusSearchFilter&&f.push(e)))}),b.descriptions=f,$("#"+d.divElement.id+"-groupConcept").unbind(),$("#"+d.divElement.id+"-groupConcept").click(function(){d.search(a,parseInt(c),g,!0,!0)});var h={result:b};$("#"+d.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/searchPlugin/body/0.hbs"](h)),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:d.divElement.id,showConcept:!0})})}}).fail(function(){var a=jQuery.i18n.prop("i18n_no_results");a||(a="No results"),l=l+"<tr><td class='text-muted i18n' data-i18n-id='i18n_no_results'>"+a+"</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(l),$("#"+d.divElement.id+"-searchBar2").html(""),$("#"+d.divElement.id+"-searchBar3").html(""),$("#"+d.divElement.id+"-searchBar4").html(""),$("#"+d.divElement.id+"-searchBar5").html(""),$("#"+d.divElement.id+"-searchBar6").html("")})}else if("1"==a.substr(-2,1)){var m=b.edition;console.log(b.release),console.log(b.release.length),b.release.length>0&&"None"!==b.release&&(m=m+"/"+b.release),$.ajax({url:b.serverUrl+"/"+m+"/descriptions/"+a,type:"GET",beforeSend:function(a){b.serverUrl.includes("snowowl")||a.setRequestHeader("Accept-Language",b.languages)},success:function(b){console.log(b),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),$("#"+d.divElement.id+"-groupConcept").unbind(),$("#"+d.divElement.id+"-groupConcept").click(function(){d.search(a,parseInt(c),g,!0,!0)});var e={};e.matches=[],e.matches.push(b);var f={result:e};$("#"+d.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/searchPlugin/body/1.hbs"](f)),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:d.divElement.id,showConcept:!0})})}})}else{var n=jQuery.i18n.prop("i18n_no_results");n||(n="No results"),l=l+"<tr><td class='text-muted i18n' data-i18n-id='i18n_no_results'>"+n+"</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(l),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-searchBar2").html(""),$("#"+d.divElement.id+"-searchBar3").html(""),$("#"+d.divElement.id+"-searchBar4").html(""),$("#"+d.divElement.id+"-searchBar5").html(""),$("#"+d.divElement.id+"-searchBar6").html("")}else{"partialMatching"==d.options.searchMode&&(a=a.toLowerCase(),a=a.replace("(",""),a=a.replace(")",""));var o=Date.now(),m=b.edition;b.release.length>0&&"None"!==b.release&&(m=m+"/"+b.release);var p=b.serverUrl+"/browser/"+m+"/descriptions?&limit=100";if("activeOnly"==d.options.statusSearchFilter&&b.serverUrl.includes("snowstorm")?(p=p+"&term="+encodeURIComponent(a),p+="&active=true",p+="&conceptActive=true",p=p+"&lang="+d.options.searchLang):"activeOnly"==d.options.statusSearchFilter&&b.serverUrl.includes("snowowl")&&(p=p+"&query="+encodeURIComponent(a)),"inactiveOnly"==d.options.statusSearchFilter&&b.serverUrl.includes("snowstorm")?(p=p+"&term="+encodeURIComponent(a),p=p+"&lang="+d.options.searchLang,p+="&conceptActive=false"):"inactiveOnly"==d.options.statusSearchFilter&&b.serverUrl.includes("snowowl")&&(p=p+"&query="+encodeURIComponent(a)),"activeAndInactive"==d.options.statusSearchFilter&&b.serverUrl.includes("snowstorm")?(p+="&active=true",p=p+"&term="+encodeURIComponent(a),p=p+"&lang="+d.options.searchLang):"activeAndInactive"==d.options.statusSearchFilter&&b.serverUrl.includes("snowowl")&&(p=p+"&query="+encodeURIComponent(a)),"none"!=d.options.semTagFilter&&(p=p+"&semanticTag="+d.options.semTagFilter),d.options.semTagsFilter&&0!==d.options.semTagsFilter.length&&$.each(d.options.semTagsFilter,function(a,b){p=p+"&semanticTags="+b}),"none"!=d.options.langFilter&&(p=p+"&language="+d.options.langFilter),"none"!=d.options.moduleFilter&&(p=p+"&module="+d.options.moduleFilter),"none"!=d.options.refsetFilter&&(p=p+"&conceptRefset="+d.options.refsetFilter),"none"!=d.options.textIndexNormalized&&(p=p+"&normalize="+d.options.textIndexNormalized),$("#"+d.divElement.id+"-groupConcept").is(":checked")&&(p+="&groupByConcept=true"),0!==c&&(p=p+"&offset="+c),d.options.typeSearchFilter){var q=[];const r="900000000000003001",s="900000000000013009";"fsn"===d.options.typeSearchFilter?q.push(r):"noDef"===d.options.typeSearchFilter?(q.push(s),q.push(r)):"pt"===d.options.typeSearchFilter&&(q.push(s),d.options.languageRefsets&&0!=d.options.languageRefsets.length&&$.each(d.options.languageRefsets,function(a,b){p=p+"&preferredIn="+b.conceptId})),0!=q.length&&$.each(q,function(a,b){p=p+"&type="+b})}d.options.languageRefsetSearchFilter&&0!==d.options.languageRefsetSearchFilter.length&&(p+=p.includes("&type")?"":"&type=900000000000013009",$.each(d.options.languageRefsetSearchFilter,function(a,b){p=p+"&preferredOrAcceptableIn="+b})),$.ajax({url:p,type:"GET",beforeSend:function(a){b.serverUrl.includes("snowowl")||a.setRequestHeader("Accept-Language",b.languages)},success:function(e){var h=[];$.each(e.items,function(a,c){var f=c;f.definitionStatus=e.definitionStatus,f.conceptActive=c.concept.active,b.serverUrl.includes("snowowl")?c.active&&c.concept.active?("activeOnly"==d.options.statusSearchFilter&&h.push(f),"activeAndInactive"==d.options.statusSearchFilter&&h.push(f)):(f.danger=!0,"inactiveOnly"==d.options.statusSearchFilter&&h.push(f),"activeAndInactive"==d.options.statusSearchFilter&&h.push(f)):(f.active&&f.conceptActive||(f.danger=!0),c.active&&c.concept.active||(f.danger=!0),h.push(f))}),e.matches=h,e.matches.forEach(function(a){a.fsn=a.concept.fsn,a.conceptActive=a.concept.active,a.conceptId=a.concept.conceptId,a.definitionStatus=a.concept.definitionStatus}),$("#"+d.divElement.id+"-resultsTable").find(".more-row").remove();var j=Date.now(),k=(j-o)/1e3;Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("first20chars",function(a){return a.substr(0,18)+"..."}),Handlebars.registerHelper("parseLanguageName",function(a){var b="";return $.each(e.languageNames,function(c,d){c==a&&(b+=d)}),b});var l=[];e.buckets&&(e.buckets.membership?($.each(e.buckets.membership,function(a,b){var c={},d=null;e.bucketConcepts[a]&&(d=e.bucketConcepts[a].fsn.term),c.id=a,c.term=d,c.value=b,c.cant=b,l.push(c)}),e.buckets.membership=[],e.buckets.membership=l,e.buckets.membership.sort(function(a,b){return a.cant>b.cant?-1:a.cant<b.cant?1:0})):e.buckets.membership=[],l=[],$.each(e.buckets.module,function(a,b){var c={},d=null;e.bucketConcepts[a]&&(d=e.bucketConcepts[a].fsn.term),c.id=a,c.term=d,c.value=b,c.cant=b,l.push(c)}),e.buckets.module=[],e.buckets.module=l,e.buckets.module.sort(function(a,b){return a.cant>b.cant?-1:a.cant<b.cant?1:0}));var m="snowstorm";b.serverUrl.includes("snowowl")&&(m="snowowl");var n={server:m,result:e,elapsed:k,divElementId:d.divElement.id,options:d.options};if($("#"+d.divElement.id+"-searchBar").html(JST["snomed-interaction-components/views/searchPlugin/body/bar.hbs"](n)),$("#"+d.divElement.id+"-searchBar2").html(JST["snomed-interaction-components/views/searchPlugin/body/bar2.hbs"](n)),$("#"+d.divElement.id+"-searchBar3").html(JST["snomed-interaction-components/views/searchPlugin/body/bar3.hbs"](n)),i||$("#"+d.divElement.id+"-searchBar4").html(JST["snomed-interaction-components/views/searchPlugin/body/bar4.hbs"](n)),$("#"+d.divElement.id+"-searchBar5").html(JST["snomed-interaction-components/views/searchPlugin/body/bar5.hbs"](n)),$("#"+d.divElement.id+"-searchBar6").html(JST["snomed-interaction-components/views/searchPlugin/body/bar6.hbs"](n)),$("#"+d.divElement.id+"-moduleResumed").tooltip({placement:"left auto",trigger:"hover",title:$("#"+d.divElement.id+"-moduleResumed").attr("data-name"),animation:!0,delay:500}),$("#"+d.divElement.id+"-refsetResumed").tooltip({placement:"left auto",trigger:"hover",title:$("#"+d.divElement.id+"-refsetResumed").attr("data-name"),animation:!0,delay:500}),i||$("#"+d.divElement.id+"-searchBar4").find(".semtag-checkbox").click(function(b){for(var c=$("#"+d.divElement.id+"-searchBar4").find(".semtag-checkbox"),e=[],f=0;f<c.length;f++)c[f].checked&&e.push($(c[f]).attr("data-semtag"));d.options.semTagsFilter=e,d.search(a,0,g,!0,!0)}),$("#"+d.divElement.id+"-searchBar5").find(".module-link").click(function(b){d.options.moduleFilter=$(b.target).attr("data-module"),d.options.moduleFilterName=$(b.target).attr("data-term"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar3").find(".lang-link").click(function(b){d.options.langFilter=$(b.target).attr("data-lang"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar6").find(".refset-link").click(function(b){d.options.refsetFilter=$(b.target).attr("data-refset"),d.options.refsetFilterName=$(b.target).attr("data-term"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar2").find(".remove-semtag").click(function(b){d.options.semTagFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar2").find(".remove-lang").click(function(b){d.options.langFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar2").find(".remove-module").click(function(b){d.options.moduleFilter="none",d.options.moduleFilterName=null,d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar2").find(".remove-refset").click(function(b){d.options.refsetFilter="none",d.options.refsetFilterName=null,d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".module-link").click(function(b){d.options.moduleFilter=$(b.target).attr("data-module"),d.options.moduleFilterName=$(b.target).attr("data-term"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".lang-link").click(function(b){d.options.langFilter=$(b.target).attr("data-lang"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-semtag").click(function(b){d.options.semTagFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-lang").click(function(b){d.options.langFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-module").click(function(b){d.options.moduleFilter="none",d.options.moduleFilterName=null,d.search(a,0,g,!0)}),e.details){e.details.total}f=null;var p=(e.matches,e.totalElements-(c+g));"regex"==d.options.searchMode&&e.matches.sort(function(a,b){return a.term.length<b.term.length?-1:a.term.length>b.term.length?1:0}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a)return a>parseInt(b)?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gre",function(a,b,c){if(a)return parseInt(a)>=b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("hasFilters",function(a,b){return"none"!=a.semTagFilter||"none"!=a.langFilter||"none"!=a.moduleFilter||"none"!=a.refsetFilter?b.fn(this):b.inverse(this)});var n={options:d.options,result:e,divElementId:d.divElement.id,remaining:p,returnLimit:g};0==c?$("#"+d.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/searchPlugin/body/default.hbs"](n)):$("#"+d.divElement.id+"-resultsTable").append(JST["snomed-interaction-components/views/searchPlugin/body/default.hbs"](n)),$("#"+d.divElement.id+"-groupConcept").unbind(),$("#"+d.divElement.id+"-groupConcept").click(function(){d.search(a,parseInt(c),g,!0,!0)}),$("#"+d.divElement.id+"-remove-all-filters").unbind(),$("#"+d.divElement.id+"-remove-all-filters").click(function(b){d.options.semTagFilter="none",d.options.langFilter="none",d.options.moduleFilter="none",d.options.refsetFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-more").unbind(),$("#"+d.divElement.id+"-more").click(function(b){d.search(a,parseInt(c)+parseInt(g),g,!0)}),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:d.divElement.id,showConcept:!0})}),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)})}})}}},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},d.markerColor=d.getNextMarkerColor(globalMarkerColor),this.subscribe=function(a){var b=a.divElement.id,c=!1;if($.each(d.subscriptionsColor,function(b,d){d==a.markerColor&&(c=!0)}),!c){var e=channel.subscribe(b,function(a,b){d.options.searchMode="fullText",d.search(a.conceptId,0,100,!1),$("#"+d.divElement.id+"-searchBox").val(a.term)});d.subscriptions.push(e),a.subscribers.push(d.divElement.id),d.subscriptionsColor.push(a.markerColor)}$("#"+d.divElement.id+"-subscribersMarker").show(),$("#"+b+"-subscribersMarker").show()},this.unsubscribe=function(a){var b=[],c=[],e=!0;$.each(d.subscriptionsColor,function(b,d){d!=a.markerColor?c.push(d):e=!1}),e||(d.subscriptionsColor=c,c=[],$.each(a.subscribers,function(a,c){c!=d.divElement.id&&b.push(c)}),a.subscribers=b,$.each(a.subscriptionsColor,function(a,b){c.push(b)}),0==a.subscribers.length&&0==a.subscriptions.length&&$("#"+a.divElement.id+"-subscribersMarker").hide(),a.subscriptionsColor=c,b=[],$.each(d.subscriptions,function(c,d){a.divElement.id==d.topic?d.unsubscribe():b.push(d)}),d.subscriptions=b,0==d.subscriptions.length&&0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide())},this.loadMarkers=function(){var a="",b=0,c=0,e=!1,f=!1;$.each(componentsRegistry,function(a,b){var c=b.divElement.id;$("#"+c+"-subscribersMarker").is(":visible")&&(f=!0)}),0==d.subscribers.length?(b=14,$("#"+d.divElement.id+"-ownMarker").hide()):(f||$("#"+d.divElement.id+"-ownMarker").hide(),e=!0),$("#"+d.divElement.id+"-subscribersMarker").is(":visible")&&($("#"+d.divElement.id+"-panelTitle").html($("#"+d.divElement.id+"-panelTitle").html().replace(/&nbsp;/g,"")),e&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),$.each(d.subscriptionsColor,function(e,f){a=a+"<i class='glyphicon glyphicon-bookmark' style='color: "+f+"; top:"+c+"px; right: "+b+"px;'></i>",$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),c+=5,b+=10}),$("#"+d.divElement.id+"-subscribersMarker").html(a))},this.updateSearchLabel=function(){void 0===d.options.searchMode&&(d.options.searchMode="partialMatching"),"undefined"==typeof i18n_search_examp_1&&(i18n_search_examp_1="Example 1"),"undefined"==typeof i18n_search_examp_2&&(i18n_search_examp_2="Example 2"),"undefined"==typeof i18n_search_examp_3&&(i18n_search_examp_3="Example 3"),"undefined"==typeof i18n_regex_search_mode&&(i18n_regex_search_mode="Regex"),"undefined"==typeof i18n_partial_match_search_mode&&(i18n_partial_match_search_mode="Partial"),"undefined"==typeof i18n_full_text_search_mode&&(i18n_full_text_search_mode="Full"),"regex"==d.options.searchMode?($("#"+d.divElement.id+"-searchMode").html("<span class='i18n' data-i18n-id='i18n_regex_search_mode'>"+i18n_regex_search_mode+"</span>"),$("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_1'>"+i18n_search_examp_1+"</span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_regex_search_mode'>"+i18n_regex_search_mode+"</span>")):"fullText"==d.options.searchMode?($("#"+d.divElement.id+"-searchMode").html("<span class='i18n' data-i18n-id='i18n_full_text_search_mode'>"+i18n_full_text_search_mode+"</span>"),$("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_2'>"+i18n_search_examp_2+"</em></span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_full_text_search_mode'>"+i18n_full_text_search_mode+"</span>")):"partialMatching"==d.options.searchMode&&($("#"+d.divElement.id+"-searchMode").html("<span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>"+i18n_partial_match_search_mode+"</span>"),$("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_3'>"+i18n_search_examp_3+"</span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>"+i18n_partial_match_search_mode+"</span>")),void 0===d.options.searchLang&&(d.options.searchLang="english"),"undefined"==typeof i18n_danish_stemmer&&(i18n_danish_stemmer="Danish Stemmer"),"undefined"==typeof i18n_english_stemmer&&(i18n_english_stemmer="English Stemmer"),"undefined"==typeof i18n_spanish_stemmer&&(i18n_spanish_stemmer="Spanish Stemmer"),"danish"==d.options.searchLang?$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_danish_stemmer'>"+i18n_danish_stemmer+"</span>"):"english"==d.options.searchLang?$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_english_stemmer'>"+i18n_english_stemmer+"</span>"):"spanish"==d.options.searchLang&&$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_spanish_stemmer'>"+i18n_spanish_stemmer+"</span>")},this.setupCanvas(),this.updateSearchLabel()}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function clearSearchPanelSubscriptions(a){var b;$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(b=d)}),b.unsubscribeAll(),$("#"+a).find(".linker-button").popover("toggle")}function searchInPanel(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&($("#"+a+"-searchBox").val(b),d.search(b,0,100,!1))}),$(".history-button").popover("hide")}function drawSctBox(a,b,c,d,e,f){var g="Test";d&&e?g=d.length>e.toString().length?d:e.toString():d?g=d:e&&(g=e.toString());var h='"Helvetica Neue",Helvetica,Arial,sans-serif',i=a.text(b,c,g,{fontFamily:h,fontSize:"12",fill:"black"}),j=i.getBBox().height,k=i.getBBox().width;k=Math.round(1.2*k),a.remove(i);var l=null,m=20,n=25;if(e&&d||(n=15),"sct-primitive-concept"==f)l=a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"#99ccff",stroke:"#333",strokeWidth:2});else if("sct-defined-concept"==f){l=a.rect(b-2,c-2,k+m+4,j+n+4,{fill:"white",stroke:"#333",strokeWidth:1});a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"#ccccff",stroke:"#333",strokeWidth:1})}else if("sct-attribute"==f){l=a.rect(b-2,c-2,k+m+4,j+n+4,18,18,{fill:"white",stroke:"#333",strokeWidth:1});a.rect(b,c,k+m,j+n,18,18,{id:"rect"+idSequence,fill:"#ffffcc",stroke:"#333",strokeWidth:1})}else l="sct-slot"==f?a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"#99ccff",stroke:"#333",strokeWidth:2}):a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"white",stroke:"black",strokeWidth:1});return e&&d?(a.text(b+10,c+16,e.toString(),{fontFamily:h,fontSize:"10",fill:"black"}),a.text(b+10,c+31,d,{fontFamily:h,fontSize:"12",fill:"black"})):d?a.text(b+10,c+18,d,{fontFamily:h,fontSize:"12",fill:"black"}):e&&a.text(b+10,c+18,e.toString(),{fontFamily:h,fontSize:"12",fill:"black"}),idSequence++,$("rect").click(function(a){}),l}function connectElements(a,b,c,d,e,f){var g=b.getBBox().x,h=b.getBBox().y,i=b.getBBox().width,j=b.getBBox().height,k=c.getBBox().x,l=c.getBBox().y,m=c.getBBox().width,n=c.getBBox().height,o=15;switch(d){case"top":originY=h,originX=g+i/2;break;case"bottom":originY=h+j,originX=g+i/2;break;case"left":originX=g-15,originY=h+j/2;break;case"right":originX=g+i,originY=h+j/2;break;case"bottom-50":originY=h+j,originX=g+40;break;default:originX=g+i/2,originY=h+j/2}switch(e){case"top":destinationY=l,destinationX=k+m/2;break;case"bottom":destinationY=l+n,destinationX=k+m/2;break;case"left":destinationX=k-o,destinationY=l+n/2;break;case"right":destinationX=k+m,destinationY=l+n/2;break;case"bottom-50":destinationY=l+n,destinationX=k+50;break;default:destinationX=k+m/2,destinationY=l+n/2}null==f&&(f="BlackTriangle"),polyline1=a.polyline([[originX,originY],[originX,destinationY],[destinationX,destinationY]],{id:"poly1",fill:"none",stroke:"black",strokeWidth:2,"marker-end":"url(#"+f+")"})}function loadDefs(a){var b=a.defs("SctDiagramsDefs");blackTriangle=a.marker(b,"BlackTriangle",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",fill:"black",stroke:"black",strokeWidth:2}),a.path(blackTriangle,"M 0 0 L 20 10 L 0 20 z"),clearTriangle=a.marker(b,"ClearTriangle",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",fill:"white",stroke:"black",strokeWidth:2}),a.path(clearTriangle,"M 0 0 L 20 10 L 0 20 z"),lineMarker=a.marker(b,"LineMarker",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",fill:"white",stroke:"black",strokeWidth:2}),a.path(lineMarker,"M 0 10 L 20 10")}function drawAttributeGroupNode(a,b,c){return circle=a.circle(b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),circle}function drawConjunctionNode(a,b,c){return circle=a.circle(b,c,10,{fill:"black",stroke:"black",strokeWidth:2}),circle}function drawEquivalentNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-5,b+7,c-5,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c,b+7,c,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+5,b+7,c+5,{stroke:"black",strokeWidth:2}),g}function drawSubsumedByNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-8,b+7,c-8,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+3,b+7,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-6,c-8,b-6,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+7,b+7,c+7,{stroke:"black",strokeWidth:2}),g}function drawSubsumesNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-8,b+7,c-8,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+3,b+7,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b+6,c-8,b+6,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+7,b+7,c+7,{stroke:"black",strokeWidth:2}),g}function taxonomyPanel(a,b,c){var d=this,e=null;"undefined"==typeof componentsRegistry&&(componentsRegistry=[]),this.markerColor="black","undefined"==typeof globalMarkerColor&&(globalMarkerColor="black"),this.type="taxonomy",this.divElement=a,this.options=jQuery.extend(!0,{},c);var f=!1;$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(f=!0)}),0==f&&componentsRegistry.push(d),d.default={},d.default.conceptId=b,d.subscribers=[],d.subscriptions=[],d.subscriptionsColor=[],this.history=[],this.setupCanvas=function(){var b={divElementId:d.divElement.id};$(a).html(JST["snomed-interaction-components/views/taxonomyPlugin/main.hbs"](b)),$("#"+d.divElement.id+"-resetButton").disableTextSelect(),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id+"-closeButton").click(function(b){$(a).remove()}),$("#"+d.divElement.id+"-configButton").click(function(a){d.setupOptionsPanel()}),void 0!==d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),void 0!==d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),void 0!==d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(a){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show()}),$("#"+d.divElement.id+"-collapseButton").click(function(a){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide()}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_reset&&(i18n_reset="Reset"),$("#"+d.divElement.id+"-resetButton").tooltip({placement:"left",trigger:"hover",title:i18n_reset,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-resetButton").click(function(){d.setToConcept(d.default.conceptId)}),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel()}),$("#"+d.divElement.id+"-historyButton").click(function(a){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){historyHtml='<div style="height:100px;overflow:auto;">',"undefined"==typeof i18n_no_terms&&(i18n_no_terms="No terms"),0==d.history.length&&(historyHtml=historyHtml+'<div class="text-center text-muted" style="width:100%"><em>'+i18n_no_terms+"</span>...</em></div>"),historyHtml+="<table>";var a=d.history.slice(0);return a.reverse(),$.each(a,function(a,b){var c=new Date,e=c.getTime(),f=e-b.time,g="";f<6e4?g=1==Math.round(f/1e3)?Math.round(f/1e3)+" second ago":Math.round(f/1e3)+" seconds ago":f<36e5?g=1==Math.round(f/1e3/60)?Math.round(f/1e3/60)+" minute ago":Math.round(f/1e3/60)+" minutes ago":f<216e6&&(g=1==Math.round(f/1e3/60/60)?Math.round(f/1e3/60/60)+" hour ago":Math.round(f/1e3/60/60)+" hours ago"),historyHtml=historyHtml+'<tr><td><a href="javascript:void(0);" onclick="historyInTaxPanel(\''+d.divElement.id+"','"+b.conceptId+"');\">"+b.term+"</a>",historyHtml=historyHtml+' <span class="text-muted" style="font-size: 80%"><em>'+g+"<em></span>",historyHtml+="</td></tr>"}),historyHtml+="</table>",historyHtml+="</div>",historyHtml}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),"undefined"!=typeof Storage&&(d.options.descendantsCount=!!localStorage.getItem("descendantsCountFlag")&&"true"===localStorage.getItem("descendantsCountFlag")),$("#"+d.divElement.id+"-descendantsCountTrue").click(function(a){d.options.descendantsCount=!0,"undefined"!=typeof Storage&&localStorage.setItem("descendantsCountFlag",!0),$("#"+d.divElement.id+"-txViewLabel2").html("Descendants Count: On"),d.default&&d.default.conceptId?d.setToConcept(d.default.conceptId):d.setToConcept(138875005)}),$("#"+d.divElement.id+"-descendantsCountFalse").click(function(a){d.options.descendantsCount=!1,"undefined"!=typeof Storage&&localStorage.setItem("descendantsCountFlag",!1),$("#"+d.divElement.id+"-txViewLabel2").html("Descendants Count: Off"),d.default&&d.default.conceptId?d.setToConcept(d.default.conceptId):d.setToConcept(138875005)}),$("#"+d.divElement.id+"-inferredViewButton").click(function(a){d.options.selectedView="inferred",$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"),d.default&&d.default.conceptId?d.setToConcept(d.default.conceptId):d.setToConcept(138875005)}),$("#"+d.divElement.id+"-statedViewButton").click(function(a){d.options.selectedView="stated",$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),d.default&&d.default.conceptId?d.setToConcept(d.default.conceptId):d.setToConcept(138875005)}),$("#"+d.divElement.id+"-ownMarker").css("color",d.markerColor)},this.setupOptionsPanel=function(){var a=[];$.each(componentsRegistry,function(b,c){if(c.divElement.id!=d.divElement.id){var e={};e.subscriptions=c.subscriptions,e.id=c.divElement.id,a.push(e)}});var b=!1;$.each(a,function(a,c){b=!1,$.each(d.subscriptions,function(a,d){c.id==d.topic&&(b=!0)}),c.subscribed=b,b=!1,$.each(c.subscriptions,function(a,c){c.topic==d.divElement.id&&(b=!0)}),c.subscriptor=b}),d.options.possibleSubscribers=a;var c={options:d.options,divElementId:d.divElement.id};$("#"+d.divElement.id+"-modal-body").html(JST["snomed-interaction-components/views/taxonomyPlugin/options.hbs"](c))},this.readOptionsPanel=function(){$.each(d.options.possibleSubscribers,function(a,b){b.subscribed=$("#"+d.divElement.id+"-subscribeTo-"+b.id).is(":checked"),b.subscriptor=$("#"+d.divElement.id+"-subscriptor-"+b.id).is(":checked");var c={};$.each(componentsRegistry,function(a,d){d.divElement.id==b.id&&(c=d)}),b.subscribed?d.subscribe(c):d.unsubscribe(c),b.subscriptor?c.subscribe(d):c.unsubscribe(d)}),$.each(componentsRegistry,function(a,b){b.loadMarkers&&b.loadMarkers()})},this.setupParents=function(a,b){console.log(b);var e;$.each(a,function(a,b){e=b}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gr",function(a,b,c){return a>b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_def",function(a,b){return a==d.default.conceptId?b.fn(this):b.inverse(this)});var f={parents:a,focusConcept:b,divElementId:d.divElement.id};if(Handlebars.registerHelper("slice",function(a,b){$("#"+d.divElement.id+"-panelBody").html($("#"+d.divElement.id+"-panelBody").html().slice(a,b))}),$("#"+d.divElement.id+"-panelBody").html(JST["snomed-interaction-components/views/taxonomyPlugin/body/parents.hbs"](f)),1==d.options.descendantsCount){var g=a;g.push(b),g.forEach(function(a){var b=a.descendantCount;$("#"+d.divElement.id+"-panelBody").find('.selectable-row[data-concept-id="'+a.conceptId+'"]').append("&nbsp;&nbsp;&nbsp;&nbsp;<span class='text-muted'>"+b+"</span>")})}$(".treeButton").disableTextSelect(),$("#"+d.divElement.id+"-panelBody").unbind("dblclick"),$("#"+d.divElement.id+"-panelBody").dblclick(function(a){if($(a.target).hasClass("treeLabel")){var b=new Date,e=b.getTime(),f=$(a.target).attr("data-module"),g=$(a.target).attr("data-concept-id"),h=$(a.target).attr("data-descendants"),i=$(a.target).attr("data-term"),j=$(a.target).attr("data-definition-status");d.history.push({term:i,conceptId:g,time:e});var k=c.edition;c.release.length>0&&"None"!==c.release&&(k=k+"/"+c.release),void 0!==g&&(c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),$.getJSON(c.serverUrl+"/browser/"+k+"/concepts/"+g+"/parents?form="+d.options.selectedView+"&includeDescendantCount=true",function(a){a&&a[0]&&void 0===a[0].descendantCount&&$("#"+d.divElement.id+"-txViewLabel2").closest("li").hide(),a.forEach(function(a){a.pt&&a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=a.pt.term:a.defaultTerm=a.fsn.term}),console.log(a)}).done(function(a){d.setupParents(a,{conceptId:g,defaultTerm:i,definitionStatus:j,module:f,descendantCount:h})}).fail(function(){}))}}),$("#"+d.divElement.id+"-panelBody").unbind("click"),$("#"+d.divElement.id+"-panelBody").click(function(a){if($(a.target).hasClass("treeButton")){var b=$(a.target).closest("li").attr("data-concept-id"),c=d.divElement.id+"-treeicon-"+b;a.preventDefault(),$("#"+c).hasClass("glyphicon-chevron-down")?($(a.target).closest("li").find("ul").remove(),$("#"+c).removeClass("glyphicon-chevron-down"),$("#"+c).addClass("glyphicon-chevron-right")):$("#"+c).hasClass("glyphicon-chevron-right")?($("#"+c).removeClass("glyphicon-chevron-right"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.getChildren($(a.target).closest("li").attr("data-concept-id"))):$("#"+c).hasClass("glyphicon-chevron-up")?($("#"+c).removeClass("glyphicon-chevron-up"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.wrapInParents($(a.target).closest("li").attr("data-concept-id"),$(a.target).closest("li"))):$("#"+c).hasClass("glyphicon-minus")}else if($(a.target).hasClass("treeLabel")){var e=$(a.target).attr("data-concept-id");void 0!==e&&channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:e,source:d.divElement.id,showConcept:!0})}});var h=d.divElement.id+"-treeicon-"+b.conceptId;$("#"+h).removeClass("glyphicon-chevron-right"),$("#"+h).addClass("glyphicon-refresh"),$("#"+h).addClass("icon-spin"),d.getChildren(b.conceptId)},this.getChildren=function(a){void 0===d.options.selectedView&&(d.options.selectedView="inferred"),"inferred"==d.options.selectedView?$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"):$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>");var b=c.edition;c.release.length>0&&"None"!==c.release&&(b=b+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),$.getJSON(c.serverUrl+"/browser/"+b+"/concepts/"+a+"/children?form="+d.options.selectedView+"&includeDescendantCount=true",function(a){}).done(function(b){b&&b[0]&&void 0===b[0].descendantCount&&$("#"+d.divElement.id+"-txViewLabel2").closest("li").hide(),b.forEach(function(a){a.pt&&a.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&a.fsn.lang!=c.defaultLanguage?a.defaultTerm=a.pt.term:a.defaultTerm=a.fsn.term}),b.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0});var e=[],f={result:b,divElementId:d.divElement.id,selectedView:d.options.selectedView};Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("push",function(a){e.push(a)}),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),b.length>0?$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-down"):$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus"),$("#"+d.divElement.id+"-treenode-"+a).closest("li").find("ul").remove(),$("#"+d.divElement.id+"-treenode-"+a).closest("li").append(JST["snomed-interaction-components/views/taxonomyPlugin/body/children.hbs"](f)),1==d.options.descendantsCount?(b.forEach(function(b){if(b.active){var c=b.descendantCount;$("#"+d.divElement.id+"-treenode-"+a).closest("li").find('.selectable-row[data-concept-id="'+b.conceptId+'"]').append("&nbsp;&nbsp;&nbsp;&nbsp;<span class='text-muted'>"+c+"</span>")}}),$("#"+d.divElement.id+"-txViewLabel2").html("Descendants Count: On")):$("#"+d.divElement.id+"-txViewLabel2").html("Descendants Count: Off"),$(".treeButton").disableTextSelect(),"undefined"==typeof i18n_drag_this&&(i18n_drag_this="Drag this"),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)})}).fail(function(){$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus")})},this.wrapInParents=function(a,b){var e=$("#"+d.divElement.id+"-panelBody").find("ul:first"),f=c.edition;c.release.length>0&&"None"!==c.release&&(f=f+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),$.getJSON(c.serverUrl+"/browser/"+f+"/concepts/"+a+"/parents?form="+d.options.selectedView+"&includeDescendantCount=true",function(a){a&&a[0]&&void 0===a[0].descendantCount&&$("#"+d.divElement.id+"-txViewLabel2").closest("li").hide()}).done(function(b){if(b.length>0){var c="empty",f=[];$.each(b,function(a,b){var e="<li data-concept-id='"+b.conceptId+"' data-term='"+b.fsn.term+"' class='treeLabel'>";e+="<button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-","138875005"==b.conceptId||"9999999999"==b.conceptId?e+="down":e+="up",e=e+" treeButton'  id='"+d.divElement.id+"-treeicon-"+b.conceptId+"'></i></button>",e="PRIMITIVE"==b.definitionStatus?e+'<span class="badge alert-warning" data-concept-id="'+b.conceptId+'" data-term="'+b.fsn.term+'" draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" id="'+d.divElement.id+"-treenode-"+b.conceptId+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;':e+'<span class="badge alert-warning" data-concept-id="'+b.conceptId+'" data-term="'+b.fsn.term+'" draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" id="'+d.divElement.id+"-treenode-"+b.conceptId+'">&equiv;</span>&nbsp;&nbsp;',countryIcons[b.module]&&(e=e+"<div class='phoca-flagbox' style='width:33px;height:33px'><span class='phoca-flag "+countryIcons[b.module]+"'></span></div> "),e=e+'<a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span class="treeLabel selectable-row" data-concept-id="'+b.conceptId+'" data-term="'+b.fsn.term+'"> '+b.fsn.term+"</span></a>",e+="</li>",f.push(e),"empty"==c&&(c=b.conceptId)});var g=e.children().slice(0);e.append(f[0]),$("#"+d.divElement.id+"-treenode-"+c).closest("li").append("<ul id='parent-ul-id-"+c+"' style='list-style-type: none; padding-left: 15px;'></ul>"),1==d.options.descendantsCount&&b.forEach(function(a){var b=a.descendantCount;$(e).find('.selectable-row[data-concept-id="'+a.conceptId+'"]').append("&nbsp;&nbsp;&nbsp;&nbsp;<span class='text-muted'>"+b+"</span>")});var h;$.each(g,function(b,e){if($(e).attr("data-concept-id")==a){h=$(e);$("#"+d.divElement.id+"-treenode-"+c).closest("li").find("ul:first").append($(e)),$(e).find("i:first").removeClass("glyphicon-chevron-up"),$(e).find("i:first").addClass("glyphicon-chevron-down")}}),$.each(g,function(b,c){$(c).attr("data-concept-id")!=a&&($.each($(c).children(),function(a,b){$(b).is("ul")&&h.append(b)}),$("#"+d.divElement.id+"-treenode-"+$(c).attr("data-concept-id")).closest("li").remove())}),$.each(f,function(a,b){b!=f[0]&&e.prepend(b)}),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-down")}else $("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-up");$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),$("[draggable='true']").mouseover(function(a){var b=$(a.target).attr("data-term");void 0===b&&(b=$($(a.target).parent()).attr("data-term")),icon=iconToDrag(b)})}).fail(function(){})},this.setToConcept=function(a,b,e,f,g){console.log(e),$("#"+d.divElement.id+"-panelBody").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>");var h=c.edition;c.release.length>0&&"None"!==c.release&&(h=h+"/"+c.release),c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}}),$.getJSON(c.serverUrl+"/browser/"+h+"/concepts/"+a+"/parents?form="+d.options.selectedView+"&includeDescendantCount=true",function(a){a&&a[0]&&void 0===a[0].descendantCount&&$("#"+d.divElement.id+"-txViewLabel2").closest("li").hide(),$.each(a,function(a,b){void 0===b.defaultTerm&&(b.pt&&b.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.fsn.lang!=c.defaultLanguage?b.defaultTerm=b.pt.term:b.defaultTerm=b.fsn.term)})}).done(function(i){if(void 0===b||void 0===e){c.serverUrl.includes("snowowl")||$.ajaxSetup({headers:{"Accept-Language":c.languages}});var j="?descendantCountForm="+d.options.selectedView;c.serverUrl.includes("snowowl")&&(j+="&expand=fsn()"),$.getJSON(c.serverUrl+"/browser/"+h+"/concepts/"+a+j,function(b){b&&void 0===b.descendantCount&&$("#"+d.divElement.id+"-txViewLabel2").closest("li").hide(),b.pt&&b.pt.lang===c.defaultLanguage&&"en"!=c.defaultLanguage&&b.fsn.lang!=c.defaultLanguage?b.defaultTerm=b.pt.term:b.defaultTerm=b.fsn.term,d.setupParents(i,{conceptId:a,defaultTerm:b.defaultTerm,definitionStatus:b.definitionStatus,module:f,descendantCount:b.descendantCount})})}else d.setupParents(i,{conceptId:a,defaultTerm:b,definitionStatus:e,module:f,descendantCount:g})}).fail(function(){$("#"+d.divElement.id+"-panelBody").html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")})},this.subscribe=function(a){var b=a.divElement.id,c=!1;if($.each(d.subscriptionsColor,function(b,d){d==a.markerColor&&(c=!0)}),!c){var e=channel.subscribe(b,function(a,b){d.default.conceptId=a.conceptId,d.setToConcept(a.conceptId)});d.subscriptions.push(e),a.subscribers.push(d.divElement.id),d.subscriptionsColor.push(a.markerColor)}$("#"+d.divElement.id+"-subscribersMarker").show(),$("#"+b+"-subscribersMarker").show()},this.refsetSubscribe=function(a){channel.subscribe("refsetSubscription-"+a,function(a,b){d.setToConcept(a.conceptId)})},this.unsubscribe=function(a){var b=[],c=[],e=!0;$.each(d.subscriptionsColor,function(b,d){d!=a.markerColor?c.push(d):e=!1}),e||(d.subscriptionsColor=c,c=[],$.each(a.subscribers,function(a,c){c!=d.divElement.id&&b.push(c)}),a.subscribers=b,$.each(a.subscriptionsColor,function(a,b){c.push(b)}),0==a.subscribers.length&&0==a.subscriptions.length&&$("#"+a.divElement.id+"-subscribersMarker").hide(),a.subscriptionsColor=c,b=[],$.each(d.subscriptions,function(c,d){a.divElement.id==d.topic?d.unsubscribe():b.push(d)}),d.subscriptions=b,0==d.subscriptions.length&&0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide())},this.loadMarkers=function(){var a="",b=0,c=0,e=!1,f=!1;$.each(componentsRegistry,function(a,b){var c=b.divElement.id;$("#"+c+"-subscribersMarker").is(":visible")&&(f=!0)}),0==d.subscribers.length?(b=14,$("#"+d.divElement.id+"-ownMarker").hide()):(f||$("#"+d.divElement.id+"-ownMarker").hide(),e=!0),$("#"+d.divElement.id+"-subscribersMarker").is(":visible")&&($("#"+d.divElement.id+"-panelTitle").html($("#"+d.divElement.id+"-panelTitle").html().replace(/&nbsp;/g,"")),e&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),$.each(d.subscriptionsColor,function(e,f){a=a+"<i class='glyphicon glyphicon-bookmark' style='color: "+f+"; top:"+c+"px; right: "+b+"px;'></i>",$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),c+=5,b+=10}),$("#"+d.divElement.id+"-subscribersMarker").html(a))},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},d.markerColor=d.getNextMarkerColor(globalMarkerColor),this.setupCanvas(),b&&138875005!=b?(null!=e&&e.abort(),d.setToConcept(b)):d.setToConcept(138875005)}function clearTaxonomyPanelSubscriptions(a){var b;$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(b=d)}),b.unsubscribeAll(),$("#"+a).find(".linker-button").popover("toggle")}function historyInTaxPanel(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&d.setToConcept(b)}),$(".history-button").popover("hide")}function refsetPanel(a,b){var c=this;this.divElement=a,this.options=jQuery.extend(!0,{},b);this.type="favorites",c.subscribers=[];var d=null,e=null;this.getConceptId=function(){return this.conceptId},this.getDivId=function(){return this.divId},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},c.markerColor=c.getNextMarkerColor(globalMarkerColor),this.setUpPanel=function(){var b={divElementId:c.divElement.id};$(a).html(JST["snomed-interaction-components/views/refsetPlugin/main.hbs"](b))},c.setUpPanel(),this.loadRefsets=function(){$("#"+c.divElement.id+"-panelBody").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>");var a=b.edition;b.release.length>0&&"None"!==b.release&&(a=a+"/"+b.release),null!=e&&(xhrChildren.abort(),e=null),e=$.getJSON(b.serverUrl+"/browser/"+a+"/members?active=true&limit=1",function(a){var b=[],d=null;Object.keys(a.memberCountsByReferenceSet).forEach(function(c){d={},d.module=a.referenceSets[c].moduleId,d.conceptId=c,d.defaultTerm=a.referenceSets[c].fsn.term,d.count=a.memberCountsByReferenceSet[c],d.type=a.referenceSets[c].referenceSetType.pt.term,d.definitionStatus=a.referenceSets[c].definitionStatus,b.push(d)}),b.sort(function(a,b){return a.type<b.type?-1:a.type>b.type?1:a.defaultTerm<b.defaultTerm?-1:a.defaultTerm>b.defaultTerm?1:0});var e={divElementId:c.divElement.id,refsets:b};$("#"+c.divElement.id+"-panelBody").html(JST["snomed-interaction-components/views/refsetPlugin/body.hbs"](e)),$("#"+c.divElement.id+"-panelBody").find(".refset-item").click(function(a){c.loadMembers($(a.target).attr("data-concept-id"),$(a.target).attr("data-term"),100,0),channel.publish(c.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:c.divElement.id,showConcept:!0})})}).done(function(a){}).fail(function(){$("#"+c.divElement.id+"-panelBody").html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")})},c.loadRefsets(),this.loadMembers=function(a,e,f,g,h){var i=b.edition;b.release.length>0&&"None"!==b.release&&(i=i+"/"+b.release);var j=b.serverUrl+"/"+i+"/members?referenceSet="+a+"&limit=100&active=true";g>0?j=j+"&offset="+g:$("#"+c.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><i class='glyphicon glyphicon-refresh icon-spin'></i></td></tr>");var k;c.options.manifest&&$.each(c.options.manifest.refsets,function(a,b){b.conceptId==c.conceptId&&b.count&&(k=b.count)}),void 0!==k&&(h=1,j+="&paginate=1"),null!=d&&d.abort(),d=$.getJSON(j,function(a){}).done(function(b){var d="asd";if(void 0===k&&(k=b.total),(d=k==g?0:k>g+f?k-(g+f):0)<f)var i=d;else if(0!=d)var i=f;else var i=0;var j=!1;b.items&&b.items.length>0&&b.items.forEach(function(a){if(!a.hasOwnProperty("referencedComponent"))return void(j=!0)});var l={};l=j?{result:{items:[]},divElementId:c.divElement.id,term:e,conceptId:a,total:k,skipTo:0,referenceComponentsOfRefsetAreNotConcepts:!0}:{result:b,returnLimit:i,remaining:d,divElementId:c.divElement.id,skipTo:g,term:e,conceptId:a,total:k,referenceComponentsOfRefsetAreNotConcepts:!1},Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a)return a>b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),0!=b.total?($("#"+c.divElement.id+"-moreMembers").remove(),$("#"+c.divElement.id+"-resultsTable").find(".more-row").remove(),0==g?$("#"+c.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/refsetPlugin/members.hbs"](l)):$("#"+c.divElement.id+"-resultsTable").append(JST["snomed-interaction-components/views/refsetPlugin/members.hbs"](l)),$("#"+c.divElement.id+"-moreMembers").click(function(){$("#"+c.divElement.id+"-moreMembers").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),g+=f,c.loadMembers(a,e,i,g,h)}),$("#"+c.divElement.id+"-sort").unbind(),$("#"+c.divElement.id+"-sort").click(function(){$("#"+c.divElement.id+"-sort").blur(),c.loadMembers(a,e,i,0,1)})):0!=g?($("#"+c.divElement.id+"-moreMembers").remove(),$("#"+c.divElement.id+"-resultsTable").find(".more-row").remove(),0==g?$("#"+c.divElement.id+"-resultsTable").html(JST["snomed-interaction-components/views/refsetPlugin/members.hbs"](l)):$("#"+c.divElement.id+"-resultsTable").append(JST["snomed-interaction-components/views/refsetPlugin/members.hbs"](l)),$("#"+c.divElement.id+"-moreMembers").click(function(){$("#"+c.divElement.id+"-moreMembers").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),g+=f,c.loadMembers(a,e,i,g,h)}),$("#"+c.divElement.id+"-sort").unbind(),$("#"+c.divElement.id+"-sort").click(function(){$("#"+c.divElement.id+"-sort").blur(),c.loadMembers(a,e,i,0,1)})):$("#"+c.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><span data-i18n-id='i18n_no_members' class='i18n'>This concept has no members</span></td></tr>"),$("#"+c.divElement.id+"-resultsTable").find(".member-concept-row").click(function(a){var b=$(a.target).closest(".member-concept-row").find(".badge");channel.publish(c.divElement.id,{term:b.attr("data-term"),module:b.attr("data-module"),conceptId:b.attr("data-concept-id"),source:c.divElement.id,showConcept:!0})})}).fail(function(a){0===d.status?"abort"===d.statusText||$("#"+c.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><span data-i18n-id='i18n_no_members' class='i18n'>This concept has no members</span></td></tr>"):$("#"+c.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><span data-i18n-id='i18n_no_members' class='i18n'>This concept has no members</span></td></tr>")})}}function favoritePanel(a,b){var c=this;this.divElement=a,this.options=jQuery.extend(!0,{},b);this.type="favorites",c.subscribers=[],this.getConceptId=function(){return this.conceptId},this.getDivId=function(){return this.divId},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},c.markerColor=c.getNextMarkerColor(globalMarkerColor),this.setUpFavs=function(){var b={divElementId:c.divElement.id};$(a).html(JST["snomed-interaction-components/views/favorites/main.hbs"](b))},c.setUpFavs(),this.loadFavs=function(){function a(a){var b={concepts:a};$("#"+c.divElement.id+"-panelBody").html(JST["snomed-interaction-components/views/favorites/body.hbs"](b)),$("#"+c.divElement.id+"-panelBody").find(".glyphicon-remove-circle").click(function(a){var b=stringToArray(localStorage.getItem("favs")),d=[];$.each(b,function(b,c){c!=$(a.target).attr("data-concept-id")&&d.push(c)}),localStorage.setItem("favs",d),localStorage.removeItem("conceptId:"+$(a.target).attr("data-concept-id")),c.loadFavs()}),$("#exportFavsXls").click(function(){return ExcellentExport.excel(this,"tableFavs")}),$("#"+c.divElement.id+"-panelBody").find(".fav-item").click(function(a){channel.publish(c.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:c.divElement.id,showConcept:!0})})}$("#"+c.divElement.id+"-panelBody").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>");var b=stringToArray(localStorage.getItem("favs")),d=[];b.length;$.each(b,function(a,b){var c=localStorage.getItem("conceptId:"+b);c=JSON.parse(c),d.push(c)}),a(d)},channel.subscribe("favsAction",function(){c.loadFavs()}),$("#"+c.divElement.id+"-li").click(function(){c.loadFavs()})}function queryComputerPanel(a,b){var c=this;c.showId=!1;var d=100,e=0,f=null,g=null;if(c.currentEx=0,this.divElement=a,this.options=jQuery.extend(!0,{},b),this.options.eclQueryFilter="inferred",this.type="query-computer",c.subscribers=[],c.totalResults=[],componentsRegistry){var h=!1;$.each(componentsRegistry,function(a,b){b.divElement&&b.divElement.id==c.divElement.id&&(h=!0)}),0==h&&componentsRegistry.push(c)}else componentsRegistry=[],componentsRegistry.push(c);this.getDivId=function(){return this.divId},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},c.markerColor="asdasdasdas",this.subscribe=function(a){var b=a.divElement.id;channel.subscribe(b,function(a,b){a&&c.updateCanvas(a)});$("#"+c.divElement.id+"-subscribersMarker").show()},this.setUpPanel=function(){var d={divElementId:c.divElement.id,examples:[{title:"All excision procedures that are also procedures on the digestive system",context:[{modifier:"Include",criterias:[{criteria:"descendantOf",conceptId:"65801008",term:"Excision (procedure)"},{criteria:"descendantOf",conceptId:"118673008",term:"Procedure on digestive system (procedure)"}]}]},{title:"All pneumonias except intersticial pneumonias",context:[{modifier:"Include",criterias:[{criteria:"descendantOf",conceptId:"233604007",term:"Pneumonia (disorder)"}]},{modifier:"Exclude",criterias:[{criteria:"descendantOrSelfOf",conceptId:"64667001",term:"Interstitial pneumonia (disorder)"}]}]},{title:"Hypertension related concepts, disorders, personal history and family history",context:[{modifier:"Include",criterias:[{criteria:"descendantOf",conceptId:"38341003",term:"Hypertensive disorder, systemic arterial (disorder)"}]},{modifier:"Include",criterias:[{criteria:"self",conceptId:"160273004",term:"No family history: Hypertension (situation)"}]},{modifier:"Include",criterias:[{criteria:"descendantOrSelfOf",conceptId:"161501007",term:"History of hypertension (situation)"}]},{modifier:"Include",criterias:[{criteria:"descendantOrSelfOf",conceptId:"160357008",term:"Family history: Hypertension (situation)"}]}]}]};$(a).html(JST["snomed-interaction-components/views/developmentQueryPlugin/main.hbs"](d)),$(a).find("textarea").unbind(),$(a).find("textarea").keypress(function(a){if(13==a.which){a.preventDefault();var b=$(this).val();$(this).val(b+"\n")}}),$('[data-toggle="tooltip"]').tooltip(),$("#"+c.divElement.id+"-ExamplesModal").scrollspy({target:"#"+c.divElement.id+"-sidebar",offset:80});var e=!1;if($("#"+c.divElement.id+"-mynav li a").click(function(){$("#"+c.divElement.id+"-mycontent > div > h4").css("padding-top",0),$($(this).attr("href")+" > h4").css("padding-top","50px"),e=!0}),$("#"+c.divElement.id+"-ExamplesModal").on("activate.bs.scrollspy",function(){e||$("#"+c.divElement.id+"-mycontent > div > h4").css("padding-top",0),e=!1}),$("#"+c.divElement.id+"-ExamplesModal").on("shown.bs.modal",function(){$("#"+c.divElement.id+"-mycontentExamples").html(JST["snomed-interaction-components/views/developmentQueryPlugin/examples.hbs"](d)),d.examples.forEach(function(a,b){var d="";a.context.forEach(function(a){d+=JST["snomed-interaction-components/views/developmentQueryPlugin/criteria.hbs"](a)}),$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".contentExamples").first().html(d),$("#"+c.divElement.id+"-ExpTab").hasClass("active")&&(d=c.exportToConstraintGrammar(!0,!1,!1,$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".contentExamples").first()),0==d.indexOf("(")&&(d=d.substr(1,d.length-2)),$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".contentExamples").first().html(d)),$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".contentExamples").first().find(".btn").addClass("disabled"),$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".query-condition").each(function(a){$(this).find(".line-number").html(a+1)}),$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".loadExample").first().attr("data-htmlValue",$("#"+c.divElement.id+"-"+b+"-modal-examples").find(".contentExamples").first().html())}),$("#"+c.divElement.id+"-mycontentExamples").find(".loadExample").unbind(),$("#"+c.divElement.id+"-mycontentExamples").find(".loadExample").click(function(b){var d=$(b.target).attr("data-htmlValue");$("#"+c.divElement.id+"-ExpTab").hasClass("active")?($("#"+c.divElement.id+"-ExpText").html(d),$("#"+c.divElement.id+"-ExpText").val(d.replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<")),$("#"+c.divElement.id+"-ExamplesModal").modal("hide")):($("#"+c.divElement.id+"-listGroup").html(d),$("#"+c.divElement.id+"-listGroup").find(".btn").removeClass("disabled"),$("#"+c.divElement.id+"-listGroup").find(".query-condition").each(function(b){var d=$(this);$(d).find("small").remove(),$(d).append('<small class="text-muted pull-right glyphicon glyphicon-refresh icon-spin" style="position: relative; top: 12px;"></small>'),$("#"+c.divElement.id+"-ExamplesModal").modal("hide"),c.execute("inferred",c.exportToConstraintGrammar(!1,!1,d),!0,function(a){$(d).find("small").remove(),$(d).find(".glyphicon-refresh").first().remove();var b=parseInt(a);$(d).append('<small class="text-muted pull-right" style="position: relative; top: 10px;" title="This instruction involves the selection of '+b+' concepts">'+b+" cpts</small>")}),$("#"+c.divElement.id+"-listGroup").find(".criteriaDropdownOption").unbind(),$("#"+c.divElement.id+"-listGroup").find(".criteriaDropdownOption").click(function(a){var b=$(a.target).closest(".constraint").attr("data-criteria"),d=$(a.target).html();if(b!=d){$(a.target).closest(".constraint").attr("data-criteria",d),$(a.target).closest("div").find("button").first().html(d+"&nbsp;");var e=$(a.target).closest(".query-condition");$(e).find("small").remove(),$(e).append('<small class="text-muted pull-right glyphicon glyphicon-refresh icon-spin" style="position: relative; top: 12px;"></small>'),c.execute("inferred",c.exportToConstraintGrammar(!1,!1,e),!0,function(a){$(e).find("small").remove(),$(e).find(".glyphicon-refresh").first().remove();var b=parseInt(a);$(e).append('<small class="text-muted pull-right" style="position: relative; top: 10px;" title="This instruction involves the selection of '+b+' concepts">'+b+" cpts</small>")})}}),$(a).find(".removeLi").unbind(),$(a).find(".removeLi").disableTextSelect(),$(a).find(".removeLi").click(function(a){$(a.target).closest("li").remove(),c.renumLines()})}))})}),!c.typeArray||!c.typeArray.length){var f=b.edition;b.release.length>0&&"None"!==b.release&&(f=f+"/"+b.release),$.ajax({type:"POST",url:b.serverUrl.replace("snomed","expressions/")+f+"/execute/brief",data:{expression:"< 410662002|Concept model attribute (attribute)|",limit:5e3,skip:0,form:"inferred"},dataType:"json",success:function(a){a.computeResponse.matches.push({conceptId:"<< 47429007",defaultTerm:"Associated with (attribute) [<<]"}),a.computeResponse.matches.push({conceptId:"<< 405815000",defaultTerm:"Procedure device (attribute) [<<]"}),a.computeResponse.matches.push({conceptId:"<< 405816004",defaultTerm:"Procedure morphology (attribute) [<<]"}),a.computeResponse.matches.push({conceptId:"<< 363704007",defaultTerm:"Procedure site (attribute) [<<]"}),c.typeArray=a.computeResponse.matches,c.typeArray.sort(function(a,b){return a.defaultTerm<b.defaultTerm?-1:a.defaultTerm>b.defaultTerm?1:0})}}).done(function(a){})}var h=function(){$(a).find(".addCriteria").unbind(),$(a).find(".addCriteria").disableTextSelect(),$(a).find(".addCriteria").click(function(b){$(b.target).closest(".form-group").hide();var d=$("#"+c.divElement.id+"-selectedCriteria").html(),e=$(b.target).attr("data-type");$(a).find(".addedCriteria").length&&(e=$(a).find(".addedCriteria").first().attr("data-typeSelected")),$(b.target).closest(".form-inline").append(JST["snomed-interaction-components/views/developmentQueryPlugin/andCriteria.hbs"]({criteria:d,typeSelected:e,types:c.typeArray})),$(a).find(".addedCriteria").find(".selectTypeOpt").unbind(),$(a).find(".addedCriteria").find(".selectTypeOpt").click(function(a){$(a.target).closest(".typeCritCombo").attr("data-type-term",$(a.target).attr("data-term")),$(a.target).closest(".typeCritCombo").attr("data-type-concept-id",$(a.target).attr("data-id"));var b=$(a.target).attr("data-term");b.length>15&&(b=b.substr(0,14)+"..."),$(a.target).closest("div").find("span").first().html(b)}),$(a).find(".addedCriteria").find(".removeCriteria").unbind(),$(a).find(".addedCriteria").find(".removeCriteria").click(function(b){$(b.target).closest(".addedCriteria").remove();var d=$(a).find(".addedCriteria");d.length?($(a).find(".addedCriteria").find(".dropFirstType").hide(),$(a).find(".addedCriteria").first().find(".dropFirstType").first().show(),$(d[d.length-1]).find(".addCriteria").first().closest(".form-group").show()):$("#"+c.divElement.id+"-addCriteriaAnd").show()}),$(a).find(".addedCriteria").find("a[data-role='criteria-selector']").unbind(),$(a).find(".addedCriteria").find("a[data-role='criteria-selector']").click(function(a){$(a.target).closest(".dropdown").find("span").first().html($(a.target).html())}),h()})};h(),$("#"+c.divElement.id+"-addCriteriaAnd").unbind(),$("#"+c.divElement.id+"-clearButton").unbind(),$("#"+c.divElement.id+"-clearButton").disableTextSelect(),$("#"+c.divElement.id+"-clearButton").click(function(){null!=g&&g.abort(),c.setUpPanel()}),$("#"+c.divElement.id+"-configButton").click(function(a){c.setupOptionsPanel()}),$("#"+c.divElement.id+"-apply-button").click(function(){c.readOptionsPanel();var a=$.trim($("#"+c.divElement.id+"-ExpText").val());$("#"+c.divElement.id+"-computeInferredButton2").addClass("disabled"),c.execute(c.options.eclQueryFilter,a,!0),$("#"+c.divElement.id+"-computeInferredButton2").removeClass("disabled")}),$("#"+c.divElement.id+"-copyConstraint").unbind(),$("#"+c.divElement.id+"-copyConstraint").disableTextSelect();var i=new ZeroClipboard(document.getElementById(c.divElement.id+"-copyConstraint"));i.on("ready",function(a){i.on("copy",function(a){$("#"+c.divElement.id+"-copyConstraint").addClass("animated rubberBand"),window.setTimeout(function(){$("#"+c.divElement.id+"-copyConstraint").removeClass("animated rubberBand")},1e3),alertEvent("Constraint Grammar copied to clipboard","success"),a.clipboardData.setData("text/plain",c.grammarToCopy)})}),c.options.devQuery=!0,$("#"+c.divElement.id+"-exportXls").unbind(),$("#"+c.divElement.id+"-exportXls").click(function(a){if(c.allResults)return ExcellentExport.excel(this,c.divElement.id+"-output2");a.preventDefault(),a.stopPropagation(),c.getTotalResults()}),$("#"+c.divElement.id+"-exportBriefcase").unbind(),$("#"+c.divElement.id+"-exportBriefcase").click(function(a){function b(){var a=[];$.each(c.allResults,function(b,c){var d={};d.conceptId=c.conceptId,d.defaultTerm=c.defaultTerm,d.module=c.module,a.push(d)}),briefcase.addConcepts(a)}c.allResults?b():(alertEvent("Exporting concepts, please wait","info"),c.getTotalResults(function(){b()}))}),$("#"+c.divElement.id+"-open-grammar").unbind(),$("#"+c.divElement.id+"-open-grammar").disableTextSelect(),$("#"+c.divElement.id+"-open-grammar").click(function(a){c.updateGrammarModal(!1)}),$("#home-"+c.divElement.id+"-full-syntax-button").unbind(),$("#home-"+c.divElement.id+"-full-syntax-button").disableTextSelect(),$("#home-"+c.divElement.id+"-full-syntax-button").addClass("btn-primary"),$("#home-"+c.divElement.id+"-full-syntax-button").removeClass("btn-default"),$("#home-"+c.divElement.id+"-full-syntax-button").click(function(a){c.updateGrammarModal(!0)}),$("#home-"+c.divElement.id+"-brief-syntax-button").unbind(),$("#home-"+c.divElement.id+"-brief-syntax-button").disableTextSelect(),$("#home-"+c.divElement.id+"-brief-syntax-button").addClass("btn-default"),$("#home-"+c.divElement.id+"-brief-syntax-button").removeClass("btn-primary"),$("#home-"+c.divElement.id+"-brief-syntax-button").click(function(a){c.updateGrammarModal(!1)}),$("#"+c.divElement.id+"-exportBriefcaseClean").unbind(),$("#"+c.divElement.id+"-exportBriefcaseClean").click(function(a){function b(){var a=[];briefcase.emptyBriefcase(),$.each(c.allResults,function(b,c){var d={};d.conceptId=c.conceptId,d.defaultTerm=c.defaultTerm,d.module=c.module,a.push(d)}),briefcase.addConcepts(a)}c.allResults?b():(alertEvent("Exporting concepts, please wait","info"),c.getTotalResults(function(){b()}))}),$("#"+c.divElement.id+"-computeButton").unbind(),$("#"+c.divElement.id+"-computeButton").click(function(a){var d=$("#"+c.divElement.id+"-input").val(),e={query:JSON.parse(d),pathId:b.path.id};c.compute(e)}),$("#"+c.divElement.id).find("a[data-role='modifier-selector']").unbind(),$("#"+c.divElement.id).find("a[data-role='modifier-selector']").click(function(a){$("#"+c.divElement.id+"-selectedModifier").html($(a.target).html())}),$("#"+c.divElement.id+"-selectedConcept").show(),$("#"+c.divElement.id+"-selectedType").hide(),$("#"+c.divElement.id+"-selectedTarget").hide(),$("#"+c.divElement.id+"-searchTerm").hide(),$("#"+c.divElement.id+"-searchTerm").unbind(),$("#"+c.divElement.id+"-searchTerm").keyup(function(a){13===a.keyCode&&$("#"+c.divElement.id+"-addCriteriaButton").click()}),$("#"+c.divElement.id+"-formdropdown").hide(),$("#"+c.divElement.id).find("a[data-role='criteria-selector']").unbind(),$("#"+c.divElement.id).find("a[data-role='criteria-selector']").click(function(a){$("#"+c.divElement.id+"-selectedCriteria").html($(a.target).html());var b=$(a.target).html();"hasDescription"==b?($("#"+c.divElement.id+"-selectedConcept").hide(),$("#"+c.divElement.id+"-selectedType").hide(),$("#"+c.divElement.id+"-selectedTarget").hide(),$("#"+c.divElement.id+"-searchTerm").show(),$("#"+c.divElement.id+"-formdropdown").hide()):"hasRelationship"==b?($("#"+c.divElement.id+"-selectedConcept").hide(),$("#"+c.divElement.id+"-selectedType").show(),$("#"+c.divElement.id+"-selectedTarget").show(),$("#"+c.divElement.id+"-searchTerm").hide(),$("#"+c.divElement.id+"-formdropdown").show()):($("#"+c.divElement.id+"-selectedConcept").show(),$("#"+c.divElement.id+"-selectedType").hide(),$("#"+c.divElement.id+"-selectedTarget").hide(),$("#"+c.divElement.id+"-searchTerm").hide(),$("#"+c.divElement.id+"-formdropdown").hide())}),$("#"+c.divElement.id).find("a[data-role='form-selector']").unbind(),$("#"+c.divElement.id).find("a[data-role='form-selector']").click(function(a){$("#"+c.divElement.id+"-selectedForm").html($(a.target).html())}),$("#"+c.divElement.id+"-addCriteriaButton").unbind(),$("#"+c.divElement.id+"-addCriteriaButton").click(function(b){var d=$("#"+c.divElement.id+"-selectedModifier").html(),e=$("#"+c.divElement.id+"-selectedCriteria").html(),f=$("#"+c.divElement.id+"-selectedConcept").attr("data-conceptId");if($("#"+c.divElement.id+"-listGroup").find('.constraint[data-criteria="'+e+'"][data-concept-id="'+f+'"]').length)$("#"+c.divElement.id+"-listGroup").find('.constraint[data-criteria="'+e+'"][data-concept-id="'+f+'"]').closest(".query-condition").attr("data-modifier")==d?($("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Criteria already added...")):($("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Contradictory criteria..."));else if("hasDescription"==e){var g=$("#"+c.divElement.id+"-searchTerm").val();if(""==g)$("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Enter a search term...");else{$("#"+c.divElement.id+"-addmsg").html(""),$("#"+c.divElement.id+"-conceptField").removeClass("has-error");var h={modifier:d,criteria:e,searchTerm:g};$("#"+c.divElement.id+"-listGroup").append(JST["snomed-interaction-components/views/developmentQueryPlugin/searchCriteria.hbs"](h)),c.renumLines(),$(a).find(".removeLi").unbind(),$(a).find(".removeLi").disableTextSelect(),$(a).find(".removeLi").click(function(a){$(a.target).closest("li").remove(),c.renumLines()}),$("#"+c.divElement.id+"-selectedConcept").val(""),$("#"+c.divElement.id+"-selectedConcept").attr("data-conceptId",""),$("#"+c.divElement.id+"-selectedType").val(""),$("#"+c.divElement.id+"-selectedType").attr("data-conceptId",""),$("#"+c.divElement.id+"-selectedTarget").val(""),$("#"+c.divElement.id+"-selectedTarget").attr("data-conceptId",""),$("#"+c.divElement.id+"-searchTerm").val("")}}else if("hasRelationship"==e){var i=$("#"+c.divElement.id+"-selectedType").attr("data-conceptId"),j=$("#"+c.divElement.id+"-selectedType").val(),k=$("#"+c.divElement.id+"-selectedTarget").attr("data-conceptId"),l=$("#"+c.divElement.id+"-selectedTarget").val(),m=$("#"+c.divElement.id+"-selectedForm").html();if(void 0!==i&&""!=i||""!=j||void 0!==k&&""!=k||""!=l){$("#"+c.divElement.id+"-addmsg").html(""),$("#"+c.divElement.id+"-conceptField").removeClass("has-error");var h={modifier:d,criteria:e,typeId:i,typeTerm:j,targetId:k,targetTerm:l,form:m};$("#"+c.divElement.id+"-listGroup").append(JST["snomed-interaction-components/views/developmentQueryPlugin/relsCriteria.hbs"](h)),c.renumLines(),$(a).find(".removeLi").unbind(),$(a).find(".removeLi").disableTextSelect(),$(a).find(".removeLi").click(function(a){$(a.target).closest("li").remove(),c.renumLines()}),$("#"+c.divElement.id+"-selectedConcept").val(""),$("#"+c.divElement.id+"-selectedConcept").attr("data-conceptId",""),$("#"+c.divElement.id+"-selectedType").val(""),$("#"+c.divElement.id+"-selectedType").attr("data-conceptId",""),$("#"+c.divElement.id+"-selectedTarget").val(""),$("#"+c.divElement.id+"-selectedTarget").attr("data-conceptId",""),$("#"+c.divElement.id+"-searchTerm").val("")}else $("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Drop a concept...")}else{var n=$("#"+c.divElement.id+"-selectedConcept").attr("data-conceptId"),o=$("#"+c.divElement.id+"-selectedConcept").val();if(void 0===n||""==n||""==o)$("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Drop a concept...");else{$("#"+c.divElement.id+"-addmsg").html(""),$("#"+c.divElement.id+"-conceptField").removeClass("has-error");var p=[{criteria:e,conceptId:n,term:o}];if($(a).find(".addedCriteria").length){var q=$(a).find(".addedCriteria").first().attr("data-typeSelected");$(a).find(".addedCriteria").each(function(a){var b=$(this).find(".andCriteriaConcept").first().attr("data-conceptId"),d=$(this).find(".andCriteriaConcept").first().val(),e=$(this).find(".addSelectCriteria").first().html();if(!b||!d)return $("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Drop a concept..."),!1;p.forEach(function(a){if(a.criteria==e&&a.conceptId==b)return $("#"+c.divElement.id+"-conceptField").addClass("has-error"),$("#"+c.divElement.id+"-addmsg").html("Criteria already added..."),!1});var f={criteria:e,conceptId:b,term:d};if("Refinement"==q){if("false"==$(this).find(".typeCritCombo").first().attr("data-type-concept-id"))return $("#"+c.divElement.id+"-addmsg").html("Select a type..."),!1;f.type={conceptId:$(this).find(".typeCritCombo").first().attr("data-type-concept-id"),term:$(this).find(".typeCritCombo").first().attr("data-type-term")}}p.push(f)})}if(""==$("#"+c.divElement.id+"-addmsg").html()){$(a).find(".addedCriteria").remove(),$("#"+c.divElement.id+"-addCriteriaAnd").show();var h={modifier:d,criterias:p},r=!1;if($("#"+c.divElement.id+"-listGroup").find(".query-condition").each(function(a){if("Exclude"==$(this).data("modifier")){$(this).before(JST["snomed-interaction-components/views/developmentQueryPlugin/criteria.hbs"](h));var b=$("#"+c.divElement.id+"-listGroup").find(".query-condition")[a];return $(b).append('<small class="text-muted pull-right glyphicon glyphicon-refresh icon-spin" style="position: relative; top: 12px;"></small>'),c.execute("inferred",c.exportToConstraintGrammar(!1,!1,b),!0,function(a){$(b).find(".glyphicon-refresh").first().remove();var c=parseInt(a);$(b).append('<small class="text-muted pull-right" style="position: relative; top: 10px;" title="This instruction involves the selection of '+c+' concepts">'+c+" cpts</small>")}),r=!0,!1}}),!r){$("#"+c.divElement.id+"-listGroup").append(JST["snomed-interaction-components/views/developmentQueryPlugin/criteria.hbs"](h));var s=$("#"+c.divElement.id+"-listGroup").find(".query-condition")[$("#"+c.divElement.id+"-listGroup").find(".query-condition").length-1];$(s).append('<small class="text-muted pull-right glyphicon glyphicon-refresh icon-spin" style="position: relative; top: 12px;"></small>'),c.execute("inferred",c.exportToConstraintGrammar(!1,!1,s),!0,function(a){$(s).find(".glyphicon-refresh").first().remove();var b=parseInt(a);$(s).append('<small class="text-muted pull-right" style="position: relative; top: 10px;" title="This instruction involves the selection of '+b+' concepts">'+b+" cpts</small>")})}$("#"+c.divElement.id+"-listGroup").find(".criteriaDropdownOption").unbind(),$("#"+c.divElement.id+"-listGroup").find(".criteriaDropdownOption").click(function(a){var b=$(a.target).closest(".constraint").attr("data-criteria"),d=$(a.target).html();if(b!=d){$(a.target).closest(".constraint").attr("data-criteria",d),$(a.target).closest("div").find("button").first().html(d+"&nbsp;");var e=$(a.target).closest(".query-condition");$(e).find("small").remove(),$(e).append('<small class="text-muted pull-right glyphicon glyphicon-refresh icon-spin" style="position: relative; top: 12px;"></small>'),c.execute("inferred",c.exportToConstraintGrammar(!1,!1,e),!0,function(a){$(e).find("small").remove(),$(e).find(".glyphicon-refresh").first().remove();var b=parseInt(a);$(e).append('<small class="text-muted pull-right" style="position: relative; top: 10px;" title="This instruction involves the selection of '+b+' concepts">'+b+" cpts</small>")})}}),c.renumLines(),$(a).find(".removeLi").unbind(),$(a).find(".removeLi").disableTextSelect(),$(a).find(".removeLi").click(function(a){$(a.target).closest("li").remove(),c.renumLines()}),$("#"+c.divElement.id+"-selectedConcept").val(""),$("#"+c.divElement.id+"-selectedConcept").attr("data-conceptId",""),$("#"+c.divElement.id+"-selectedType").val(""),$("#"+c.divElement.id+"-selectedType").attr("data-conceptId",""),$("#"+c.divElement.id+"-selectedTarget").val(""),$("#"+c.divElement.id+"-selectedTarget").attr("data-conceptId",""),$("#"+c.divElement.id+"-searchTerm").val("")}}}}),$("#"+c.divElement.id+"-computeInferredButton2").unbind(),$("#"+c.divElement.id+"-computeInferredButton2").disableTextSelect(),$("#"+c.divElement.id+"-computeInferredButton2").click(function(a){var b=$.trim($("#"+c.divElement.id+"-ExpText").val());$("#"+c.divElement.id+"-computeInferredButton2").addClass("disabled"),c.execute("inferred",b,!0),$("#"+c.divElement.id+"-computeInferredButton2").removeClass("disabled")}),$("#"+c.divElement.id+"-computeInferredButton").unbind(),$("#"+c.divElement.id+"-computeInferredButton").disableTextSelect(),$("#"+c.divElement.id+"-computeInferredButton").click(function(a){var b=c.exportToConstraintGrammar(!1,!1);$("#"+c.divElement.id+"-listGroup").find('.query-condition[data-modifier="Include"]').length?c.execute("inferred",b,!0):($("#"+c.divElement.id+"-outputBody").html(""),$("#"+c.divElement.id+"-outputBody2").html(""),$("#"+c.divElement.id+"-").html("<span class='text-danger'>Add at least one include</span>"),$("#"+c.divElement.id+"-footer").html(""))}),$("#"+c.divElement.id+"-computeOntoserver").unbind(),$("#"+c.divElement.id+"-computeOntoserver").click(function(a){var b=c.exportToConstraintGrammar(!1,!1);if($("#"+c.divElement.id+"-listGroup").find('.query-condition[data-modifier="Include"]').length){var d="http://52.21.192.244:8080/ontoserver/resources/ontology/findConceptsByQuery?versionedId=http%3A%2F%2Fsnomed.info%2Fsct%2F32506021000036107%2Fversion%2F20151130&field=shortId&field=label&field=primitive&field=inferredAxioms&format=json&start=0&rows=100",e="&query=Constraint(",f=encodeURIComponent(b),g=d+e+f+")";c.currentEx++;var h=jQuery.i18n.prop("i18n_searching");h||(h="Searching"),$("#"+c.divElement.id+"-resultInfo").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+c.divElement.id+"-outputBody").html(""),$("#"+c.divElement.id+"-outputBody2").html(""),$("#"+c.divElement.id+"-footer").html('<div class="progress progress-striped active"> <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><span>'+h+'</span></div></div><p id="'+c.divElement.id+'-waitingSearch-text" class="lead animated"></p>'),$("#"+c.divElement.id+"-waitingSearch-text").html(""),$("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeInRight"),$("#"+c.divElement.id+"-waitingSearch-text").html("OntoServer is processing your instructions..."),$.getJSON(g,function(a){}).done(function(a){var b=jQuery.i18n.prop("i18n_found");b||(b="Found");var d=jQuery.i18n.prop("i18n_concepts");d||(d="concepts"),$("#"+c.divElement.id+"-resultInfo").html("<span class='text-muted small'><span class='i18n' data-i18n-id='i18n_found'>"+b+"</span> "+a.totalResults+" <span class='i18n' data-i18n-id='i18n_concepts'>"+d+"</span></span>"),$("#"+c.divElement.id+"-waitingSearch-text").html(""),a.totalResults>100?$("#"+c.divElement.id+"-footer").html("Showing first 100 "+c.options.eclQueryFilter+" matches"):$("#"+c.divElement.id+"-footer").html("Showing all "+c.options.eclQueryFilter+" matches"),$.each(a.data,function(a,b){$("#"+c.divElement.id+"-outputBody").append("<tr style='cursor: pointer;' class='conceptResult' data-module='' data-concept-id='"+b.shortId+"' data-term='"+b.label+"'><td>"+b.label+"</td><td>"+b.shortId+"</td></tr>"),$("#"+c.divElement.id+"-outputBody2").append("<tr><td>"+b.label+"</td><td>"+b.shortId+"</td></tr>")}),$("#"+c.divElement.id+"-outputBody").find(".conceptResult").unbind(),$("#"+c.divElement.id+"-outputBody").find(".conceptResult").click(function(a){channel.publish(c.divElement.id,{term:$(a.target).closest("tr").attr("data-term"),module:$(a.target).closest("tr").attr("data-module"),conceptId:$(a.target).closest("tr").attr("data-concept-id"),source:c.divElement.id,showConcept:!0})})}).fail(function(a){})}else $("#"+c.divElement.id+"-outputBody").html(""),$("#"+c.divElement.id+"-outputBody2").html(""),$("#"+c.divElement.id+"-resultInfo").html("<span class='text-danger'>Add at least one include</span>"),$("#"+c.divElement.id+"-footer").html("")})},c.updateGrammarModal=function(a){a?($("#home-"+c.divElement.id+"-full-syntax-button").addClass("btn-primary"),$("#home-"+c.divElement.id+"-full-syntax-button").removeClass("btn-default"),$("#home-"+c.divElement.id+"-brief-syntax-button").addClass("btn-default"),$("#home-"+c.divElement.id+"-brief-syntax-button").removeClass("btn-primary")):($("#home-"+c.divElement.id+"-full-syntax-button").removeClass("btn-primary"),$("#home-"+c.divElement.id+"-full-syntax-button").addClass("btn-default"),$("#home-"+c.divElement.id+"-brief-syntax-button").removeClass("btn-default"),$("#home-"+c.divElement.id+"-brief-syntax-button").addClass("btn-primary")),c.grammarToCopy=c.exportToConstraintGrammar(!1,a),$("#"+c.divElement.id+"-constraintGrammar").html(c.exportToConstraintGrammar(!0,a))},c.setUpPanel(),this.renumLines=function(){$("#"+c.divElement.id+"-listGroup").find(".query-condition").each(function(a){$(this).find(".line-number").html(a+1)})},this.getTotalResults=function(a){null!=f&&f.abort(),c.lastRequest.skip=0,c.lastRequest.limit=c.lastTotalValues+1,$("#"+c.divElement.id+"-exportXls").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>");var d=b.edition;b.release.length>0&&"None"!==b.release&&(d=d+"/"+b.release),f=$.ajax({type:"POST",url:b.serverUrl.replace("snomed","expressions/")+"/"+d+"/execute/brief",data:c.lastRequest,dataType:"json",success:function(b){f=null,c.allResults=b.computeResponse.matches;var d="";c.allResults&&c.allResults.length&&$.each(c.allResults,function(a,b){d+="<tr><td>"+b.defaultTerm+"</td><td>"+b.conceptId+"</td></tr>"}),$("#"+c.divElement.id+"-outputBody2").html(d),$("#"+c.divElement.id+"-exportXls").html('Download XLS <img style="height: 23px;" src="img/excel.png">'),a&&a()}}).always(function(a){f=null}).fail(function(){alertEvent("Failed!","error")})},this.getExpressionForCondition=function(a,b,c){var d="",e="";"self"==a.criteria?e=c?"self ":"":"descendantOf"==a.criteria?e=c?"descendantOf ":"< ":"descendantOrSelfOf"==a.criteria?e=c?"descendantOrSelfOf ":"<< ":"childrenOf"==a.criteria?e=c?"childrenOf ":"<1 ":"ancestorOf"==a.criteria?e=c?"ancestorOf ":"> ":"ancestorOrSelfOf"==a.criteria?e=c?"ancestorOrSelfOf ":">> ":"parentsOf"==a.criteria?e=c?"parentsOf ":">1 ":"hasDescription"==a.criteria?e=c?"hasDescription ":"desc ":"hasRelationship"==a.criteria?e=c?"hasRelationship ":"rel ":"isMemberOf"==a.criteria&&(e=c?"isMemberOf ":"^ ");var f="|"+a.term+"|";if(b&&(e="<span class='exp-operators'>"+e+"</span>",f="<span class='exp-term'>"+f+"</span>"),a.typeId)if("*"==a.typeId)d=" * = "+e+a.conceptId+f;else{var g="|"+a.typeTerm+"|";b&&(f="<span class='exp-term'>"+g+"</span>"),d=a.typeId+g+" = "+e+a.conceptId+f}else d=e+a.conceptId+f;return d},this.exportToConstraintGrammar=function(a,b,d,e){var f="";if(0!=$("#"+c.divElement.id+"-listGroup").find(".query-condition").length||d||e){var g=[],h=[];if(d){var i=[];$(d).find(".constraint").each(function(a){var b={criteria:$(this).attr("data-criteria"),typeId:$(this).attr("data-type-concept-id"),typeTerm:$(this).attr("data-type-term"),conceptId:$(this).attr("data-concept-id"),term:$(this).attr("data-term")};i.push(b)}),g.push(i)}else{var j="#"+c.divElement.id+"-listGroup";e&&(j=e),$(j).find(".query-condition").each(function(a){var b=[];$(this).find(".constraint").each(function(a){var c={criteria:$(this).attr("data-criteria"),typeId:$(this).attr("data-type-concept-id"),typeTerm:$(this).attr("data-type-term"),conceptId:$(this).attr("data-concept-id"),term:$(this).attr("data-term")};b.push(c)}),"Exclude"==$(this).data("modifier")?h.push(b):g.push(b)})}var k=function(a){var b=!1;return a.length>1&&a[1].typeId&&(b=!0),b};$.each(g,function(d,e){d>0&&(f+=" OR "),(e.length>1||k(e))&&(f+=" ("),k(e)?$.each(e,function(d,g){f+=c.getExpressionForCondition(g,a,b),0==d?f+=" : ":d<e.length-1&&(f+=" , "),a&&d<e.length-1&&(f+="<br>")}):$.each(e,function(d,g){d>0&&(f+=" AND "),f+=c.getExpressionForCondition(g,a,b),a&&d<e.length-1&&(f+="<br>")}),(e.length>1||k(e))&&(f+=") "),a&&d<g.length-1&&(f+="<br>")}),h.length>0&&g.length>1?(f="("+f,f+=") MINUS ",a&&(f+="<br>")):h.length>0&&(f+=" MINUS ",a&&(f+="<br>")),h.length>1&&(f+="("),$.each(h,function(d,e){d>0&&(f+=" OR "),(e.length>1||k(e))&&(f+=" ("),k(e)?$.each(e,function(d,g){f+=c.getExpressionForCondition(g,a,b),0==d?f+=" : ":d<e.length-1&&(f+=" , "),a&&d<e.length-1&&(f+="<br>")}):$.each(e,function(d,g){d>0&&(f+=" AND "),f+=c.getExpressionForCondition(g,a,b),a&&d<e.length-1&&(f+="<br>")}),(e.length>1||k(e))&&(f+=") "),a&&d<h.length-1&&(f+="<br>")}),h.length>1&&(f+=")")}else;return f=f.trim()},this.setupOptionsPanel=function(){var a={options:c.options,divElementId:c.divElement.id};Handlebars.registerHelper("if_eq",function(a,b,c){if("undefined"!=c)return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("ifIn",function(a,b,c){return b.indexOf(a)>-1?c.fn(this):c.inverse(this)}),$("#"+c.divElement.id+"-modal-body").html(JST["snomed-interaction-components/views/developmentQueryPlugin/options.hbs"](a))},this.readOptionsPanel=function(){c.options.displayPreferredTerm=$("#"+c.divElement.id+"-displayPreferredTermOption").is(":checked"),c.options.eclQueryFilter=$("#"+c.divElement.id+"-relsTypeFilterOption").val()},this.execute=function(a,f,h,i){c.currentEx++;var j=c.currentEx;if(i)d=1,e=0;else{var k=jQuery.i18n.prop("i18n_searching");k||(k="Searching");var l=jQuery.i18n.prop("i18n_server_is_processing1_text");l||(l="The server is processing your instructions"),$("#"+c.divElement.id+"-footer").html('<div class="progress progress-striped active"> <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><span>'+k+'</span></div></div><p id="'+c.divElement.id+'-waitingSearch-text" class="lead animated"></p>'),$("#"+c.divElement.id+"-waitingSearch-text").html(""),$("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeInRight"),$("#"+c.divElement.id+"-waitingSearch-text").html("<span class='i18n' data-i18n-id='i18n_server_is_processing1_text'>"+l+"</span>..."),setTimeout(function(){$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeInRight")},600),setTimeout(function(){null!=g&&j==c.currentEx&&($("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeOutLeft"),setTimeout(function(){var a=jQuery.i18n.prop("i18n_server_is_processing2_text");a||(a="The server is still processing your instructions"),$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeOutLeft"),$("#"+c.divElement.id+"-waitingSearch-text").html(""),$("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeInRight"),$("#"+c.divElement.id+"-waitingSearch-text").html("<span class='i18n' data-i18n-id='i18n_server_is_processing2_text'>"+a+"</span>..."),setTimeout(function(){$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeInRight")},600)},600))},15e3),setTimeout(function(){null!=g&&j==c.currentEx&&($("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeOutLeft"),setTimeout(function(){var a=jQuery.i18n.prop("i18n_server_is_processing3_text");a||(a="This seems to be a complex set of instructions, still processing"),$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeOutLeft"),$("#"+c.divElement.id+"-waitingSearch-text").html(""),$("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeInRight"),$("#"+c.divElement.id+"-waitingSearch-text").html("<span class='i18n' data-i18n-id='i18n_server_is_processing3_text'>"+a+"</span>..."),setTimeout(function(){$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeInRight")},600)},600))},3e4),setTimeout(function(){null!=g&&j==c.currentEx&&($("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeOutLeft"),setTimeout(function(){var a=jQuery.i18n.prop("i18n_server_is_processing4_text");a||(a="The server is processing a complex set of instructions. This action might not be supported in a public server. Some times instructions can be simplified by specifying conditions using concepts closer in the hierarchy to the intended results, avoiding unnecessary selections of large portions of the terminology"),$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeOutLeft"),$("#"+c.divElement.id+"-waitingSearch-text").html(""),$("#"+c.divElement.id+"-waitingSearch-text").addClass("fadeInRight"),$("#"+c.divElement.id+"-waitingSearch-text").html("<span class='i18n' data-i18n-id='i18n_server_is_processing4_text'>"+a+"</span>."),setTimeout(function(){$("#"+c.divElement.id+"-waitingSearch-text").removeClass("fadeInRight")},600)},600))},45e3),$("#"+c.divElement.id+"-resultInfo").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),h&&($("#"+c.divElement.id+"-outputBody").html(""),$("#"+c.divElement.id+"-outputBody2").html(""),d=100,e=0)}var m={expression:f,limit:d,skip:e,form:a};console.log("normal "+f);var n=f.replace(/\|.*?\|/gimu,""),o=n.replace(/\n/gimu,"");console.log("stripped "+o),c.lastRequest=m,page=e/d;var p,q=b.edition;b.release.length>0&&"None"!==b.release&&(q=q+"/"+b.release),p=b.serverUrl+"/"+q+"/concepts?module=900000000000207008&"+("stated"===c.options.eclQueryFilter?"statedEcl":"ecl")+"="+encodeURIComponent(o)+"&offset="+e+"&limit="+d+"&expand=fsn()",console.log("queryURL "+p),null==g||i||g.abort();var r=$.ajax({type:"GET",url:p,success:function(b){if(m=b,i)i(m.total);else{$("#"+c.divElement.id+"-exportResults").removeClass("disabled");var g=jQuery.i18n.prop("i18n_found");g||(g="Found");var h=jQuery.i18n.prop("i18n_concepts");h||(h="concepts"),m.performanceCutOff?m.totalElements?$("#"+c.divElement.id+"-resultInfo").html("<span class='text-muted small'><span class='i18n' data-i18n-id='i18n_found'>"+g+"</span> "+m.totalElements+" <span class='i18n' data-i18n-id='i18n_concepts'>"+h+"</span>. <span class='text-danger'>This query cannot be completed in real-time, please schedule a Cloud executions. Results below are incomplete and some conditions were not tested. </span></span>"):$("#"+c.divElement.id+"-resultInfo").html("<span class='text-muted small'><span class='i18n' data-i18n-id='i18n_found'>"+g+"</span> "+m.total+" <span class='i18n' data-i18n-id='i18n_concepts'>"+h+"</span>. <span class='text-danger'>This query cannot be completed in real-time, please schedule a Cloud executions. Results below are incomplete and some conditions were not tested. </span></span>"):m.totalElements?$("#"+c.divElement.id+"-resultInfo").html("<span class='text-muted small'><span class='i18n' data-i18n-id='i18n_found'>"+g+"</span> "+m.totalElements+" <span class='i18n' data-i18n-id='i18n_concepts'>"+h+"</span></span>"):$("#"+c.divElement.id+"-resultInfo").html("<span class='text-muted small'><span class='i18n' data-i18n-id='i18n_found'>"+g+"</span> "+m.total+" <span class='i18n' data-i18n-id='i18n_concepts'>"+h+"</span></span>"),$.each(m.items,function(a,b){$("#"+c.divElement.id+"-outputBody").append("<tr style='cursor: pointer;' class='conceptResult' data-module='"+b.moduleId+"' data-concept-id='"+b.id+"' data-term='"+(c.options.displayPreferredTerm?b.pt.term:b.fsn.term)+"'><td>"+(c.options.displayPreferredTerm?b.pt.term:b.fsn.term)+"</td><td>"+b.id+"</td></tr>"),$("#"+c.divElement.id+"-outputBody2").append("<tr><td>"+(c.options.displayPreferredTerm?b.pt.term:b.fsn.term)+"</td><td>"+b.id+"</td></tr>")}),$("#"+c.divElement.id+"-outputBody").find(".conceptResult").unbind(),$("#"+c.divElement.id+"-outputBody").find(".conceptResult").click(function(a){channel.publish(c.divElement.id,{term:$(a.target).closest("tr").attr("data-term"),module:$(a.target).closest("tr").attr("data-module"),conceptId:$(a.target).closest("tr").attr("data-concept-id"),source:c.divElement.id,showConcept:!0})});var j=jQuery.i18n.prop("i18n_show");j||(j="Show");var k=jQuery.i18n.prop("i18n_more");k||(k="more");var l=jQuery.i18n.prop("i18n_viewing");l||(l="viewing");var n=jQuery.i18n.prop("i18n_items_of");n||(n="items of");var o=jQuery.i18n.prop("i18n_total");o||(o="total");var p=jQuery.i18n.prop("i18n_showing_all");p||(p="Showing all");var q=jQuery.i18n.prop("i18n_matches");q||(q="matches");var r="<span class='i18n' data-i18n-id='i18n_show'>"+j+"</span>",s="<span class='i18n' data-i18n-id='i18n_more'>"+k+"</span>",t="<span class='i18n' data-i18n-id='i18n_viewing'>"+l+"</span>",u="<span class='i18n' data-i18n-id='i18n_items_of'>"+n+"</span>",v="<span class='i18n' data-i18n-id='i18n_total'>"+o+"</span>",w="<span class='i18n' data-i18n-id='i18n_showing_all'>"+p+"</span>",x="<span class='i18n' data-i18n-id='i18n_matches'>"+q+"</span>";m.totalElements?(c.lastTotalValues=m.totalElements,d+e<m.totalElements?$("#"+c.divElement.id+"-footer").html("<span id='"+c.divElement.id+"-more'>"+r+" "+s+" ("+t+(d+page*d)+" "+c.options.eclQueryFilter+" "+u+" "+m.totalElements+" "+v+")</span>"):$("#"+c.divElement.id+"-footer").html(w+" "+m.totalElements+" "+c.options.eclQueryFilter+" "+x)):(c.lastTotalValues=m.total,d+e<m.total?$("#"+c.divElement.id+"-footer").html("<span id='"+c.divElement.id+"-more'>"+r+" "+s+" ("+t+(d+e)+" "+c.options.eclQueryFilter+" "+u+" "+m.total+" "+v+")</span>"):$("#"+c.divElement.id+"-footer").html(w+" "+m.total+" "+c.options.eclQueryFilter+" "+x)),$("#"+c.divElement.id+"-more").unbind(),$("#"+c.divElement.id+"-more").click(function(b){e=page*d+100,c.execute(a,f,!1)})}}}).done(function(a){r=null}).fail(function(a){if(a&&a.responseJSON&&a.responseJSON.computeResponse&&a.responseJSON.computeResponse.message)$("#"+c.divElement.id+"-outputBody").html(""),$("#"+c.divElement.id+"-outputBody2").html(""),$("#"+c.divElement.id+"-footer").html(""),$("#"+c.divElement.id+"-resultInfo").html("<span class='text-danger'>"+a.responseJSON.computeResponse.message+"</span>");else if(a&&a.status&&500===a.status)$("#"+c.divElement.id+"-outputBody").html(""),$("#"+c.divElement.id+"-outputBody2").html(""),$("#"+c.divElement.id+"-footer").html(""),$("#"+c.divElement.id+"-resultInfo").html("<span class='text-danger'>"+a.responseJSON.message+"</span>");else{var b=r.statusText;"abort"!=b&&(0==r.status&&(b="timeout"),r=null,"timeout"===b?i?i("Error"):($("#"+c.divElement.id+"-footer").html("<p class='lead'>Instruction set exceeds maximum allowed time for computation. Some times instructions can be simplified by specifying conditions using concepts closer in the hierarchy to the intended results, avoiding unnecessary selections of large portions of the terminology.</p>"),$("#"+c.divElement.id+"-resultInfo").html("This query cannot be completed in real-time.")):i?i("Error"):($("#"+c.divElement.id+"-syntax-result").html('<span class="label label-danger">ERROR</span>'),$("#"+c.divElement.id+"-results").html("Error...")))}});i||(g=r)}}function setDefaultTerm(a){a&&(a.fsn&&("object"==typeof a.fsn?a.defaultTerm=a.fsn.term:a.defaultTerm=a.fsn),a.relationships&&(a.statedRelationships=[],a.relationships.forEach(function(b){b.type.defaultTerm=b.type.fsn.term,b.target.defaultTerm=b.target.fsn.term,"STATED_RELATIONSHIP"==b.characteristicType&&a.statedRelationships.push(b)}),a.statedRelationships.forEach(function(b){a.relationships.splice(a.relationships.indexOf(b),1)})),"PRIMITIVE"==a.definitionStatus&&(a.definitionStatus="PRIMITIVE"))}function removeHighlight(){$(document).find(".drop-highlighted").removeClass("drop-highlighted")}function allowDrop(a){a.preventDefault();var b;b="true"==$(a.target).attr("data-droppable")?$(a.target):$(a.target).closest("div"),$(b).addClass("drop-highlighted")}function dropField(a){var b=a.dataTransfer.getData("Text");if("javascript:void(0);"!=b){for(var c=0;"|"!=b.charAt(c)&&c<b.length;)c++;var d=a.dataTransfer.getData("concept-id");void 0===d&&c<b.length&&(d=b.substr(0,c));var e=a.dataTransfer.getData("term");void 0===e&&(e=b.substr(c)),$(a.target).val(e),$(a.target).attr("data-conceptId",d)}}function iconToDrag(a){var b=document.createElement("canvas"),c=b.getContext("2d");b.width=300,b.height=300,c.font="15px sans-serif",c.strokeText(a,10,20);var d=document.createElement("img");return d.src=b.toDataURL(),d}function drag(a,b){var c="",d="",e="";$.each(a.target.attributes,function(){"data"==this.name.substr(0,4)&&(a.dataTransfer.setData(this.name.substr(5),this.value),"concept-id"==this.name.substr(5)&&(e=this.value),"term"==this.name.substr(5)&&(d=this.value))}),icon=iconToDrag(d),navigator.userAgent.indexOf("Chrome")>-1&&(icon=iconToDrag(d),a.dataTransfer.setDragImage(icon,0,0)),a.dataTransfer.setDragImage(icon,0,0),c=e+"|"+d,a.dataTransfer.setData("Text",c),a.dataTransfer.setData("divElementId",b)}function dropE(a){$(document).find(".drop-highlighted").removeClass("drop-highlighted"),a.preventDefault();var b=a.dataTransfer.getData("Text");if("javascript:void(0);"!=b){for(var c=0;"|"!=b.charAt(c)&&c<b.length;)c++;var d=a.dataTransfer.getData("concept-id");void 0===d&&c<b.length&&(d=b.substr(0,c));var e=a.dataTransfer.getData("term");void 0===e&&(e=b.substr(c)),$(a.target).val(a.target.value+d+" |"+e+"|")}}function dropS(a){$(document).find(".drop-highlighted").removeClass("drop-highlighted"),a.preventDefault();var b=a.dataTransfer.getData("Text");if("javascript:void(0);"!=b){for(var c=0;"|"!=b.charAt(c)&&c<b.length;)c++;var d=a.dataTransfer.getData("concept-id");void 0===d&&c<b.length&&(d=b.substr(0,c));var e=a.dataTransfer.getData("term");void 0===e&&(e=b.substr(c)),$(a.target).val(e);var f=$(a.target).attr("id").replace("-searchBox","");$.each(componentsRegistry,function(a,b){b.divElement.id==f&&b.search(e,0,100,!1)})}}function dropC(a,b){$(document).find(".drop-highlighted").removeClass("drop-highlighted"),a.preventDefault();var c=a.dataTransfer.getData("Text");if("javascript:void(0);"!=c){for(var d=0;"|"!=c.charAt(d)&&d<c.length;)d++;var e=a.dataTransfer.getData("concept-id");void 0===e&&d<c.length&&(e=c.substr(0,d));var f=a.dataTransfer.getData("term");void 0===f&&(f=c.substr(d));var g,h=b;$.each(componentsRegistry,function(a,b){b.divElement.id==h&&(g=b)}),e&&g.conceptId!=e&&(g.conceptId=e,g.updateCanvas(),channel.publish(g.divElement.id,{term:f,conceptId:g.conceptId,source:g.divElement.id}))}}function dropF(a,b){var c=a.dataTransfer.getData("Text");if("javascript:void(0);"!=c){for(var d=0;"|"!=c.charAt(d)&&d<c.length;)d++;var e=a.dataTransfer.getData("concept-id");void 0===e&&d<c.length&&(e=c.substr(0,d));var f=a.dataTransfer.getData("term"),g=a.dataTransfer.getData("module");void 0===f&&(f=c.substr(d));var h=stringToArray(localStorage.getItem("favs")),i=!1;$.each(h,function(a,b){b==e&&(i=!0)});var j={defaultTerm:f,conceptId:e,module:g};i||(h.push(e),localStorage.setItem("favs",h),localStorage.setItem("conceptId:"+e,JSON.stringify(j))),channel.publish("favsAction")}}function dropT(a,b){$(document).find(".drop-highlighted").removeClass("drop-highlighted"),a.preventDefault();var c=a.dataTransfer.getData("Text");if("javascript:void(0);"!=c){for(var d=0;"|"!=c.charAt(d)&&d<c.length;)d++;var e,f=b,g=a.dataTransfer.getData("concept-id");void 0===g&&d<c.length&&(g=c.substr(0,d));var h=a.dataTransfer.getData("term");void 0===h&&(h=c.substr(d));a.dataTransfer.getData("data-def-status"),a.dataTransfer.getData("module");if($.each(componentsRegistry,function(a,b){b.divElement.id==f&&(e=b)}),g&&("undefined"==e.options.selectedView&&(e.options.selectedView="inferred"),void 0!==g)){var i=new Date,j=i.getTime();e.default.conceptId=g,e.history.push({term:h,conceptId:g,time:j}),e.setToConcept(g),channel.publish(e.divElement.id,{term:h,conceptId:g,source:e.divElement.id})}}}function stringToArray(a){if("string"==typeof a){for(var b,c=0,d=[];c<a.length;){for(b="";","!=a.substr(c,1)&&c<a.length;)b+=a.substr(c,1),c++;d.push(b),c++}return d}return!1}function alertEvent(a,b){var c=(new Date).getTime();c-lastEventTime<10&&a.toLowerCase().includes("copied")||$.notify(a,b),lastEventTime=c}this.JST=this.JST||{},this.JST["snomed-interaction-components/views/conceptDetailsPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n                <li id="references-tab"><a id="references-tab-link-',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+'" href="#references-',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_references">References</span></a></li>\n            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.helperMissing;return j+="<div style='margin: 5px; height:98%; overflow:auto;' class='panel panel-default'>\n    <div class='panel-heading' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-panelHeading' ondrop=\"dropC(event, '",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)">\n        \x3c!--<button id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>--\x3e\n        <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding:2px;position: absolute;top: 1px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-panelTitle'>&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_concept_details'>Concept Details</span></strong></div>\n            <div class='col-md-4 text-right'>\n                \x3c!--<button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-linkerButton\' draggable = "true" ondragstart = "drag(event, \'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"')\" class='btn btn-link linker-button' data-panel='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>--\x3e\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-panelBody\' style="width: 98%">\n        \x3c!-- Nav tabs --\x3e\n        <ul class="nav nav-tabs" id="details-tabs-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n            <li class="active"><a href="#home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_summary">Summary</span></a></li>\n            <li><a href="#details-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_details">Details</span></a></li>\n            <li id="diagram-tab"><a href="#diagram-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;" id="diagram-tab-link-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'"><span class="i18n" data-i18n-id="i18n_diagram">Diagram</span></a></li>\n            <li id="expression-tab"><a href="#expression-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;" id="expression-tab-link-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">Expression</a></li>\n            <li id="product-details-tab" style="display: none;"><a id="product-details-tab-link-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" href="#product-details-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_vcd">CD</span></a></li>\n            <li><a href="#refsets-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_refsets">Refsets</span></a></li>\n            <li id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-members-tab"><a href="#members-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_members">Members</span></a></li>\n            ',h=c.if_eq||b&&b.if_eq,i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},g=h?h.call(b,b&&b.server,"snowstorm",i):n.call(b,"if_eq",b&&b.server,"snowstorm",i),(g||0===g)&&(j+=g),j+='\n            <div class="pull-right">\n                <div class="btn-group" style="margin:3px" role="group" aria-label="...">\n                    <button type="button"  class="btn btn-default" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-stated-button">Stated</button>\n                    <button type="button" class="btn btn-default" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-inferred-button">Inferred</button>\n                </div>\n                <div><span class="text-muted text-center" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-wf-status-label"></span></div>\n            </div>\n        </ul>\n        \x3c!-- Tab panes --\x3e\n        <div class="tab-content" id="details-tab-content-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n            <div class="tab-pane fade in active" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'" style="padding: 5px;">\n                <div style="max-height: 440px; overflow: auto; margin-left: 0%; margin-bottom: 10px; margin-top: 10px; width: 90%;border: 2px solid #357ebd; border-radius: 4px; padding: 5px; resize: vertical;">\n                    <div class="panel-heading">\n                        <h4><span data-i18n-id="i18n_parents" class="i18n">Parents</span></h4>\n                    </div>\n                    <div class="panel-body" id="home-parents-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n                        <span data-i18n-id="i18n_no_parents" class="i18n">No parents</span>\n                    </div>\n                </div>\n                <div class="row" style="overflow: auto; max-height: 30%;">\n                    <div class="col-md-offset-1 col-md-4" style="color: #ffffff;background-color: #1e90ff;display: inline-block; border: 2px solid #357ebd; border-radius: 4px; padding: 5px;" id="home-attributes-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">Attributes</div>\n                    <div class="col-md-4" style="background-color: rgba(30, 144, 255, 0.17); display: inline-block; min-height: 100%; margin-left: 10px; border: 2px solid #357ebd; border-radius: 4px; padding: 5px;" id="home-roles-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">Relationships</div>\n                </div>\n                <div style="max-height: 500px; overflow: auto; margin-left: 0%; margin-bottom: 10px; margin-top: 10px; width: 90%;border: 2px solid #357ebd; border-radius: 4px; padding: 5px; resize: vertical;" id="home-children-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n                    <div class="panel-heading">\n                        <h4><span data-i18n-id="i18n_children" class="i18n">Children</span>&nbsp;<span id="home-children-cant-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'"></span></h4>\n                    </div>\n                    <div class="panel-body" id="home-children-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-body"></div>\n                </div>\n                <div><span class="text-muted pull-right" id="footer-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'"></span></div>\n            </div>\n            <div class="tab-pane fade" id="details-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"\">\n                <div id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-attributes-panel' class='panel panel-default'>\n                </div>\n                <div id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-descriptions-panel' class='panel panel-default'>\n                </div>\n                <div id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-rels-panel' class='panel panel-default'>\n                </div>\n                \x3c!--<div id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-children-panel' class='panel panel-default' style='height:100px;overflow:auto;margin-bottom: 15px;'>--\x3e\n                \x3c!--</div>--\x3e\n            </div>\n            <div class=\"tab-pane fade\" id=\"diagram-",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n                <div class="row" style="margin-right: 20px"><span class="pull-right text-muted" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-diagram-viewLabel"></span></div>\n                <div id="diagram-canvas-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'"></div>\n            </div>\n            <div class="tab-pane fade" id="expression-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n                <div class="row" style="margin-right: 20px"><span class="pull-right text-muted" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-expression-viewLabel"></span></div>\n                <div id="expression-canvas-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'"></div>\n            </div>\n            <div class="tab-pane fade" id="refsets-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n            </div>\n            <div class="tab-pane fade" id="members-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n                \x3c!--<div class="pull-right" style="padding: 5px">--\x3e\n                    \x3c!--<button id="members-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-sort" class="btn btn-default">Sort results</button>--\x3e\n                    \x3c!--<span class="text-muted">This operation may time-out for large refsets</span>--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<br>--\x3e\n                <table id="members-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-resultsTable" class="table table-hover table-bordered">\n                </table>\n                \x3c!--<button id="members-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-normal" class="btn btn-default">100 first members</button>--\x3e\n            </div>\n            <div class="tab-pane fade" id="references-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'">\n                <div class="panel-group" id="references-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-accordion">\n\n                </div>\n                \x3c!--<br>--\x3e\n                \x3c!--<span class="text-muted" style="padding: 5px;" id="references-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-total"></span>--\x3e\n                \x3c!--<table id="references-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-resultsTable" class="table table-hover table-bordered">--\x3e\n                \x3c!--</table>--\x3e\n            </div>\n            <div class="tab-pane fade" id="product-details-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"\">\n            </div>\n        </div>\n    </div>\n</div>\n<div class='modal fade' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-configModal'>\n    <div class='modal-dialog'>\n        <div class='modal-content'>\n            <div class='modal-header'>\n                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span></h4>\n            </div>\n            <div class='modal-body' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-modal-body'>\n                <p></p>\n            </div>\n            <div class='modal-footer'>\n                <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n            </div>\n        </div>\n    </div>\n</div>\n"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/options.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-displaySynonymsOption" checked> <span class="i18n" data-i18n-id="i18n_display_synonyms2">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_synonyms2","Display Synonyms along with FSN and preferred terms",f):D.call(a,"i18n","i18n_display_synonyms2","Display Synonyms along with FSN and preferred terms",f)))+"</span>\n                "}function g(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-displaySynonymsOption"> <span class="i18n" data-i18n-id="i18n_display_synonyms2">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_synonyms2","Display Synonyms along with FSN and preferred terms",f):D.call(a,"i18n","i18n_display_synonyms2","Display Synonyms along with FSN and preferred terms",f)))+"</span>\n                "}function h(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-displayIdsOption" checked> <span class="i18n" data-i18n-id="i18n_display_ids">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_ids","Display Description Ids",f):D.call(a,"i18n","i18n_display_ids","Display Description Ids",f)))+"</span>\n                "}function i(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-displayIdsOption"> <span class="i18n" data-i18n-id="i18n_display_ids">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_ids","Display Description Ids",f):D.call(a,"i18n","i18n_display_ids","Display Description Ids",f)))+"</span>\n                "}function j(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-displayInactiveDescriptionsOption" checked> <span class="i18n" data-i18n-id="i18n_display_inactive_descriptions">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_inactive_descriptions","Display inactive descriptions",f):D.call(a,"i18n","i18n_display_inactive_descriptions","Display inactive descriptions",f)))+"</span>\n                "}function k(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-displayInactiveDescriptionsOption"> <span class="i18n" data-i18n-id="i18n_display_inactive_descriptions">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_inactive_descriptions","Display inactive descriptions",f):D.call(a,"i18n","i18n_display_inactive_descriptions","Display inactive descriptions",f)))+"</span>\n                "}function l(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-hideNotAcceptableOption" checked> <span class="i18n" data-i18n-id="i18n_hide_not_acceptable">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_hide_not_acceptable","Hide descriptions with no acceptability",f):D.call(a,"i18n","i18n_hide_not_acceptable","Hide descriptions with no acceptability",f)))+"</span>\n                "}function m(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-hideNotAcceptableOption"> <span class="i18n" data-i18n-id="i18n_hide_not_acceptable">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_hide_not_acceptable","Hide descriptions with no acceptability",f):D.call(a,"i18n","i18n_hide_not_acceptable","Hide descriptions with no acceptability",f)))+"</span>\n                "}function n(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-diagrammingMarkupEnabledOption" checked> <span class="i18n" data-i18n-id="i18n_diagramming_markup_enabled">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_diagramming_markup_enabled","Diagramming Guideline colors enabled",f):D.call(a,"i18n","i18n_diagramming_markup_enabled","Diagramming Guideline colors enabled",f)))+"</span>\n                "}function o(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=C(d)+'-diagrammingMarkupEnabledOption"> <span class="i18n" data-i18n-id="i18n_diagramming_markup_enabled">'+C((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_diagramming_markup_enabled","Diagramming Guideline colors enabled",f):D.call(a,"i18n","i18n_diagramming_markup_enabled","Diagramming Guideline colors enabled",f)))+"</span>\n                "}function p(a,b){return"checked"}function q(a,b){return'\n                <option value="stated" selected>Stated</option>\n            '}function r(a,b){return'\n                <option value="stated">Stated</option>\n            '}function s(a,b){return'\n                <option value="inferred" selected>Inferred</option>\n            '}function t(a,b){return'\n                <option value="inferred">Inferred</option>\n            '}function u(a,b,d){var e,f,g,h="";return h+='\n        <label><span class="i18n" data-i18n-id="i18n_language_refset">'+C((f=c.i18n||a&&a.i18n,g={hash:{},data:b},f?f.call(a,"i18n_language_refset","Language Refset",g):D.call(a,"i18n","i18n_language_refset","Language Refset",g)))+"</span></label>\n        ",e=c.each.call(a,(e=a&&a.options,null==e||!1===e?e:e.languageRefsets),{hash:{},inverse:E.noop,fn:E.programWithDepth(32,v,b,d),data:b}),(e||0===e)&&(h+=e),h+="\n    "}function v(a,b,d){var e,f,g,h="";return h+='\n            <div class="checkbox">\n                <label>\n                    <input class="langOption" type="checkbox" value="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===B?f.call(a,{hash:{},data:b}):f),h+=C(e)+'" ',f=c.ifIn||a&&a.ifIn,g={hash:{},inverse:E.noop,fn:E.program(21,p,b),data:b},e=f?f.call(a,a&&a.conceptId,(e=d&&d.options,null==e||!1===e?e:e.langRefset),g):D.call(a,"ifIn",a&&a.conceptId,(e=d&&d.options,null==e||!1===e?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="> "+C((e=a&&a.fsn,e=null==e||!1===e?e:e.term,typeof e===B?e.apply(a):e))+"\n                </label>\n            </div>\n        "}function w(a,b,d){var e,f,g="";return g+="--\x3e\n                    \x3c!--<tr>--\x3e\n                        \x3c!--<td>",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=C(e)+'</td>--\x3e\n                        \x3c!--<td>--\x3e\n                            \x3c!--<div class="checkbox">--\x3e\n                                \x3c!--<label>--\x3e\n                                    \x3c!--<input type="checkbox" id="'+C((e=d&&d.divElementId,typeof e===B?e.apply(a):e))+"-subscribeTo-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=C(e)+'" ',e=c.if.call(a,a&&a.subscribed,{hash:{},inverse:E.noop,fn:E.program(21,p,b),data:b}),(e||0===e)&&(g+=e),g+='>--\x3e\n                                \x3c!--</label>--\x3e\n                            \x3c!--</div>--\x3e\n                        \x3c!--</td>--\x3e\n                        \x3c!--<td>--\x3e\n                            \x3c!--<div class="checkbox">--\x3e\n                                \x3c!--<label>--\x3e\n                                    \x3c!--<input type="checkbox" id="'+C((e=d&&d.divElementId,typeof e===B?e.apply(a):e))+"-subscriptor-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=C(e)+'" ',e=c.if.call(a,a&&a.subscriptor,{hash:{},inverse:E.noop,fn:E.program(21,p,b),data:b}),(e||0===e)&&(g+=e),g+=">--\x3e\n                                \x3c!--</label>--\x3e\n                            \x3c!--</div>--\x3e\n                        \x3c!--</td>--\x3e\n                    \x3c!--</tr>--\x3e\n                \x3c!--"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var x,y,z,A="",B="function",C=this.escapeExpression,D=c.helperMissing,E=this;return A+='<form role="form" id="',(y=c.divElementId)?x=y.call(b,{hash:{},data:e}):(y=b&&b.divElementId,x=typeof y===B?y.call(b,{hash:{},data:e}):y),A+=C(x)+'-options-form">\n    <div class="form-group">\n        <div class="checkbox">\n            <label>\n                ',x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.displaySynonyms),{hash:{},inverse:E.program(3,g,e),fn:E.program(1,f,e),data:e}),(x||0===x)&&(A+=x),A+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.showIds),{hash:{},inverse:E.program(7,i,e),fn:E.program(5,h,e),data:e}),(x||0===x)&&(A+=x),A+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.displayInactiveDescriptions),{hash:{},inverse:E.program(11,k,e),fn:E.program(9,j,e),data:e}),(x||0===x)&&(A+=x),A+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.hideNotAcceptable),{hash:{},inverse:E.program(15,m,e),fn:E.program(13,l,e),data:e}),(x||0===x)&&(A+=x),A+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.diagrammingMarkupEnabled),{hash:{},inverse:E.program(19,o,e),fn:E.program(17,n,e),data:e}),(x||0===x)&&(A+=x),A+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" id="',(y=c.divElementId)?x=y.call(b,{hash:{},data:e}):(y=b&&b.divElementId,x=typeof y===B?y.call(b,{hash:{},data:e}):y),A+=C(x)+'-childrenOption" ',x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.displayChildren),{hash:{},inverse:E.noop,fn:E.program(21,p,e),data:e}),(x||0===x)&&(A+=x),A+='> <span class="i18n" data-i18n-id="i18n_display_children">'+C((y=c.i18n||b&&b.i18n,z={hash:{},data:e},y?y.call(b,"i18n_display_children","Display All Children",z):D.call(b,"i18n","i18n_display_children","Display All Children",z)))+'</span>\n            </label>\n        </div>\n    </div>\n    <div class="form-group">\n        <label for="selectedRelsView"><span class="i18n" data-i18n-id="i18n_rels_view">'+C((y=c.i18n||b&&b.i18n,z={hash:{},data:e},y?y.call(b,"i18n_rels_view","Relationships View",z):D.call(b,"i18n","i18n_rels_view","Relationships View",z)))+'</span></label>\n        <select class="form-control" id="',(y=c.divElementId)?x=y.call(b,{hash:{},data:e}):(y=b&&b.divElementId,x=typeof y===B?y.call(b,{hash:{},data:e}):y),A+=C(x)+'-relsViewOption">\n            ',y=c.if_eq||b&&b.if_eq,z={hash:{},inverse:E.program(25,r,e),fn:E.program(23,q,e),data:e},x=y?y.call(b,(x=b&&b.options,null==x||!1===x?x:x.selectedView),"stated",z):D.call(b,"if_eq",(x=b&&b.options,null==x||!1===x?x:x.selectedView),"stated",z),(x||0===x)&&(A+=x),A+="\n            ",y=c.if_eq||b&&b.if_eq,z={hash:{},inverse:E.program(29,t,e),fn:E.program(27,s,e),data:e},x=y?y.call(b,(x=b&&b.options,null==x||!1===x?x:x.selectedView),"inferred",z):D.call(b,"if_eq",(x=b&&b.options,null==x||!1===x?x:x.selectedView),"inferred",z),(x||0===x)&&(A+=x),A+="           \n        </select>\n    </div>\n    \n    ",x=c.if.call(b,(x=b&&b.options,null==x||!1===x?x:x.languageRefsets),{hash:{},inverse:E.noop,fn:E.programWithDepth(31,u,e,b),data:e}),(x||0===x)&&(A+=x),A+="\n    \x3c!--<div class=\"form-group\">--\x3e\n        \x3c!--<table class='table table-bordered table-hover'>--\x3e\n            \x3c!--<thead>--\x3e\n                \x3c!--<tr>--\x3e\n                    \x3c!--<th>Panel</th>--\x3e\n                    \x3c!--<th>Subscribed</th>--\x3e\n                    \x3c!--<th>Subscriptor</th>--\x3e\n                \x3c!--</tr>--\x3e\n            \x3c!--</thead>--\x3e\n            \x3c!--<tbody>--\x3e\n                \x3c!--",x=c.each.call(b,(x=b&&b.options,null==x||!1===x?x:x.possibleSubscribers),{hash:{},inverse:E.noop,fn:E.programWithDepth(34,w,e,b),data:e}),(x||0===x)&&(A+=x),A+="--\x3e\n            \x3c!--</tbody>--\x3e\n        \x3c!--</table>--\x3e\n    \x3c!--</div>--\x3e\n</form>"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/attributes-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"\n        class = 'highlightEffectiveTime'\n        "}function g(a,b){var d,e,f,g="";return g+='\n                    <a href="javascript:void(0);" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),g+=w(d)+'\')" data-module="'+w((d=a&&a.firstMatch,d=null==d||!1===d?d:d.moduleId,typeof d===v?d.apply(a):d))+'" data-concept-id="'+w((d=a&&a.firstMatch,d=null==d||!1===d?d:d.conceptId,typeof d===v?d.apply(a):d))+'" data-term="',e=c.if_undefined||a&&a.if_undefined,f={hash:{},inverse:x.program(6,i,b),fn:x.program(4,h,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||!1===d?d:d.fsn,null==d||!1===d?d:d.term),f):y.call(a,"if_undefined",(d=a&&a.firstMatch,d=null==d||!1===d?d:d.fsn,null==d||!1===d?d:d.term),f),(d||0===d)&&(g+=d),g+='\n                    " data-def-status="'+w((d=a&&a.firstMatch,d=null==d||!1===d?d:d.definitionStatus,typeof d===v?d.apply(a):d))+'" style="color: inherit;text-decoration: inherit;"><span class="badge alert-warning">&nbsp;&nbsp;</span></a>&nbsp;&nbsp;\n                '}function h(a,b){var c,d="";return d+="\n                        "+w((c=a&&a.firstMatch,c=null==c||!1===c?c:c.fsn,typeof c===v?c.apply(a):c))+"\n                    "}function i(a,b){var c,d="";return d+="\n                        "+w((c=a&&a.firstMatch,c=null==c||!1===c?c:c.defaultTerm,typeof c===v?c.apply(a):c))+"\n                    "}function j(a,b){var d,e,f,g="";return g+='\n                    <a href="javascript:void(0);" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),g+=w(d)+'\')" data-module="'+w((d=a&&a.firstMatch,d=null==d||!1===d?d:d.moduleId,typeof d===v?d.apply(a):d))+'" data-concept-id="'+w((d=a&&a.firstMatch,d=null==d||!1===d?d:d.conceptId,typeof d===v?d.apply(a):d))+'" data-term="',e=c.if_undefined||a&&a.if_undefined,f={hash:{},inverse:x.program(6,i,b),fn:x.program(4,h,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||!1===d?d:d.fsn,null==d||!1===d?d:d.term),f):y.call(a,"if_undefined",(d=a&&a.firstMatch,d=null==d||!1===d?d:d.fsn,null==d||!1===d?d:d.term),f),(d||0===d)&&(g+=d),g+='\n                    " data-def-status="'+w((d=a&&a.firstMatch,d=null==d||!1===d?d:d.definitionStatus,typeof d===v?d.apply(a):d))+'" style="color: inherit;text-decoration: inherit;"><span class="badge alert-warning" >&equiv;</span></a>&nbsp;&nbsp;\n                '}function k(a,b){var c,d="";return d+="\n                    "+w((c=a&&a.firstMatch,c=null==c||!1===c?c:c.fsn,typeof c===v?c.apply(a):c))+"\n                "}function l(a,b){var c,d="";return d+="\n                    "+w((c=a&&a.firstMatch,c=null==c||!1===c?c:c.defaultTerm,typeof c===v?c.apply(a):c))+"\n                "}function m(a,b){return"\n                <span class='i18n' data-i18n-id='i18n_primitive'>PRIMITIVE</span><span>,</span>\n            "}function n(a,b){return"\n                <span class='i18n' data-i18n-id='i18n_fully_defined'>Defined</span><span>,</span>\n            "}function o(a,b){return"\n                <span class='i18n' data-i18n-id='i18n_active'>Active</span><span>.</span>\n            "}function p(a,b){return"\n                <span class='i18n' data-i18n-id='i18n_inactive'>Inactive</span><span>.</span>\n            "}function q(a,b){var d,e,f="";return f+='\n                <span class="pull-right">\n                    <div class="dropdown">\n                        <button class="btn btn-link dropdown-toggle" type="button" id="dropdownMenu1-details" data-toggle="dropdown" aria-expanded="true">\n                            <i class="glyphicon glyphicon-plus-sign pull-right" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'-addsyn-icon-details"></i>\n                        </button>\n                        <ul class="dropdown-menu small pull-right" role="menu" aria-labelledby="dropdownMenu2-details">\n                            <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'-addsyn-sctid-details">Skicka synonymfrslag</a></li>\n                        </ul>\n                    </div>\n                </span>\n            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s,t,u="",v="function",w=this.escapeExpression,x=this,y=c.helperMissing;return u+="<table class='table table-default' >\n    <tr\n        ",s=c.if_eq||b&&b.if_eq,t={hash:{},inverse:x.noop,fn:x.program(1,f,e),data:e},r=s?s.call(b,(r=b&&b.firstMatch,null==r||!1===r?r:r.effectiveTime),(r=b&&b.options,null==r||!1===r?r:r.highlightByEffectiveTime),t):y.call(b,"if_eq",(r=b&&b.firstMatch,null==r||!1===r?r:r.effectiveTime),(r=b&&b.options,null==r||!1===r?r:r.highlightByEffectiveTime),t),(r||0===r)&&(u+=r),u+="\n            >\n        <td>\n            <h4>\n                ",s=c.if_eq||b&&b.if_eq,t={hash:{},inverse:x.program(8,j,e),fn:x.program(3,g,e),data:e},r=s?s.call(b,(r=b&&b.firstMatch,null==r||!1===r?r:r.definitionStatus),"PRIMITIVE",t):y.call(b,"if_eq",(r=b&&b.firstMatch,null==r||!1===r?r:r.definitionStatus),"PRIMITIVE",t),(r||0===r)&&(u+=r),u+="\n\n                <span ondrop=\"dropC(event, '",(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)">\n                ',s=c.if_undefined||b&&b.if_undefined,t={hash:{},inverse:x.program(12,l,e),fn:x.program(10,k,e),data:e},r=s?s.call(b,(r=b&&b.firstMatch,r=null==r||!1===r?r:r.fsn,null==r||!1===r?r:r.term),t):y.call(b,"if_undefined",(r=b&&b.firstMatch,r=null==r||!1===r?r:r.fsn,null==r||!1===r?r:r.term),t),(r||0===r)&&(u+=r),u+="\n                </span>\n            </h4>\n            <br>SCTID: "+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.conceptId,typeof r===v?r.apply(b):r))+"<span>,</span>\n\n            ",s=c.if_eq||b&&b.if_eq,t={hash:{},inverse:x.program(16,n,e),fn:x.program(14,m,e),data:e},r=s?s.call(b,(r=b&&b.firstMatch,null==r||!1===r?r:r.definitionStatus),"PRIMITIVE",t):y.call(b,"if_eq",(r=b&&b.firstMatch,null==r||!1===r?r:r.definitionStatus),"PRIMITIVE",t),(r||0===r)&&(u+=r),u+="\n            \n            ",s=c.if_eq||b&&b.if_eq,t={hash:{},inverse:x.program(20,p,e),fn:x.program(18,o,e),data:e},r=s?s.call(b,(r=b&&b.firstMatch,null==r||!1===r?r:r.active),!0,t):y.call(b,"if_eq",(r=b&&b.firstMatch,null==r||!1===r?r:r.active),!0,t),(r||0===r)&&(u+=r),u+='\n            <span id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-descendantInfor">Descendants count, Stated: <span id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-statedDescendantCount"></span> concepts, Inferred: <span id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-inferredDescendantCount"></span> concepts.</span>          \n        </td>\n        <td>\n            <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                <table border=\'1\'><tr><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr><tr><td style=\'padding: 3px;\'>'+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.effectiveTime,typeof r===v?r.apply(b):r))+"</td><td style='padding: 3px;'>"+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.moduleId,typeof r===v?r.apply(b):r))+'</td></tr></table>\n                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n            &nbsp;\n            <span class="pull-right">\n                <div class="dropdown">\n                    <button class="btn btn-link dropdown-toggle" type="button" id="dropdownMenu1-details" data-toggle="dropdown" aria-expanded="true">\n                        <i class="glyphicon glyphicon-export pull-right" id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-copy-icon-details"></i>\n                    </button>\n                    <ul class="dropdown-menu small pull-right" role="menu" aria-labelledby="dropdownMenu1-details">\n                        <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-copy-sctid-details" class="clip-btn" data-clipboard-text="'+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.conceptId,typeof r===v?r.apply(b):r))+'">Copy ConceptId</a></li>\n                        <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-copy-term-details" class="clip-btn" data-clipboard-text="'+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.defaultTerm,typeof r===v?r.apply(b):r))+'">Copy Term</a></li>\n                        <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-copy-sctid-term-details" class="clip-btn" data-clipboard-text="'+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.conceptId,typeof r===v?r.apply(b):r))+" |"+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.defaultTerm,typeof r===v?r.apply(b):r))+'|">Copy Term and ConceptId</a></li>\n                        <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'-copy-link-details" class="clip-btn" data-clipboard-text="',(s=c.link)?r=s.call(b,{hash:{},data:e}):(s=b&&b.link,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'">Copy Link to share</a></li>\n                    </ul>\n                </div>\n            </span>\n            ',r=c.if.call(b,b&&b.swedishExtension,{hash:{},inverse:x.noop,fn:x.program(22,q,e),data:e}),(r||0===r)&&(u+=r),u+='\n            \x3c!--<button type="button" id="share-link-',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'" class="btn btn-link more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="--\x3e\n                    \x3c!--<form><input class=\'form-control\' id=\'share-field-',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"' value='",(s=c.dataContentValue)?r=s.call(b,{hash:{},data:e}):(s=b&&b.dataContentValue,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"?perspective=full&conceptId1="+w((r=b&&b.firstMatch,r=null==r||!1===r?r:r.conceptId,typeof r===v?r.apply(b):r))+"&edition=",(s=c.edition)?r=s.call(b,{hash:{},data:e}):(s=b&&b.edition,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"&release=",(s=c.release)?r=s.call(b,{hash:{},data:e}):(s=b&&b.release,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"&server=",(s=c.server)?r=s.call(b,{hash:{},data:e}):(s=b&&b.server,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"&langRefset=",(s=c.langRefset)?r=s.call(b,{hash:{},data:e}):(s=b&&b.langRefset,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+'\'></form><br>Copy the concept link (e.g. CTRL-C) to save and share a reference to this concept.--\x3e\n                    \x3c!--" data-html="true"><i class="glyphicon glyphicon-share-alt"></i></button>--\x3e\n            <span class="pull-right">\n               <div class="phoca-flagbox" style="width:40px;height:40px">\n                   <span class="phoca-flag '+w((s=c.countryIcon||b&&b.countryIcon,t={hash:{},data:e},s?s.call(b,(r=b&&b.firstMatch,null==r||!1===r?r:r.moduleId),t):y.call(b,"countryIcon",(r=b&&b.firstMatch,null==r||!1===r?r:r.moduleId),t)))+'"></span>\n               </div>\n            </span>\n        </td>\n\n    </tr>\n</table>\n'}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/children-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n    ",d=c.if.call(a,a&&a.active,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f="";return f+='\n        <tr><td draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"\" data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"' data-term='",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"'>",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</td></tr>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+="<div>\n    <table class='table table-bordered'>\n        <thead>\n        <tr>\n            <th>\n                <span class='i18n' data-i18n-id='i18n_children'>Children</span>\n            </th>\n        </tr>\n        </thead>\n        <tbody>\n</div>\n",h=c.each.call(b,b&&b.childrenResult,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n</tbody>\n</table>"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b){return"\n                <th>SCTID</th>\n            "}function h(a,b){var d,e;return(e=c.languageName)?d=e.call(a,{hash:{},data:b}):(e=a&&a.languageName,d=typeof e===I?e.call(a,{hash:{},data:b}):e),J(d)}function i(a,b){var d,e;return(e=c.lang)?d=e.call(a,{hash:{},data:b}):(e=a&&a.lang,d=typeof e===I?e.call(a,{hash:{},data:b}):e),J(d)}function j(a,b,d,e){var f,g,h,i="";return i+="\n            <tr class='",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:L.program(10,l,b),fn:L.program(8,k,b),data:b},f=g?g.call(a,a&&a.typeId,"900000000000003001",h):K.call(a,"if_eq",a&&a.typeId,"900000000000003001",h),(f||0===f)&&(i+=f),f=c.if.call(a,a&&a.active,{hash:{},inverse:L.program(14,n,b),fn:L.program(12,m,b),data:b}),(f||0===f)&&(i+=f),g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:L.noop,fn:L.program(16,o,b),data:b},f=g?g.call(a,a&&a.effectiveTime,(f=e&&e.options,null==f||!1===f?f:f.highlightByEffectiveTime),h):K.call(a,"if_eq",a&&a.effectiveTime,(f=e&&e.options,null==f||!1===f?f:f.highlightByEffectiveTime),h),(f||0===f)&&(i+=f),i+="'>\n                    <td>\n                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:L.program(20,q,b),fn:L.program(18,p,b),data:b},f=g?g.call(a,a&&a.typeId,"900000000000003001",h):K.call(a,"if_eq",a&&a.typeId,"900000000000003001",h),(f||0===f)&&(i+=f),i+="\n\n                        ",f=c.if.call(a,a&&a.preferred,{hash:{},inverse:L.program(31,x,b),fn:L.program(26,u,b),data:b}),(f||0===f)&&(i+=f),i+="\n                        &nbsp;&nbsp;&nbsp;",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===I?g.call(a,{hash:{},data:b}):g),i+=J(f)+"</td>\n                    ",f=c.if.call(a,(f=d&&d.options,null==f||!1===f?f:f.showIds),{hash:{},inverse:L.noop,fn:L.program(36,A,b),data:b}),(f||0===f)&&(i+=f),i+="\n\n                    <td>\n                        ",f=c.if.call(a,a&&a.preferred,{hash:{},inverse:L.program(40,C,b),fn:L.program(38,B,b),data:b}),(f||0===f)&&(i+=f),i+="\n                        <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                        <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                <tr><td style='padding: 3px;'>",(g=c.descriptionId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descriptionId,f=typeof g===I?g.call(a,{hash:{},data:b}):g),i+=J(f)+"</td><td style='padding: 3px;'>"+J((g=c.parseCS||a&&a.parseCS,h={hash:{},data:b},g?g.call(a,"_"," ",a&&a.type,h):K.call(a,"parseCS","_"," ",a&&a.type,h)))+"</td><td style='padding: 3px;'>",(g=c.lang)?f=g.call(a,{hash:{},data:b}):(g=a&&a.lang,f=typeof g===I?g.call(a,{hash:{},data:b}):g),i+=J(f)+"</td><td style='padding: 3px;'>"+J((g=c.parseCS||a&&a.parseCS,h={hash:{},data:b},g?g.call(a,"_"," ",a&&a.caseSignificance,h):K.call(a,"parseCS","_"," ",a&&a.caseSignificance,h)))+"</td><td style='padding: 3px;'>",(g=c.effectiveTime)?f=g.call(a,{hash:{},data:b}):(g=a&&a.effectiveTime,f=typeof g===I?g.call(a,{hash:{},data:b}):g),i+=J(f)+"</td><td style='padding: 3px;'>",(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===I?g.call(a,{hash:{},data:b}):g),i+=J(f)+'</td></tr>\n                        </table>\n                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                    </td>\n                </tr>\n        '}function k(a,b){return" fsn-row"}function l(a,b){return" synonym-row"}function m(a,b){return""}function n(a,b){return" danger"}function o(a,b){return" highlightEffectiveTime"}function p(a,b){var d,e,f="";return f+='\n                            <span rel="tooltip-right" title="'+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_fsn","FSN",e):K.call(a,"i18n","i18n_fsn","FSN",e)))+'">F</span>\n                        '}function q(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:L.program(23,s,b),fn:L.program(21,r,b),data:b},d=e?e.call(a,a&&a.typeId,"900000000000013009",f):K.call(a,"if_eq",a&&a.typeId,"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                        "}function r(a,b){var d,e,f="";return f+='\n                                <span rel="tooltip-right" title="'+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_synonym","Synonym",e):K.call(a,"i18n","i18n_synonym","Synonym",e)))+'">S</span>\n                            '}function s(a,b){var d,e,f,g="";return g+="\n                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:L.noop,fn:L.program(24,t,b),data:b},d=e?e.call(a,a&&a.typeId,"900000000000550004",f):K.call(a,"if_eq",a&&a.typeId,"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                            "}function t(a,b){var d,e,f="";return f+='\n                                    <span rel="tooltip-right" title="'+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_definition","Definition",e):K.call(a,"i18n","i18n_definition","Definition",e)))+'">D</span>\n                                '}function u(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:L.program(29,w,b),fn:L.program(27,v,b),data:b},d=e?e.call(a,a&&a.typeId,"900000000000003001",f):K.call(a,"if_eq",a&&a.typeId,"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                        "}function v(a,b){var d,e,f="";return f+='\n                                &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="'+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_preferred","Preferred",e):K.call(a,"i18n","i18n_preferred","Preferred",e)))+'"></span>\n                            '}function w(a,b){var d,e,f="";return f+='\n                                &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="'+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_preferred","Preferred",e):K.call(a,"i18n","i18n_preferred","Preferred",e)))+'"></span>\n                            '}function x(a,b){var d,e="";return e+="\n                            ",d=c.if.call(a,a&&a.acceptable,{hash:{},inverse:L.program(34,z,b),fn:L.program(32,y,b),data:b}),(d||0===d)&&(e+=d),e+="\n                        "}function y(a,b){var d,e,f="";return f+='\n                                &nbsp;<span rel="tooltip-right" title="'+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_acceptable","Acceptable",e):K.call(a,"i18n","i18n_acceptable","Acceptable",e)))+'">&#10004;</span></span>\n                            '}function z(a,b){return"\n                                &nbsp;&nbsp;&nbsp;\n                            "}function A(a,b){var d,e,f="";return f+="\n                        <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===I?e.call(a,{hash:{},data:b}):e),f+=J(d)+"</td>\n                    "}function B(a,b){var d,e,f="";return f+="\n                            <span class='i18n' data-i18n-id='i18n_preferred'>"+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_preferred","Preferred",e):K.call(a,"i18n","i18n_preferred","Preferred",e)))+"</span>\n                        "}function C(a,b){var d,e="";return e+="\n                            ",d=c.if.call(a,a&&a.acceptable,{hash:{},inverse:L.program(43,E,b),fn:L.program(41,D,b),data:b}),(d||0===d)&&(e+=d),e+="\n                        "}function D(a,b){var d,e,f="";return f+="\n                                <span class='i18n' data-i18n-id='i18n_acceptable'>"+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_acceptable","Acceptable",e):K.call(a,"i18n","i18n_acceptable","Acceptable",e)))+"</span>\n                            "}function E(a,b){var d,e,f="";return f+="\n                                <span class='i18n' data-i18n-id='i18n_not_acceptable'>"+J((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_not_acceptable","Not acceptable",e):K.call(a,"i18n","i18n_not_acceptable","Not acceptable",e)))+"</span>\n                            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var F,G,H="",I="function",J=this.escapeExpression,K=c.helperMissing,L=this;return H+="<table class='table table-bordered' id = '",(G=c.divElementId)?F=G.call(b,{hash:{},data:e}):(G=b&&b.divElementId,F=typeof G===I?G.call(b,{hash:{},data:e}):G),H+=J(F)+'-descriptions-panel-table\'>\n    <thead>\n        <tr>\n           <th colspan="2" class="text-center">',(G=c.longLangName)?F=G.call(b,{hash:{},data:e}):(G=b&&b.longLangName,F=typeof G===I?G.call(b,{hash:{},data:e}):G),H+=J(F)+"</th>\n        </tr>\n        <tr>\n            <th><span class='i18n' data-i18n-id='i18n_term'>Term</span></th>\n            ",F=c.if.call(b,(F=b&&b.options,null==F||!1===F?F:F.showIds),{hash:{},inverse:L.noop,fn:L.program(1,g,e),data:e}),(F||0===F)&&(H+=F),H+="\n            <th><span class='i18n' data-i18n-id='i18n_acceptability'>Acceptability</span>&nbsp;&nbsp;",F=c.if.call(b,b&&b.languageName,{hash:{},inverse:L.program(5,i,e),fn:L.program(3,h,e),data:e}),(F||0===F)&&(H+=F),H+="</th>\n        </tr>\n    </thead>\n    <tbody>\n        ",F=c.each.call(b,b&&b.allDescriptions,{hash:{},inverse:L.noop,fn:L.programWithDepth(7,j,e,b,f),data:e}),(F||0===F)&&(H+=F),H+="\n    </tbody>\n</table>\n"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/diagram.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="container" style="max-width: 100%;">\n    <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-diagram-toolbar" class="row">\n        <div class="row" style="margin: 15px;">\n            <div class="btn-toolbar pull-right" role="toolbar">               \n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-download-button" type="button" class="btn btn-primary btn-sm disabled" style="display: block;">Download Diagram</button>                \n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-png-button" type="button" class="btn btn-success btn-sm" style="display: none;"><span class="glyphicon glyphicon-picture"></span> PNG</button>\n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-svg-button" type="button" class="btn btn-success btn-sm" style="display: none;"><span class="glyphicon glyphicon-tint"></span> SVG</button>\n            </div>\n        </div>\n    </div>\n    <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-diagram-body" class="row" style="overflow: auto; width: 1000;"></div>\n</div>'}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/jira-issues-collector.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div>\n    <script type="text/javascript" src="https://jira.ihtsdotools.org/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-6fupcg/802003/fe47b4489ac981edbb824b5107716c37/2.2.4.7/_/download/batch/com.atlassian.plugins.jquery:jquery/com.atlassian.plugins.jquery:jquery.js?collectorId=bedcc164"><\/script>\n    <script type="text/javascript" src="https://jira.ihtsdotools.org/s/1e429f95cf34cfd3040da73ee0505926-T/-6fupcg/802003/fe47b4489ac981edbb824b5107716c37/3.0.7/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en&collectorId=bedcc164"><\/script>\n\n    <script type="text/javascript">        \n        window.ATL_JQ_PAGE_PROPS =  {\n            "triggerFunction": function(showCollectorDialog) {\n                jQuery("#',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-addsyn-issue-collector\").click(function(e) {\n                    e.preventDefault();\n                    showCollectorDialog();\n                });\n            },\n\n            fieldValues: {\n                'summary': 'Frslag p synonymer fr begreppet: ' + "+j((f=b&&b.firstMatch,f=null==f||!1===f?f:f.conceptId,typeof f===i?f.apply(b):f))+",\n                'customfield_10602': "+j((f=b&&b.firstMatch,f=null==f||!1===f?f:f.conceptId,typeof f===i?f.apply(b):f))+"\n            }\n        };\n\n        function openJiraIssueCollectorDialog() {\n            var link = document.getElementById('",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-addsyn-issue-collector');\n            link.click();\n            watchIssueCollectorDialogEvents();            \n        }\n\n        function watchIssueCollectorDialogEvents() {\n            //watch if dialog has been loaded completely\n            var issueCollectorDialoglocadingCompleteInterval = setInterval(function() {              \n                var elm = $('#atlwdg-container');                \n                if (elm && elm.length > 0 && !elm[0].classList.contains('atlwdg-hidden')) {\n                    clearInterval(issueCollectorDialoglocadingCompleteInterval);\n                    \n                    //watch if dialog is being got closed\n                    var issueCollectorDialogClosingInterval = setInterval(function() {              \n                        var elm = $('#atlwdg-container');                \n                        if (elm && elm.length > 0 && elm[0].classList.contains('atlwdg-hidden')) {\n                            clearInterval(issueCollectorDialogClosingInterval);\n                            var frame = parent.document.getElementById('",(g=c.frameId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.frameId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"');\n                            frame.style.display = 'none';\n                            frame.style.zIndex = '0';\n                        }\n                    }, 1000);\n                }\n            }, 1000);\n        }\n\n    <\/script>\n\n    <button style=\"display: none !important\">\n        <i id=\"",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-addsyn-issue-collector"></i>\n    </button>\n</div>'}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/details/rels-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n    <table class='table table-bordered'>\n        <thead>\n        <tr>\n            <th><span class='i18n' data-i18n-id='i18n_type'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_type","Type",f):ka.call(a,"i18n","i18n_type","Type",f)))+"</span></th>\n            <th><span class='i18n' data-i18n-id='i18n_destination'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_destination","Destination",f):ka.call(a,"i18n","i18n_destination","Destination",f)))+"</span></th>\n            <th><span class='i18n' data-i18n-id='i18n_group'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_group","Group",f):ka.call(a,"i18n","i18n_group","Group",f)))+"</span></th>\n            <th><span class='i18n' data-i18n-id='i18n_char_type'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_char_type","CharType",f):ka.call(a,"i18n","i18n_char_type","CharType",f)))+"</span></th>\n        </tr>\n        </thead>\n        <tbody>\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(5,i,b),fn:ja.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.relationships),"undefined",f):ka.call(a,"if_eq",(d=a&&a.firstMatch,null==d||!1===d?d:d.relationships),"undefined",f),(d||0===d)&&(h+=d),h+="\n        </tbody>\n    </table>\n"}function g(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.noop,fn:ja.program(3,h,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.statedRelationships),"undefined",f):ka.call(a,"if_eq",(d=a&&a.firstMatch,null==d||!1===d?d:d.statedRelationships),"undefined",f),(d||0===d)&&(g+=d),g+="\n        "}function h(a,b){return"\n                <tr><td colspan='4'><span class='text-muted'>No relationships</span></td></tr>\n            "}function i(a,b){var d,e="";return e+="\n            ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.relationships),{hash:{},inverse:ja.noop,fn:ja.program(6,j,b),data:b}),(d||0===d)&&(e+=d),e+="\n        "}function j(a,b){var d,e="";return e+="\n                ",d=c.if.call(a,a&&a.active,{hash:{},inverse:ja.noop,fn:ja.programWithDepth(7,k,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n            "}function k(a,b,d){var e,f,g,h="";return h+="\n                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.noop,fn:ja.programWithDepth(8,l,b,d),data:b},e=f?f.call(a,a&&a.characteristicType,"INFERRED_RELATIONSHIP",g):ka.call(a,"if_eq",a&&a.characteristicType,"INFERRED_RELATIONSHIP",g),(e||0===e)&&(h+=e),h+="\n                "}function l(a,b,d){var e,f,g,h="";return h+="\n                        <tr class='inferred-rel\n                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.noop,fn:ja.program(9,m,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||!1===e?e:e.highlightByEffectiveTime),g):ka.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||!1===e?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="\n                            '>\n                            <td>\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(13,o,b),fn:ja.program(11,n,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g):ka.call(a,"if_eq",(e=a&&a.type,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                "+ma((e=a&&a.type,e=null==e||!1===e?e:e.defaultTerm,typeof e===la?e.apply(a):e))+"\n                            </td>\n                            <td>\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(17,q,b),fn:ja.program(15,p,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g):ka.call(a,"if_eq",(e=a&&a.target,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                "+ma((e=a&&a.target,e=null==e||!1===e?e:e.defaultTerm,typeof e===la?e.apply(a):e))+"</td>\n                            <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td>\n                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(21,s,b),fn:ja.program(19,r,b),data:b},e=f?f.call(a,a&&a.characteristicType,"STATED_RELATIONSHIP",g):ka.call(a,"if_eq",a&&a.characteristicType,"STATED_RELATIONSHIP",g),(e||0===e)&&(h+=e),h+="\n                            <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                <table border='1'><tr><th style='padding: 3px;'>TypeId</th><th style='padding: 3px;'>TargetId</th><th style='padding: 3px;'>Modifier</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                    <tr><td style='padding: 3px;'>"+ma((e=a&&a.type,e=null==e||!1===e?e:e.conceptId,typeof e===la?e.apply(a):e))+"</td><td style='padding: 3px;'>"+ma((e=a&&a.target,e=null==e||!1===e?e:e.conceptId,typeof e===la?e.apply(a):e))+"</td><td style='padding: 3px;'>",(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td><td style='padding: 3px;'>",(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+'</td></tr>\n                                </table>\n                                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                        </td>\n                        </tr>\n                    '}function m(a,b){return"\n                                 highlightEffectiveTime\n                            "}function n(a,b){var d,e,f="";return f+='\n                                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                '}function o(a,b){var d,e,f="";return f+='\n                                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                '}function p(a,b){var d,e,f="";return f+='\n                                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                '}function q(a,b){var d,e,f="";return f+='\n                                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                '}function r(a,b){var d,e,f="";return f+="\n                            <td><span class='i18n' data-i18n-id='i18n_stated'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_stated","Stated",e):ka.call(a,"i18n","i18n_stated","Stated",e)))+"</span>\n                            "}function s(a,b){var d,e,f,g="";return g+="\n                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(24,u,b),fn:ja.program(22,t,b),data:b},d=e?e.call(a,a&&a.characteristicType,"INFERRED_RELATIONSHIP",f):ka.call(a,"if_eq",a&&a.characteristicType,"INFERRED_RELATIONSHIP",f),(d||0===d)&&(g+=d),g+="\n                            "}function t(a,b){var d,e,f="";return f+="\n                                <td><span class='i18n' data-i18n-id='i18n_inferred'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_inferred","Inferred",e):ka.call(a,"i18n","i18n_inferred","Inferred",e)))+"</span>\n                                "}function u(a,b){var d,e,f="";return f+="\n                                <td><span class='i18n' data-i18n-id='i18n_other'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_other","Other",e):ka.call(a,"i18n","i18n_other","Other",e)))+"</span>\n                                "}function v(a,b){var d,e,f,g="";return g+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(29,x,b),fn:ja.program(27,w,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.statedRelationships),"undefined",f):ka.call(a,"if_eq",(d=a&&a.firstMatch,null==d||!1===d?d:d.statedRelationships),"undefined",f),(d||0===d)&&(g+=d),g+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(43,G,b),fn:ja.program(27,w,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||!1===d?d:d.classAxioms,null==d||!1===d?d:d.length),0,f):ka.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||!1===d?d:d.classAxioms,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(62,S,b),fn:ja.program(27,w,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||!1===d?d:d.gciAxioms,null==d||!1===d?d:d.length),0,f):ka.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||!1===d?d:d.gciAxioms,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n    ",e=c.if_undefined||a&&a.if_undefined,f={hash:{},inverse:ja.program(73,$,b),fn:ja.program(27,w,b),data:b},d=e?e.call(a,a&&a.additionalRels,f):ka.call(a,"if_undefined",a&&a.additionalRels,f),(d||0===d)&&(g+=d),g+="\n"}function w(a,b){return"\n    "}function x(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(41,F,b),fn:ja.program(30,y,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.statedActive),"true",f):ka.call(a,"if_eq",(d=a&&a.firstMatch,null==d||!1===d?d:d.statedActive),"true",f),(d||0===d)&&(g+=d),g+="\n        "}function y(a,b){var d,e,f,g="";return g+="\n                <table class='table table-bordered'>\n                    <thead>\n                    <tr>\n                        <th><span class='i18n' data-i18n-id='i18n_type'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_type","Type",f):ka.call(a,"i18n","i18n_type","Type",f)))+"</span></th>\n                        <th><span class='i18n' data-i18n-id='i18n_destination'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_destination","Destination",f):ka.call(a,"i18n","i18n_destination","Destination",f)))+"</span></th>\n                        <th><span class='i18n' data-i18n-id='i18n_group'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_group","Group",f):ka.call(a,"i18n","i18n_group","Group",f)))+"</span></th>\n                        <th><span class='i18n' data-i18n-id='i18n_char_type'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_char_type","CharType",f):ka.call(a,"i18n","i18n_char_type","CharType",f)))+"</span></th>\n                    </tr>\n                    </thead>\n                        <tbody>\n                        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.statedRelationships),{hash:{},inverse:ja.noop,fn:ja.program(31,z,b),data:b}),(d||0===d)&&(g+=d),g+="\n                        </tbody>\n                    </table>\n            "}function z(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.noop,fn:ja.program(32,A,b),data:b},d=e?e.call(a,a&&a.active,!0,f):ka.call(a,"if_eq",a&&a.active,!0,f),(d||0===d)&&(g+=d),g+="\n                        "}function A(a,b){var d,e,f,g="";return g+='\n                                <tr style="display: table-row">\n                                    <td>\n                                        ',e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(35,C,b),fn:ja.program(33,B,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):ka.call(a,"if_eq",(d=a&&a.type,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                                        "+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+"\n                                    </td>\n                                    <td>\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(39,E,b),fn:ja.program(37,D,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):ka.call(a,"if_eq",(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                                        "+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+"\n                                    </td>\n                                    <td>",(e=c.groupId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.groupId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+"</td>\n                                    <td><span class='i18n' data-i18n-id='i18n_stated'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_stated","Stated",f):ka.call(a,"i18n","i18n_stated","Stated",f)))+"</span>\n                                        <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                            <table border='1'><tr><th style='padding: 3px;'>TypeId</th><th style='padding: 3px;'>TargetId</th><th style='padding: 3px;'>Modifier</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                                <tr><td style='padding: 3px;'>"+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+"</td><td style='padding: 3px;'>"+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.modifier)?d=e.call(a,{hash:{},data:b}):(e=a&&a.modifier,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+"</td><td style='padding: 3px;'>",(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+'</td></tr>\n                                            </table>\n                                            " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                    </td>\n                                </tr>\n                            '}function B(a,b){var d,e,f="";return f+='\n                                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                        '}function C(a,b){var d,e,f="";return f+='\n                                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                        '}function D(a,b){var d,e,f="";return f+='\n                                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                        '}function E(a,b){var d,e,f="";return f+='\n                                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                        '}function F(a,b){return"\n            "}function G(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.noop,fn:ja.program(44,H,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.selectedView),"stated",f):ka.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.selectedView),"stated",f),(d||0===d)&&(g+=d),g+="\n    "}function H(a,b){var d,e="";return e+="\n            ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.classAxioms),{hash:{},inverse:ja.noop,fn:ja.programWithDepth(45,I,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n        "}function I(a,b,d){var e,f,g,h="";return h+='\n                <table class=\'table table-bordered\'>\n                    <thead>\n                    <tr>\n                        <th colspan="4">\n                            <span>Axiom</span>\n                            <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" style="padding-top: 0px; padding-bottom: 0px" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                                        <table border=\'1\'><tr><th style=\'padding: 3px;\'>Axiom ID</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                                            <tr><td style=\'padding: 3px;\'>',(f=c.axiomId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.axiomId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td><td style='padding: 3px;'>",(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+'</td></tr>\n                                        </table>\n                                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                        </th>\n                    </tr>\n                    <tr>\n                        ',f=c.if_gr||d&&d.if_gr,g={hash:{},inverse:ja.program(48,K,b),fn:ja.program(46,J,b),data:b},e=f?f.call(a,d&&d.totalStatedAxioms,1,g):ka.call(a,"if_gr",d&&d.totalStatedAxioms,1,g),(e||0===e)&&(h+=e),h+="\n                    </tr>\n                    </thead>\n                    <tbody>\n                    ",e=c.each.call(a,a&&a.relationships,{hash:{},inverse:ja.noop,fn:ja.programWithDepth(50,L,b,a),data:b}),(e||0===e)&&(h+=e),h+="\n                    </tbody>\n                </table>\n                <br><br><br>\n            "}function J(a,b){var d,e,f="";return f+="\n                        <th style=\"width : 30%\"><span class='i18n' data-i18n-id='i18n_type'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_type","Type",e):ka.call(a,"i18n","i18n_type","Type",e)))+"</span></th>\n                        <th style=\"width : 45%\"><span class='i18n' data-i18n-id='i18n_destination'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_destination","Destination",e):ka.call(a,"i18n","i18n_destination","Destination",e)))+"</span></th>\n                        <th style=\"width : 10%\"><span class='i18n' data-i18n-id='i18n_group'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_group","Group",e):ka.call(a,"i18n","i18n_group","Group",e)))+"</span></th>\n                        <th style=\"width : 15%\"><span class='i18n' data-i18n-id='i18n_char_type'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_char_type","CharType",e):ka.call(a,"i18n","i18n_char_type","CharType",e)))+"</span></th>\n                        "}function K(a,b){var d,e,f="";return f+="\n                        <th><span class='i18n' data-i18n-id='i18n_type'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_type","Type",e):ka.call(a,"i18n","i18n_type","Type",e)))+"</span></th>\n                        <th><span class='i18n' data-i18n-id='i18n_destination'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_destination","Destination",e):ka.call(a,"i18n","i18n_destination","Destination",e)))+"</span></th>\n                        <th><span class='i18n' data-i18n-id='i18n_group'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_group","Group",e):ka.call(a,"i18n","i18n_group","Group",e)))+"</span></th>\n                        <th><span class='i18n' data-i18n-id='i18n_char_type'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_char_type","CharType",e):ka.call(a,"i18n","i18n_char_type","CharType",e)))+"</span></th>\n                        "}function L(a,b,d){var e,f="";return f+="\n                        ",e=c.if.call(a,a&&a.active,{hash:{},inverse:ja.noop,fn:ja.programWithDepth(51,M,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                    "}function M(a,b,d){var e,f,g,h="";return h+="\n                            <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.noop,fn:ja.program(52,N,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||!1===e?e:e.highlightByEffectiveTime),g):ka.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||!1===e?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                                <td>\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(56,P,b),fn:ja.program(54,O,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g):ka.call(a,"if_eq",(e=a&&a.type,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                    "+ma((e=a&&a.type,e=null==e||!1===e?e:e.defaultTerm,typeof e===la?e.apply(a):e))+"</td>\n                                <td>\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(60,R,b),fn:ja.program(58,Q,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g):ka.call(a,"if_eq",(e=a&&a.target,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                    "+ma((e=a&&a.target,e=null==e||!1===e?e:e.defaultTerm,typeof e===la?e.apply(a):e))+"</td>\n                                <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td>\n                                <td><span class='i18n' data-i18n-id='i18n_stated'>"+ma((f=c.i18n||a&&a.i18n,g={hash:{},data:b},f?f.call(a,"i18n_stated","Stated",g):ka.call(a,"i18n","i18n_stated","Stated",g)))+'</span>\n                                    <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                                            <table border=\'1\'><tr><th style=\'padding: 3px;\'>TypeId</th><th style=\'padding: 3px;\'>TargetId</th><th style=\'padding: 3px;\'>Modifier</th></tr>\n                                                <tr><td style=\'padding: 3px;\'>'+ma((e=a&&a.type,e=null==e||!1===e?e:e.conceptId,typeof e===la?e.apply(a):e))+"</td><td style='padding: 3px;'>"+ma((e=a&&a.target,e=null==e||!1===e?e:e.conceptId,typeof e===la?e.apply(a):e))+"</td><td style='padding: 3px;'>",(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+'</td></tr>\n                                            </table>\n                                            " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                </td>\n                            </tr>\n                        '}function N(a,b){return"highlightEffectiveTime"}function O(a,b){var d,e,f="";return f+='\n                                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')" data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                    '}function P(a,b){var d,e,f="";return f+='\n                                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')" data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                    '}function Q(a,b){var d,e,f="";return f+='\n                                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                    '}function R(a,b){var d,e,f="";return f+='\n                                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                    '}function S(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.noop,fn:ja.program(63,T,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.selectedView),"stated",f):ka.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.selectedView),"stated",f),(d||0===d)&&(g+=d),g+="\n    "}function T(a,b){var d,e="";return e+="\n            ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.gciAxioms),{hash:{},inverse:ja.noop,fn:ja.programWithDepth(64,U,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n        "}function U(a,b,d){var e,f,g,h="";return h+='\n                <table class=\'table table-bordered\'>\n                    <thead>\n                    <th colspan="4">\n                        <span>GCI</span>\n                        <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" style="padding-top: 0px; padding-bottom: 0px" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                                            <table border=\'1\'><tr><th style=\'padding: 3px;\'>Axiom ID</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                                                <tr><td style=\'padding: 3px;\'>',(f=c.axiomId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.axiomId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td><td style='padding: 3px;'>",(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+'</td></tr>\n                                            </table>\n                                            " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                    </th>\n                    <tr>\n                        ',f=c.if_gr||d&&d.if_gr,g={hash:{},inverse:ja.program(48,K,b),fn:ja.program(65,V,b),data:b},e=f?f.call(a,d&&d.totalStatedAxioms,1,g):ka.call(a,"if_gr",d&&d.totalStatedAxioms,1,g),(e||0===e)&&(h+=e),h+="\n                    </tr>\n                    </thead>\n                    <tbody>\n                    ",e=c.each.call(a,a&&a.relationships,{hash:{},inverse:ja.noop,fn:ja.programWithDepth(67,W,b,a),data:b}),(e||0===e)&&(h+=e),h+="\n                    </tbody>\n                </table>\n                <br><br><br>\n            "}function V(a,b){var d,e,f="";return f+="\n                        <th style=\"width : 30%\"><span class='i18n' data-i18n-id='i18n_type'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_type","Type",e):ka.call(a,"i18n","i18n_type","Type",e)))+"</span></th>\n                        <th style=\"width : 45%\"><span class='i18n' data-i18n-id='i18n_destination'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_destination","Destination",e):ka.call(a,"i18n","i18n_destination","Destination",e)))+"</span></th>\n                        <th style=\"width : 10%\"><span class='i18n' data-i18n-id='i18n_group'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_group","Group",e):ka.call(a,"i18n","i18n_group","Group",e)))+"</span></th>\n                        <th style=\"width : 25%\"><span class='i18n' data-i18n-id='i18n_char_type'>"+ma((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_char_type","CharType",e):ka.call(a,"i18n","i18n_char_type","CharType",e)))+"</span></th>\n                        "}function W(a,b,d){var e,f="";return f+="\n                        ",e=c.if.call(a,a&&a.active,{hash:{},inverse:ja.noop,fn:ja.programWithDepth(68,X,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                    "}function X(a,b,d){var e,f,g,h="";return h+="\n                            <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.noop,fn:ja.program(52,N,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||!1===e?e:e.highlightByEffectiveTime),g):ka.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||!1===e?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                                <td>\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(56,P,b),fn:ja.program(54,O,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g):ka.call(a,"if_eq",(e=a&&a.type,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                    "+ma((e=a&&a.type,e=null==e||!1===e?e:e.defaultTerm,typeof e===la?e.apply(a):e))+"</td>\n                                <td>\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:ja.program(71,Z,b),fn:ja.program(69,Y,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g):ka.call(a,"if_eq",(e=a&&a.target,null==e||!1===e?e:e.definitionStatus),"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                    "+ma((e=a&&a.target,e=null==e||!1===e?e:e.defaultTerm,typeof e===la?e.apply(a):e))+"</td>\n                                <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+"</td>\n                                <td><span class='i18n' data-i18n-id='i18n_stated'>"+ma((f=c.i18n||a&&a.i18n,g={hash:{},data:b},f?f.call(a,"i18n_stated","Stated",g):ka.call(a,"i18n","i18n_stated","Stated",g)))+'</span>\n                                    <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                                            <table border=\'1\'><tr><th style=\'padding: 3px;\'>TypeId</th><th style=\'padding: 3px;\'>TargetId</th><th style=\'padding: 3px;\'>Modifier</th></tr>\n                                                <tr><td style=\'padding: 3px;\'>'+ma((e=a&&a.type,e=null==e||!1===e?e:e.conceptId,typeof e===la?e.apply(a):e))+"</td><td style='padding: 3px;'>"+ma((e=a&&a.target,e=null==e||!1===e?e:e.conceptId,typeof e===la?e.apply(a):e))+"</td><td style='padding: 3px;'>",(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===la?f.call(a,{hash:{},data:b}):f),h+=ma(e)+'</td></tr>\n                                            </table>\n                                            " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                </td>\n                            </tr>\n                        '}function Y(a,b){var d,e,f="";return f+='\n                                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')" data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                                    '}function Z(a,b){var d,e,f="";return f+='\n                                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')" data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                                    '}function $(a,b){var d,e,f,g="";return g+="\n        <table class='table table-bordered'>\n            <thead>\n            <tr>\n                <th><span class='i18n' data-i18n-id='i18n_type'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_type","Type",f):ka.call(a,"i18n","i18n_type","Type",f)))+"</span></th>\n                <th><span class='i18n' data-i18n-id='i18n_destination'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_destination","Destination",f):ka.call(a,"i18n","i18n_destination","Destination",f)))+"</span></th>\n                <th><span class='i18n' data-i18n-id='i18n_char_type'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_char_type","CharType",f):ka.call(a,"i18n","i18n_char_type","CharType",f)))+"</span></th>\n            </tr>\n            </thead>\n            <tbody>\n            ",d=c.each.call(a,a&&a.additionalRels,{hash:{},inverse:ja.noop,fn:ja.program(74,_,b),data:b}),(d||0===d)&&(g+=d),g+="\n            </tbody>\n        </table>\n    "}function _(a,b){var d,e="";return e+="\n                ",d=c.if.call(a,a&&a.active,{hash:{},inverse:ja.noop,fn:ja.program(75,aa,b),data:b}),(d||0===d)&&(e+=d),e+="\n            "}function aa(a,b){var d,e,f,g="";return g+="\n                    <tr>\n                        <td>\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(78,ca,b),fn:ja.program(76,ba,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):ka.call(a,"if_eq",(d=a&&a.type,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                            "+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+"</td>\n                        <td>\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:ja.program(82,ea,b),fn:ja.program(80,da,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):ka.call(a,"if_eq",(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                            "+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+"</td>\n                        <td><span class='i18n' data-i18n-id='i18n_additional'>"+ma((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_additional","Additional",f):ka.call(a,"i18n","i18n_additional","Additional",f)))+"</span>\n                            <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                            <table border='1'><tr><th style='padding: 3px;'>TypeId</th><th style='padding: 3px;'>TargetId</th><th style='padding: 3px;'>Modifier</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                                <tr><td style='padding: 3px;'>"+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+"</td><td style='padding: 3px;'>"+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.modifier)?d=e.call(a,{hash:{},data:b}):(e=a&&a.modifier,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+"</td><td style='padding: 3px;'>",(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),g+=ma(d)+'</td></tr>\n                                            </table>\n                                            " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                        </td>\n                    </tr>\n                '}function ba(a,b){var d,e,f="";return f+='\n                                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')" data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                            '}function ca(a,b){var d,e,f="";return f+='\n                                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')" data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                            '}function da(a,b){var d,e,f="";return f+='\n                                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                            '}function ea(a,b){var d,e,f="";return f+='\n                                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'\')"  data-module="',(e=c.moduleId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.moduleId,d=typeof e===la?e.call(a,{hash:{},data:b}):e),f+=ma(d)+'" data-concept-id="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===la?d.apply(a):d))+'" data-term="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===la?d.apply(a):d))+'" data-def-status="'+ma((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===la?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var fa,ga,ha,ia="",ja=this,ka=c.helperMissing,la="function",ma=this.escapeExpression;return ga=c.if_eq||b&&b.if_eq,ha={hash:{},inverse:ja.noop,fn:ja.program(1,f,e),data:e},fa=ga?ga.call(b,(fa=b&&b.options,null==fa||!1===fa?fa:fa.selectedView),"inferred",ha):ka.call(b,"if_eq",(fa=b&&b.options,null==fa||!1===fa?fa:fa.selectedView),"inferred",ha),(fa||0===fa)&&(ia+=fa),ia+="\n\n",ga=c.if_eq||b&&b.if_eq,ha={hash:{},inverse:ja.noop,fn:ja.program(26,v,e),data:e},fa=ga?ga.call(b,(fa=b&&b.options,null==fa||!1===fa?fa:fa.selectedView),"stated",ha):ka.call(b,"if_eq",(fa=b&&b.options,null==fa||!1===fa?fa:fa.selectedView),"stated",ha),(fa||0===fa)&&(ia+=fa),ia+="\n"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/expression.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n    ",d=c.each.call(a,a&&a.classAxiomOwlExpressions,{hash:{},inverse:p.noop,fn:p.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f="";return f+='\n        <p class="" style="margin-top: 20px;">Expression from Class Axiom Definition (*)&nbsp;&nbsp;&nbsp;&nbsp;<small><i class="glyphicon glyphicon-export clip-btn-exp" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'-copy-axiom-expression" data-clipboard-text="'+o(typeof a===n?a.apply(a):a)+'"></i></small></p>\n        <div class="expression-code" style="margin-top: 10px; padding: 10px;"><pre>'+o(typeof a===n?a.apply(a):a)+"</pre></div>\n    "}function h(a,b){var d,e="";return e+="\n    ",d=c.each.call(a,a&&a.gciAxiomOwlExpressions,{hash:{},inverse:p.noop,fn:p.program(5,i,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function i(a,b){var d,e,f="";return f+='\n        <p class="" style="margin-top: 20px;">Expression from GCI Axiom Definition (*)&nbsp;&nbsp;&nbsp;&nbsp;<small><i class="glyphicon glyphicon-export clip-btn-exp" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'-copy-axiom-expression" data-clipboard-text="'+o(typeof a===n?a.apply(a):a)+'"></i></small></p>\n        <div class="expression-code" style="margin-top: 10px; padding: 10px;"><pre>'+o(typeof a===n?a.apply(a):a)+"</pre></div>\n    "}function j(a,b){var d,e,f="";return f+='\n    <p class="" style="margin-top: 20px;">Expression from Stated Concept Definition (*)&nbsp;&nbsp;&nbsp;&nbsp;<small><i class="glyphicon glyphicon-export clip-btn-exp" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'-copy-stated-expression" data-clipboard-text="',(e=c.plainStatedExpression)?d=e.call(a,{hash:{},data:b}):(e=a&&a.plainStatedExpression,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'"></i></small></p>\n    <div class="expression-code" style="margin-top: 10px; padding: 10px;">',(e=c.statedExpressionHtml)?d=e.call(a,{hash:{},data:b}):(e=a&&a.statedExpressionHtml,d=typeof e===n?e.call(a,{hash:{},data:b}):e),(d||0===d)&&(f+=d),f+="</div>    \n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m="",n="function",o=this.escapeExpression,p=this;return m+='<p class="" style="margin-top: 20px;">Pre-coordinated Expression (*)&nbsp;&nbsp;&nbsp;&nbsp;<small><i class="glyphicon glyphicon-export clip-btn-exp" id="',(l=c.divElementId)?k=l.call(b,{hash:{},data:e}):(l=b&&b.divElementId,k=typeof l===n?l.call(b,{hash:{},data:e}):l),m+=o(k)+'-copy-pre-coordinated-expression"  data-clipboard-text="',(l=c.plainPreCoordinatedExpression)?k=l.call(b,{hash:{},data:e}):(l=b&&b.plainPreCoordinatedExpression,k=typeof l===n?l.call(b,{hash:{},data:e}):l),m+=o(k)+'"></i></small></p>\n<div class="expression-code" style="margin-top: 10px; padding: 10px;">',(l=c.preCoordinatedExpressionHtml)?k=l.call(b,{hash:{},data:e}):(l=b&&b.preCoordinatedExpressionHtml,k=typeof l===n?l.call(b,{hash:{},data:e}):l),(k||0===k)&&(m+=k),m+="</div>\n\n",k=c.if.call(b,b&&b.classAxiomOwlExpressions,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(k||0===k)&&(m+=k),m+="\n\n",k=c.if.call(b,b&&b.gciAxiomOwlExpressions,{hash:{},inverse:p.noop,fn:p.program(4,h,e),data:e}),(k||0===k)&&(m+=k),m+="\n\n",k=c.if.call(b,b&&b.statedExpressionHtml,{hash:{},inverse:p.noop,fn:p.program(7,j,e),data:e}),(k||0===k)&&(m+=k),m+='\n<p class="" style="margin-top: 20px;">Expression from Inferred Concept Definition (*)&nbsp;&nbsp;&nbsp;&nbsp;<small><i class="glyphicon glyphicon-export clip-btn-exp" id="',(l=c.divElementId)?k=l.call(b,{hash:{},data:e}):(l=b&&b.divElementId,k=typeof l===n?l.call(b,{hash:{},data:e}):l),m+=o(k)+'-copy-inferred-expression" data-clipboard-text="',(l=c.plainInferredExpression)?k=l.call(b,{hash:{},data:e}):(l=b&&b.plainInferredExpression,k=typeof l===n?l.call(b,{hash:{},data:e}):l),m+=o(k)+'"></i></small></p>\n<div class="expression-code" style="margin-top: 10px; padding: 10px;">',(l=c.inferredExpressionHtml)?k=l.call(b,{hash:{},data:e}):(l=b&&b.inferredExpressionHtml,k=typeof l===n?l.call(b,{hash:{},data:e}):l),(k||0===k)&&(m+=k),m+='</div>\n<br><br>\n<div class="well small">\n    <p>(*) The expressions are generated according to the ABNF syntax found in the "SNOMED CT Compositional Grammar Specification and Guide" (<a href="http://snomed.org/compgrammar" target="_blank">http://snomed.org/compgrammar</a>)</p>\n    <p>SNOMED CT Compositional Grammar is a lightweight syntax for the representation of SNOMED CT expressions. SNOMED CT expressions are used in Electronic Health Records (EHRs) to represent clinical meanings in a way that enables automatic interpretation. They are also carried in messages, used to define precoordinated concepts and used to represent links between SNOMED CT and other terminologies.</p>\n    <p>These expressions are generated as an example from the published concept definition, a Pre-coordinated Expression is direct reference to the concept, and Post-coordinated expressions are generated from the stated or inferred relationships. In a Sufficiently Defined concept, all three will be equivalent.</p>\n</div>\n'}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/attributes.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return""}function g(a,b){return"-empty"}function h(a,b){var c,d="";return d+="\n            "+s((c=a&&a.firstMatch,c=null==c||!1===c?c:c.fsn,typeof c===r?c.apply(a):c))+"\n        "}function i(a,b){var c,d="";return d+="\n            "+s((c=a&&a.firstMatch,c=null==c||!1===c?c:c.defaultTerm,typeof c===r?c.apply(a):c))+"\n        "}function j(a,b){return"\n            &nbsp;&nbsp;\n        "}function k(a,b){return"\n            &equiv;\n        "}function l(a,b){var c,d="";return d+="\n        "+s((c=a&&a.firstMatch,c=null==c||!1===c?c:c.fsn,typeof c===r?c.apply(a):c))+"\n    "}function m(a,b){var c,d="";return d+="\n        "+s((c=a&&a.firstMatch,c=null==c||!1===c?c:c.defaultTerm,typeof c===r?c.apply(a):c))+"\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o,p,q="",r="function",s=this.escapeExpression,t=this,u=c.helperMissing;return q+='<h4 data-droppable="true" ondrop="dropC(event, \'',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)">\n    <span class="pull-right">\n        <div class="dropdown">\n            <button class="btn btn-link dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true" style="padding: 0px;">\n                <i class="glyphicon glyphicon-export pull-right" style="color: white;" id="',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'-copy-icon"></i>\n            </button>\n            <ul class="dropdown-menu small" role="menu" aria-labelledby="dropdownMenu1">\n                <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'-copy-sctid" class="clip-btn" data-clipboard-text="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.conceptId,typeof n===r?n.apply(b):n))+'">Copy ConceptId</a></li>\n                <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'-copy-term" class="clip-btn" data-clipboard-text="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.defaultTerm,typeof n===r?n.apply(b):n))+'">Copy term</a></li>\n                <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'-copy-sctid-term" class="clip-btn" data-clipboard-text="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.conceptId,typeof n===r?n.apply(b):n))+" |"+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.defaultTerm,typeof n===r?n.apply(b):n))+'|">Copy ConceptId + term</a></li>\n                <li role="presentation"><a role="menuitem" tabindex="-1" href="javascript:void(0);" id="',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'-copy-link" class="clip-btn" data-clipboard-text="',(o=c.link)?n=o.call(b,{hash:{},data:e}):(o=b&&b.link,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'">Copy Link to share</a></li>\n            </ul>\n        </div>\n    </span>\n    <span class="pull-right">\n        <a href="javascript:void(0);" style="font-size: 20px; color: white; padding: 5px;">\n            <span data-conceptId="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.conceptId,typeof n===r?n.apply(b):n))+'" class="glyphicon glyphicon-star',o=c.if_fav||b&&b.if_fav,p={hash:{},inverse:t.program(3,g,e),fn:t.program(1,f,e),data:e},n=o?o.call(b,(n=b&&b.firstMatch,null==n||!1===n?n:n.conceptId),p):u.call(b,"if_fav",(n=b&&b.firstMatch,null==n||!1===n?n:n.conceptId),p),(n||0===n)&&(q+=n),q+='"></span>\n        </a>\n    </span>\n        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"  draggable = "true" ondragstart="drag(event, \'',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'\')" data-module="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.module,typeof n===r?n.apply(b):n))+'" data-concept-id="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.conceptId,typeof n===r?n.apply(b):n))+'" data-term="',o=c.if_undefined||b&&b.if_undefined,p={hash:{},inverse:t.program(7,i,e),fn:t.program(5,h,e),data:e},n=o?o.call(b,(n=b&&b.firstMatch,n=null==n||!1===n?n:n.fsn,null==n||!1===n?n:n.term),p):u.call(b,"if_undefined",(n=b&&b.firstMatch,n=null==n||!1===n?n:n.fsn,null==n||!1===n?n:n.term),p),(n||0===n)&&(q+=n),q+='" \n       data-def-status="'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.definitionStatus,typeof n===r?n.apply(b):n))+'">\n        <span class="badge alert-warning">\n        ',o=c.if_eq||b&&b.if_eq,p={hash:{},inverse:t.program(11,k,e),fn:t.program(9,j,e),data:e},n=o?o.call(b,(n=b&&b.firstMatch,null==n||!1===n?n:n.definitionStatus),"PRIMITIVE",p):u.call(b,"if_eq",(n=b&&b.firstMatch,null==n||!1===n?n:n.definitionStatus),"PRIMITIVE",p),(n||0===n)&&(q+=n),q+="\n        </span>\n    </a>\n    &nbsp;&nbsp;\n    ",o=c.if_undefined||b&&b.if_undefined,p={hash:{},inverse:t.program(15,m,e),fn:t.program(13,l,e),data:e},n=o?o.call(b,(n=b&&b.firstMatch,n=null==n||!1===n?n:n.fsn,null==n||!1===n?n:n.term),p):u.call(b,"if_undefined",(n=b&&b.firstMatch,n=null==n||!1===n?n:n.fsn,null==n||!1===n?n:n.term),p),(n||0===n)&&(q+=n),q+='\n    <span class="pull-right">\n       <div class="phoca-flagbox" style="width:40px;height:40px">\n           <span class="phoca-flag '+s((o=c.countryIcon||b&&b.countryIcon,p={hash:{},data:e},o?o.call(b,(n=b&&b.firstMatch,null==n||!1===n?n:n.moduleId),p):u.call(b,"countryIcon",(n=b&&b.firstMatch,null==n||!1===n?n:n.moduleId),p)))+'"></span>\n       </div>\n    </span>\n</h4>\n\n<h5>SCTID: '+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.conceptId,typeof n===r?n.apply(b):n))+'<br><br><div id="copy-content-custom">'+s((n=b&&b.firstMatch,n=null==n||!1===n?n:n.conceptId,typeof n===r?n.apply(b):n))+" | \n    ",o=c.if_undefined||b&&b.if_undefined,p={hash:{},inverse:t.program(15,m,e),fn:t.program(13,l,e),data:e},n=o?o.call(b,(n=b&&b.firstMatch,n=null==n||!1===n?n:n.fsn,null==n||!1===n?n:n.term),p):u.call(b,"if_undefined",(n=b&&b.firstMatch,n=null==n||!1===n?n:n.fsn,null==n||!1===n?n:n.term),p),(n||0===n)&&(q+=n),q+=' |</div></h5>\n\n<div id="home-descriptions-',(o=c.divElementId)?n=o.call(b,{hash:{},data:e}):(o=b&&b.divElementId,n=typeof o===r?o.call(b,{hash:{},data:e}):o),q+=s(n)+'"></div>\n'}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/children.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:F.program(4,h,b),fn:F.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.childrenResult,null==d||!1===d?d:d.length),0,f):D.call(a,"if_eq",(d=a&&a.childrenResult,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){var d,e,f="";return f+='\n        <span data-i18n-id="i18n_no_children" class="text-muted i18n">'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_children","No Children",e):D.call(a,"i18n","i18n_no_children","No Children",e)))+"</span>\n    "}function h(a,b){var d,e="";return e+="\n        <ul style='list-style-type: none; padding-left: 15px;'>\n            ",d=c.each.call(a,a&&a.childrenResult,{hash:{},inverse:F.noop,fn:F.programWithDepth(5,i,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n        </ul>\n    "}function i(a,b,d){var e,f="";return f+="\n                ",e=c.if.call(a,a&&a.active,{hash:{},inverse:F.noop,fn:F.programWithDepth(6,j,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n            "}function j(a,b,d,e){var f,g,h,i="";return i+='\n                    <li data-module="',(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"' data-term='",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"' class='treeLabel'>\n                        <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-",g=c.if_eq||e&&e.if_eq,h={hash:{},inverse:F.program(12,n,b),fn:F.program(7,k,b),data:b},f=g?g.call(a,e&&e.selectedView,"inferred",h):D.call(a,"if_eq",e&&e.selectedView,"inferred",h),(f||0===f)&&(i+=f),i+=" treeButton' id='"+E((f=e&&e.divElementId,typeof f===G?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"'></i></button>\n                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:F.programWithDepth(16,p,b,d),fn:F.programWithDepth(14,o,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):D.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                        ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:F.noop,fn:F.program(18,q,b),data:b},f=g?g.call(a,a&&a.moduleId,h):D.call(a,"hasCountryIcon",a&&a.moduleId,h),(f||0===f)&&(i+=f),i+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                            <span class="treeLabel selectable-row" data-module="',(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'" id="'+E((f=e&&e.divElementId,typeof f===G?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"</span>\n                        </a>\n                    </li>\n                "}function k(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:F.program(10,m,b),fn:F.program(8,l,b),data:b},d=e?e.call(a,a&&a.isLeafInferred,!0,f):D.call(a,"if_eq",a&&a.isLeafInferred,!0,f),d||0===d?d:""}function l(a,b){return"minus"}function m(a,b){return"chevron-right"}function n(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:F.program(10,m,b),fn:F.program(8,l,b),data:b},d=e?e.call(a,a&&a.isLeafStated,!0,f):D.call(a,"if_eq",a&&a.isLeafStated,!0,f),d||0===d?d:""}function o(a,b,d){var e,f,g="";return g+='\n                            <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+E((e=d&&d.divElementId,typeof e===G?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                        '}function p(a,b,d){var e,f,g="";return g+='\n                            <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+E((e=d&&d.divElementId,typeof e===G?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'">&equiv;</span>&nbsp;&nbsp;\n                        '}function q(a,b){var d,e,f="";return f+='\n                            <div class="phoca-flagbox" style="width:26px;height:26px">\n                                <span class="phoca-flag '+E((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):D.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                            </div>\n                        '}function r(a,b){var d,e,f,g="";return g+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:F.program(23,t,b),fn:F.program(21,s,b),data:b},d=e?e.call(a,(d=a&&a.childrenResult,null==d||!1===d?d:d.length),0,f):D.call(a,"if_eq",(d=a&&a.childrenResult,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n"}function s(a,b){var d,e,f="";return f+='\n        <span data-i18n-id="i18n_no_children" class="text-muted i18n">'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_children","No children",e):D.call(a,"i18n","i18n_no_children","No children",e)))+"</span>\n    "}function t(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:F.program(26,v,b),fn:F.program(24,u,b),data:b},d=e?e.call(a,(d=a&&a.childrenResult,null==d||!1===d?d:d.length),30,f):D.call(a,"if_gr",(d=a&&a.childrenResult,null==d||!1===d?d:d.length),30,f),(d||0===d)&&(g+=d),g+="\n    "}function u(a,b){var d,e,f,g="";return g+='\n            <button id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===G?e.call(a,{hash:{},data:b}):e),g+=E(d)+'-showChildren" class="btn btn-link">'+E((d=a&&a.childrenResult,d=null==d||!1===d?d:d.length,typeof d===G?d.apply(a):d))+' <span data-i18n-id="i18n_children" class="i18n">'+E((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_children","children",f):D.call(a,"i18n","i18n_children","children",f)))+"</span></button>\n        "}function v(a,b){var d,e="";return e+="\n            <ul style='list-style-type: none; padding-left: 15px;'>\n                ",d=c.each.call(a,a&&a.childrenResult,{hash:{},inverse:F.noop,fn:F.programWithDepth(27,w,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n            </ul>\n        "}function w(a,b,d){var e,f="";return f+="\n                    ",e=c.if.call(a,a&&a.active,{hash:{},inverse:F.noop,fn:F.programWithDepth(28,x,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n                "}function x(a,b,d,e){var f,g,h,i="";return i+='\n                        <li data-module="',(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"' data-term='",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"' class='treeLabel'>\n                            <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-",g=c.if_eq||e&&e.if_eq,h={hash:{},inverse:F.program(12,n,b),fn:F.program(7,k,b),data:b},f=g?g.call(a,e&&e.selectedView,"inferred",h):D.call(a,"if_eq",e&&e.selectedView,"inferred",h),(f||0===f)&&(i+=f),i+=" treeButton' id='"+E((f=e&&e.divElementId,typeof f===G?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"'></i></button>\n                            ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:F.programWithDepth(31,z,b,d),fn:F.programWithDepth(29,y,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):D.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                            ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:F.noop,fn:F.program(33,A,b),data:b},f=g?g.call(a,a&&a.moduleId,h):D.call(a,"hasCountryIcon",a&&a.moduleId,h),(f||0===f)&&(i+=f),i+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                                <span class="treeLabel selectable-row" data-module="',(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'" id="'+E((f=e&&e.divElementId,typeof f===G?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===G?g.call(a,{hash:{},data:b}):g),i+=E(f)+"</span>\n                            </a>\n                        </li>\n                    "}function y(a,b,d){var e,f,g="";return g+='\n                                <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+E((e=d&&d.divElementId,typeof e===G?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                            '}function z(a,b,d){var e,f,g="";return g+='\n                                <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+E((e=d&&d.divElementId,typeof e===G?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===G?f.call(a,{hash:{},data:b}):f),g+=E(e)+'">&equiv;</span>&nbsp;&nbsp;\n                            '}function A(a,b){var d,e,f="";return f+='\n                                <div class="phoca-flagbox" style="width:26px;height:26px">\n                                    <span class="phoca-flag '+E((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):D.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                                </div>\n                            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var B,C="",D=c.helperMissing,E=this.escapeExpression,F=this,G="function";return B=c.if.call(b,b&&b.displayChildren,{hash:{},inverse:F.program(20,r,e),fn:F.program(1,f,e),data:e}),(B||0===B)&&(C+=B),C+="\n\n\n"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/parents.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:E.programWithDepth(4,h,b,a),fn:E.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.statedParents,null==d||!1===d?d:d.length),0,f):B.call(a,"if_eq",(d=a&&a.statedParents,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(i+=d),i+="    \n"}function g(a,b){return"        \n        <span class='text-muted'>No parents</span>       \n    "}function h(a,b,d){var e,f="";return f+="\n        <ul style='list-style-type: none; padding-left: 2px;'>\n            ",e=c.each.call(a,a&&a.statedParents,{hash:{},inverse:E.noop,fn:E.programWithDepth(5,i,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n        </ul>\n    "}function i(a,b,d,e){var f,g,h,i="";return i+='\n                <li class="treeLabel" data-concept-id=\'',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===D?g.call(a,{hash:{},data:b}):g),i+=C(f)+'\'>\n                    \x3c!--<span draggable = "true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.divElementId,f=typeof g===D?g.call(a,{hash:{},data:b}):g),i+=C(f)+"')\" class='text-warning' data-module=\""+C((f=a&&a.target,f=null==f||!1===f?f:f.module,typeof f===D?f.apply(a):f))+"\" data-concept-id='"+C((f=a&&a.type,f=null==f||!1===f?f:f.conceptId,typeof f===D?f.apply(a):f))+"' data-term='"+C((f=a&&a.type,f=null==f||!1===f?f:f.defaultTerm,typeof f===D?f.apply(a):f))+"'>--\x3e\n                        \x3c!--",g=c.if_gr||a&&a.if_gr,h={hash:{},inverse:E.program(8,k,b),fn:E.program(6,j,b),data:b},f=g?g.call(a,(f=a&&a.type,null==f||!1===f?f:f.defaultTerm),0,h):B.call(a,"if_gr",(f=a&&a.type,null==f||!1===f?f:f.defaultTerm),0,h),(f||0===f)&&(i+=f),i+="--\x3e\n                    \x3c!--</span>&nbsp;&rArr;&nbsp;--\x3e\n                    <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:E.program(12,m,b),fn:E.program(10,l,b),data:b},f=g?g.call(a,a&&a.conceptId,"138875005",h):B.call(a,"if_eq",a&&a.conceptId,"138875005",h),(f||0===f)&&(i+=f),i+=' treeButton\' data-first="true" data-ind="'+C((f=null==b||!1===b?b:b.index,typeof f===D?f.apply(a):f))+'"></i></button>\n                    ',g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:E.programWithDepth(17,p,b,d),fn:E.programWithDepth(15,o,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):B.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                    ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:E.noop,fn:E.program(19,q,b),data:b},f=g?g.call(a,a&&a.moduleId,h):B.call(a,"hasCountryIcon",a&&a.moduleId,h),(f||0===f)&&(i+=f),i+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                        ',g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:E.programWithDepth(23,s,b,e),fn:E.programWithDepth(21,r,b,e),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):B.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                        ",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===D?g.call(a,{hash:{},data:b}):g),i+=C(f)+"\n                    </span>\n                    </a>\n                </li>\n            "}function j(a,b){var d,e,f,g="";return g+="--\x3e\n                    \x3c!--"+C((e=c.substr||a&&a.substr,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),0,f):B.call(a,"substr",(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),0,f)))+"--\x3e\n                        \x3c!--"}function k(a,b){var c,d="";return d+="--\x3e\n                    \x3c!--"+C((c=a&&a.type,c=null==c||!1===c?c:c.defaultTerm,typeof c===D?c.apply(a):c))+"--\x3e\n                        \x3c!--"}function l(a,b){return"minus"}function m(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:E.program(13,n,b),fn:E.program(10,l,b),data:b},d=e?e.call(a,a&&a.conceptId,"9999999999",f):B.call(a,"if_eq",a&&a.conceptId,"9999999999",f),d||0===d?d:""}function n(a,b){return"chevron-right"}function o(a,b,d){var e,f,g="";return g+='\n                        <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+C((e=d&&d.divElementId,typeof e===D?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                    '}function p(a,b,d){var e,f,g="";return g+='\n                        <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+C((e=d&&d.divElementId,typeof e===D?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+'">&equiv;</span>&nbsp;&nbsp;\n                    '}function q(a,b){var d,e,f="";return f+='\n                        <div class="phoca-flagbox" style="width:26px;height:26px">\n                            <span class="phoca-flag '+C((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):B.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                        </div>\n                    '}function r(a,b,d){var e,f,g="";return g+="\n                        <span id='"+C((e=null==b||!1===b?b:b.index,typeof e===D?e.apply(a):e))+C((e=d&&d.divElementId,typeof e===D?e.apply(a):e))+"-treeicon-",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"' class='sct-primitive-concept-compact' data-module=\"",(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"'>\n                        "}function s(a,b,d){var e,f,g="";return g+="\n                        <span id='"+C((e=null==b||!1===b?b:b.index,typeof e===D?e.apply(a):e))+C((e=d&&d.divElementId,typeof e===D?e.apply(a):e))+"-treeicon-",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"' class='sct-defined-concept-compact' data-module=\"",(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===D?f.call(a,{hash:{},data:b}):f),g+=C(e)+"'>\n                        "}function t(a,b){var d,e,f,g="";return g+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:E.programWithDepth(28,v,b,a),fn:E.program(26,u,b),data:b},d=e?e.call(a,(d=a&&a.inferredParents,null==d||!1===d?d:d.length),0,f):B.call(a,"if_eq",(d=a&&a.inferredParents,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n"}function u(a,b){return"\n        <span class='text-muted'>No parents</span>\n    "}function v(a,b,d){var e,f="";return f+="\n        <ul style='list-style-type: none; padding-left: 2px; padding-top: 0px;'>\n            ",e=c.each.call(a,a&&a.inferredParents,{hash:{},inverse:E.noop,fn:E.programWithDepth(29,w,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n        </ul>\n    "}function w(a,b,d,e){var f,g,h,i="";return i+='\n                <li class="treeLabel" data-concept-id=\'',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===D?g.call(a,{hash:{},data:b}):g),i+=C(f)+'\'>\n                    \x3c!--<span draggable = "true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.divElementId,f=typeof g===D?g.call(a,{hash:{},data:b}):g),i+=C(f)+"')\" class='text-warning' data-module=\""+C((f=a&&a.target,f=null==f||!1===f?f:f.module,typeof f===D?f.apply(a):f))+"\" data-concept-id='"+C((f=a&&a.type,f=null==f||!1===f?f:f.conceptId,typeof f===D?f.apply(a):f))+"' data-term='"+C((f=a&&a.type,f=null==f||!1===f?f:f.defaultTerm,typeof f===D?f.apply(a):f))+"'>--\x3e\n                    \x3c!--"+C((f=a&&a.type,f=null==f||!1===f?f:f.defaultTerm,typeof f===D?f.apply(a):f))+"--\x3e\n                    \x3c!--</span>&nbsp;&rArr;&nbsp;--\x3e\n                    <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:E.program(12,m,b),fn:E.program(10,l,b),data:b},f=g?g.call(a,a&&a.conceptId,"138875005",h):B.call(a,"if_eq",a&&a.conceptId,"138875005",h),(f||0===f)&&(i+=f),i+=' treeButton\' data-first="true" data-ind="'+C((f=null==b||!1===b?b:b.index,typeof f===D?f.apply(a):f))+'"></i></button>\n                    ',g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:E.programWithDepth(17,p,b,d),fn:E.programWithDepth(15,o,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):B.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                    ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:E.noop,fn:E.program(19,q,b),data:b},f=g?g.call(a,a&&a.moduleId,h):B.call(a,"hasCountryIcon",a&&a.moduleId,h),(f||0===f)&&(i+=f),i+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                        ',g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:E.programWithDepth(23,s,b,e),fn:E.programWithDepth(21,r,b,e),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):B.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                        ",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===D?g.call(a,{hash:{},data:b}):g),i+=C(f)+"\n                    </span>\n                    </a>\n                </li>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var x,y,z,A="",B=c.helperMissing,C=this.escapeExpression,D="function",E=this;return y=c.if_eq||b&&b.if_eq,z={hash:{},inverse:E.program(25,t,e),fn:E.program(1,f,e),data:e},x=y?y.call(b,(x=b&&b.options,null==x||!1===x?x:x.selectedView),"stated",z):B.call(b,"if_eq",(x=b&&b.options,null==x||!1===x?x:x.selectedView),"stated",z),(x||0===x)&&(A+=x),A+="\n\n\n\n\n\n\n"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/home/roles.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n        ",d=c.each.call(a,a&&a.statedRoles,{hash:{},inverse:R.noop,fn:R.program(2,g,b),data:b}),(d||0===d)&&(h+=d),h+="\n        </div>\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.noop,fn:R.program(14,n,b),data:b},d=e?e.call(a,(d=a&&a.statedRoles,null==d||!1===d?d:d.length),0,f):P.call(a,"if_eq",(d=a&&a.statedRoles,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(19,q,b),fn:R.program(17,p,b),data:b},d=e?e.call(a,(d=a&&a.attributesFromAxioms,null==d||!1===d?d:d.length),0,f):P.call(a,"if_eq",(d=a&&a.attributesFromAxioms,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(37,B,b),fn:R.program(17,p,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||!1===d?d:d.gciAxioms,null==d||!1===d?d:d.length),0,f):P.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||!1===d?d:d.gciAxioms,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n    "}function g(a,b){var d,e,f,g="";return g+="\n            \x3c!--<br>--\x3e\n            ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:R.program(8,k,b),fn:R.program(3,h,b),data:b},d=e?e.call(a,a&&a.groupId,f):P.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+='\n            &nbsp;<span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),g+=Q(d)+"')\" class='sct-attribute-compact' data-module=\""+Q((d=a&&a.type,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n                "+Q((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),f):P.call(a,"removeSemtag",(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),f)))+"</span>&nbsp;&rarr;&nbsp;\n\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(12,m,b),fn:R.program(10,l,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):P.call(a,"if_eq",(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n            "+Q((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.defaultTerm),f):P.call(a,"removeSemtag",(d=a&&a.target,null==d||!1===d?d:d.defaultTerm),f)))+"\n            </span><br>\n        "}function h(a,b){var d,e,f,g="";return g+="\n                </div>\n                "+Q((e=c.setLastGroup||a&&a.setLastGroup,f={hash:{},data:b},e?e.call(a,a&&a.groupId,f):P.call(a,"setLastGroup",a&&a.groupId,f)))+"\n                "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"random",f):P.call(a,"lastColor","random",f)))+"\n                <div ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(6,j,b),fn:R.program(4,i,b),data:b},d=e?e.call(a,a&&a.groupId,0,f):P.call(a,"if_eq",a&&a.groupId,0,f),(d||0===d)&&(g+=d),g+=">\n                <span style='background-color: "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"get",f):P.call(a,"lastColor","get",f)))+"'></span>\n            "}function i(a,b){return""}function j(a,b){return'style="border: 1px solid darkgrey; border-radius: 4px; padding: 3px; background-color: white; margin: 5px;"'}function k(a,b){var d,e,f="";return f+="\n                <span style='background-color: "+Q((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):P.call(a,"lastColor","get",e)))+"'></span>\n            "}function l(a,b){var d,e,f="";return f+='\n                <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),f+=Q(d)+"')\" class='sct-primitive-concept-compact' data-module=\""+Q((d=a&&a.target,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n            "}function m(a,b){var d,e,f="";return f+='\n                <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),f+=Q(d)+"')\" class='sct-defined-concept-compact' data-module=\""+Q((d=a&&a.target,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n            "}function n(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.noop,fn:R.program(15,o,b),data:b},d=e?e.call(a,(d=a&&a.attributesFromAxioms,null==d||!1===d?d:d.length),0,f):P.call(a,"if_eq",(d=a&&a.attributesFromAxioms,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n        "}function o(a,b){var d,e,f="";return f+="\n                <span class='i18n text-muted' data-i18n-id='i18n_no_attributes'>"+Q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_attributes","No relationships",e):P.call(a,"i18n","i18n_no_attributes","No relationships",e)))+"</span>\n            "}function p(a,b){return"\n        "}function q(a,b){var d,e="";return e+="\n            ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.classAxioms),{hash:{},inverse:R.noop,fn:R.program(20,r,b),data:b}),(d||0===d)&&(e+=d),e+="\n        "}function r(a,b){var d,e,f,g="";return g+="\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(23,t,b),fn:R.program(21,s,b),data:b},d=e?e.call(a,a&&a.clinicalFindingRelationships,!0,f):P.call(a,"if_eq",a&&a.clinicalFindingRelationships,!0,f),(d||0===d)&&(g+=d),g+="\n                    ",d=c.each.call(a,a&&a.relationships,{hash:{},inverse:R.noop,fn:R.program(25,u,b),data:b}),(d||0===d)&&(g+=d),g+="\n                </span>\n                </div>\n            "}function s(a,b){return"\n                "}function t(a,b){return"\n                    <div>Axiom</div>\n                    <div>\n                "}function u(a,b){var d,e,f,g="";return g+="\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(28,w,b),fn:R.program(26,v,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.conceptId),"116680003",f):P.call(a,"if_eq",(d=a&&a.type,null==d||!1===d?d:d.conceptId),"116680003",f),(d||0===d)&&(g+=d),g+="\n                    "}function v(a,b){return"\n                        "}function w(a,b){var d,e,f,g="";return g+="\n                            ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:R.program(31,y,b),fn:R.program(29,x,b),data:b},d=e?e.call(a,a&&a.groupId,f):P.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+="\n                            &nbsp;<span style='background-color: "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"get",f):P.call(a,"lastColor","get",f)))+'\' draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),g+=Q(d)+"')\" class='sct-attribute-compact' data-module=\""+Q((d=a&&a.type,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n                            "+Q((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),f):P.call(a,"removeSemtag",(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),f)))+'</span>&nbsp;&rarr;&nbsp;\n                        <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),g+=Q(d)+"')\" class='\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(35,A,b),fn:R.program(33,z,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):P.call(a,"if_eq",(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                            ' data-module=\""+Q((d=a&&a.target,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n                            "+Q((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.defaultTerm),f):P.call(a,"removeSemtag",(d=a&&a.target,null==d||!1===d?d:d.defaultTerm),f)))+"</span><br>\n                        "}function x(a,b){var d,e,f,g="";return g+="\n                                </div>\n                                "+Q((e=c.setLastGroup||a&&a.setLastGroup,f={hash:{},data:b},e?e.call(a,a&&a.groupId,f):P.call(a,"setLastGroup",a&&a.groupId,f)))+"\n                                "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"random",f):P.call(a,"lastColor","random",f)))+"\n                                <div ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(6,j,b),fn:R.program(4,i,b),data:b},d=e?e.call(a,a&&a.groupId,0,f):P.call(a,"if_eq",a&&a.groupId,0,f),(d||0===d)&&(g+=d),g+=">\n                                <span style='background-color: "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"get",f):P.call(a,"lastColor","get",f)))+"'></span>\n                                "}function y(a,b){var d,e,f="";return f+="\n                                <span style='background-color: "+Q((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):P.call(a,"lastColor","get",e)))+"'></span>\n                            "}function z(a,b){return"\n                                sct-primitive-concept-compact\n                            "}function A(a,b){return"\n                                sct-defined-concept-compact\n                            "}function B(a,b){var d,e="";return e+="\n            ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||!1===d?d:d.gciAxioms),{hash:{},inverse:R.noop,fn:R.program(38,C,b),data:b}),(d||0===d)&&(e+=d),e+="\n            </div>\n        "}function C(a,b){var d,e,f,g="";return g+="\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(39,D,b),fn:R.program(21,s,b),data:b},d=e?e.call(a,a&&a.clinicalFindingRelationships,!0,f):P.call(a,"if_eq",a&&a.clinicalFindingRelationships,!0,f),(d||0===d)&&(g+=d),g+="\n                    ",d=c.each.call(a,a&&a.relationships,{hash:{},inverse:R.noop,fn:R.program(25,u,b),data:b}),(d||0===d)&&(g+=d),g+="\n                </span>\n                </div>\n            "}function D(a,b){return"\n                    <div>GCI</div>\n                    <div>\n                "}function E(a,b){var d,e,f,g="";return g+="\n        \n            ",d=c.each.call(a,a&&a.inferredRoles,{hash:{},inverse:R.noop,fn:R.program(42,F,b),data:b}),(d||0===d)&&(g+=d),g+="\n        </div>\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.noop,fn:R.program(51,K,b),data:b},d=e?e.call(a,(d=a&&a.inferredRoles,null==d||!1===d?d:d.length),0,f):P.call(a,"if_eq",(d=a&&a.inferredRoles,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n    "}function F(a,b){var d,e,f,g="";return g+="\n                \n                        ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:R.program(45,H,b),fn:R.program(43,G,b),data:b},d=e?e.call(a,a&&a.groupId,f):P.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+="\n                        &nbsp;<span style='background-color: "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"get",f):P.call(a,"lastColor","get",f)))+'\' draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),g+=Q(d)+"')\" class='sct-attribute-compact' data-module=\""+Q((d=a&&a.type,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n                        "+Q((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),f):P.call(a,"removeSemtag",(d=a&&a.type,null==d||!1===d?d:d.defaultTerm),f)))+'</span>&nbsp;&rarr;&nbsp;\n                <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===S?e.call(a,{hash:{},data:b}):e),g+=Q(d)+"')\" class='\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(49,J,b),fn:R.program(47,I,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):P.call(a,"if_eq",(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                    ' data-module=\""+Q((d=a&&a.target,d=null==d||!1===d?d:d.module,typeof d===S?d.apply(a):d))+"\" data-concept-id='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===S?d.apply(a):d))+"' data-term='"+Q((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===S?d.apply(a):d))+"'>\n                    "+Q((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.defaultTerm),f):P.call(a,"removeSemtag",(d=a&&a.target,null==d||!1===d?d:d.defaultTerm),f)))+"</span><br>\n            "}function G(a,b){var d,e,f,g="";return g+="\n                            </div>\n                            "+Q((e=c.setLastGroup||a&&a.setLastGroup,f={hash:{},data:b},e?e.call(a,a&&a.groupId,f):P.call(a,"setLastGroup",a&&a.groupId,f)))+"\n                            "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"random",f):P.call(a,"lastColor","random",f)))+"\n                            <div ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:R.program(6,j,b),fn:R.program(4,i,b),data:b},d=e?e.call(a,a&&a.groupId,0,f):P.call(a,"if_eq",a&&a.groupId,0,f),(d||0===d)&&(g+=d),g+=">\n                            <span style='background-color: "+Q((e=c.lastColor||a&&a.lastColor,f={hash:{},data:b},e?e.call(a,"get",f):P.call(a,"lastColor","get",f)))+"'></span>\n                        "}function H(a,b){var d,e,f="";return f+="\n                            <span style='background-color: "+Q((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):P.call(a,"lastColor","get",e)))+"'></span>\n                        "}function I(a,b){return"\n                         sct-primitive-concept-compact\n                    "}function J(a,b){return"\n                         sct-defined-concept-compact\n                    "}function K(a,b){var d,e,f="";return f+="\n            <span class='i18n text-muted' data-i18n-id='i18n_no_attributes'>"+Q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_attributes","No relationships",e):P.call(a,"i18n","i18n_no_attributes","No relationships",e)))+"</span>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var L,M,N,O="",P=c.helperMissing,Q=this.escapeExpression,R=this,S="function";return O+="<div style='line-height: 100%;'>\n    "+Q((M=c.setLastGroup||b&&b.setLastGroup,N={hash:{},data:e},M?M.call(b,b&&b.null,N):P.call(b,"setLastGroup",b&&b.null,N)))+"\n    ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(41,E,e),fn:R.program(1,f,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||!1===L?L:L.selectedView),"stated",N):P.call(b,"if_eq",(L=b&&b.options,null==L||!1===L?L:L.selectedView),"stated",N),(L||0===L)&&(O+=L),O+="\n</div>\n"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/members.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n    <thead>\n        <tr>\n            <th><span data-i18n-id="i18n_term" class="i18n">'+v((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_term","Term",e):u.call(a,"i18n","i18n_term","Term",e)))+'</span></th>\n            <th><span data-i18n-id="i18n_conceptId" class="i18n">'+v((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_conceptId","Concept Id",e):u.call(a,"i18n","i18n_conceptId","Concept Id",e)))+"</span></th>\n        </tr>\n    </thead>\n"}function g(a,b,d){var e,f,g,i="";return i+='\n        <tr class="member-row">\n            <td data-concept-id=\''+v((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.conceptId,typeof e===w?e.apply(a):e))+"' data-term='"+v((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.fsn,e=null==e||!1===e?e:e.term,typeof e===w?e.apply(a):e))+"'>\n                <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+v((e=d&&d.divElementId,typeof e===w?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===w?f.call(a,{hash:{},data:b}):f),i+=v(e)+"\" data-concept-id='"+v((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.conceptId,typeof e===w?e.apply(a):e))+"' data-term='"+v((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.fsn,e=null==e||!1===e?e:e.term,typeof e===w?e.apply(a):e))+"'>&nbsp;&nbsp;</span>\n                ",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:x.noop,fn:x.program(4,h,b),data:b},e=f?f.call(a,a&&a.module,g):u.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(i+=e),i+="\n                "+v((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.fsn,e=null==e||!1===e?e:e.term,typeof e===w?e.apply(a):e))+"\n            </td>\n            <td>"+v((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.conceptId,typeof e===w?e.apply(a):e))+"</td>\n\n    "}function h(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:22px;height:22px">\n                        <span class="phoca-flag '+v((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):u.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}function i(a,b){return'\n            <td class="text-muted" class="text-center" colspan="2">The reference components of these reference set members are not concepts.</span></td>\n        '}function j(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:x.program(11,l,b),fn:x.program(9,k,b),data:b},d=e?e.call(a,a&&a.remaining,"asd",f):u.call(a,"if_eq",a&&a.remaining,"asd",f),(d||0===d)&&(g+=d),g+="\n        "}function k(a,b){var d,e,f,g="";return g+='\n                <td class="text-center" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+"-moreMembers\" colspan=\"2\">\n                    <button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+'-moreMembers\'><span data-i18n-id="i18n_load" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):u.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+' <span data-i18n-id="i18n_more" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):u.call(a,"i18n","i18n_more","more",f)))+"</span></button>\n                </td>\n            "}function l(a,b){var d,e,f,g="";return g+="\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:x.program(14,n,b),fn:x.program(12,m,b),data:b},d=e?e.call(a,a&&a.remaining,0,f):u.call(a,"if_eq",a&&a.remaining,0,f),(d||0===d)&&(g+=d),g+="\n            "}function m(a,b){var d,e,f="";return f+='\n                    <td class="text-muted" class="text-center" colspan="2">',(e=c.total)?d=e.call(a,{hash:{},data:b}):(e=a&&a.total,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=v(d)+' <span data-i18n-id="i18n_members" class="i18n">members</span></td>\n                '}function n(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:x.program(17,p,b),fn:x.program(15,o,b),data:b},d=e?e.call(a,a&&a.remaining,a&&a.returnLimit,f):u.call(a,"if_gr",a&&a.remaining,a&&a.returnLimit,f),(d||0===d)&&(g+=d),g+="\n                "}function o(a,b){var d,e,f,g="";return g+='\n                        <td class="text-center" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+"-moreMembers\" colspan=\"2\">\n                            <button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+'-moreMembers\'><span data-i18n-id="i18n_load" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):u.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+' <span data-i18n-id="i18n_more" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):u.call(a,"i18n","i18n_more","more",f)))+"</span> (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+' <span data-i18n-id="i18n_remaining" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remaining","remaining",f):u.call(a,"i18n","i18n_remaining","remaining",f)))+"</span>)</button>\n                        </td>\n                    "}function p(a,b){var d,e,f,g="";return g+='\n                        <td class="text-center" colspan="2">\n                            <button class=\'btn btn-link\' id=\'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+'-moreMembers\'><span data-i18n-id="i18n_load" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):u.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+' <span data-i18n-id="i18n_more" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):u.call(a,"i18n","i18n_more","more",f)))+"</span> (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=v(d)+' <span data-i18n-id="i18n_remaining" class="i18n">'+v((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remaining","remaining",f):u.call(a,"i18n","i18n_remaining","remaining",f)))+"</span>)</button>\n                        </td>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var q,r,s,t="",u=c.helperMissing,v=this.escapeExpression,w="function",x=this;return r=c.if_eq||b&&b.if_eq,s={hash:{},inverse:x.noop,fn:x.program(1,f,e),data:e},q=r?r.call(b,b&&b.skipTo,0,s):u.call(b,"if_eq",b&&b.skipTo,0,s),(q||0===q)&&(t+=q),t+="\n<tbody>\n    ",q=c.each.call(b,(q=b&&b.result,null==q||!1===q?q:q.items),{hash:{},inverse:x.noop,fn:x.programWithDepth(3,g,e,b),data:e}),(q||0===q)&&(t+=q),t+='\n\n    <tr class="more-row">\n        ',r=c.if_eq||b&&b.if_eq,s={hash:{},inverse:x.program(8,j,e),fn:x.program(6,i,e),data:e},q=r?r.call(b,b&&b.referenceComponentsOfRefsetAreNotConcepts,!0,s):u.call(b,"if_eq",b&&b.referenceComponentsOfRefsetAreNotConcepts,!0,s),(q||0===q)&&(t+=q),t+="\n    </tr>\n</tbody>"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/product.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,k="";return k+="\n        <tr>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(4,h,b),fn:D.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.type,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                "+C((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+"\n            </td>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(8,j,b),fn:D.program(6,i,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.target,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                "+C((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+"\n            </td>\n        </tr>\n    "}function g(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'" data-concept-id="'+C((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function h(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'" data-concept-id="'+C((d=a&&a.type,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.type,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.type,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function i(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')"  data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'" data-concept-id="'+C((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function j(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')"  data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'" data-concept-id="'+C((d=a&&a.target,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.target,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.target,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function k(a,b){var d,e,f,g="";return g+="\n        <tr>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(13,m,b),fn:D.program(11,l,b),data:b},d=e?e.call(a,(d=a&&a.ingredient,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.ingredient,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                "+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'\n                <br>\n                &nbsp;&nbsp;&nbsp;<span class="text-muted"><em>'+C((d=a&&a.boss,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+"</em></span>\n            </td>\n            <td>\n                ",d=c.if.call(a,a&&a.numeratorValue,{hash:{},inverse:D.noop,fn:D.program(15,n,b),data:b}),(d||0===d)&&(g+=d),g+="\n            </td>\n            <td>\n                ",d=c.if.call(a,a&&a.numeratorUnit,{hash:{},inverse:D.noop,fn:D.program(20,q,b),data:b}),(d||0===d)&&(g+=d),g+="\n            </td>\n            <td>\n                ",d=c.if.call(a,a&&a.denominatorValue,{hash:{},inverse:D.noop,fn:D.program(25,t,b),data:b}),(d||0===d)&&(g+=d),g+="\n            </td>\n            <td>\n                ",d=c.if.call(a,a&&a.denominatorUnit,{hash:{},inverse:D.noop,fn:D.program(30,w,b),data:b}),(d||0===d)&&(g+=d),g+="\n            </td>\n        </tr>\n    "}function l(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function m(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.ingredient,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function n(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(18,p,b),fn:D.program(16,o,b),data:b},d=e?e.call(a,(d=a&&a.numeratorValue,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.numeratorValue,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                    "+C((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.numeratorValue,null==d||!1===d?d:d.defaultTerm),f):E.call(a,"removeSemtag",(d=a&&a.numeratorValue,null==d||!1===d?d:d.defaultTerm),f)))+"\n                "}function o(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                    '}function p(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.numeratorValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                    '}function q(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(23,s,b),fn:D.program(21,r,b),data:b},d=e?e.call(a,(d=a&&a.numeratorUnit,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.numeratorUnit,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                    "+C((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.numeratorUnit,null==d||!1===d?d:d.defaultTerm),f):E.call(a,"removeSemtag",(d=a&&a.numeratorUnit,null==d||!1===d?d:d.defaultTerm),f)))+"\n                "}function r(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                    '}function s(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.numeratorUnit,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                    '}function t(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(28,v,b),fn:D.program(26,u,b),data:b},d=e?e.call(a,(d=a&&a.denominatorValue,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.denominatorValue,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                    "+C((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.denominatorValue,null==d||!1===d?d:d.defaultTerm),f):E.call(a,"removeSemtag",(d=a&&a.denominatorValue,null==d||!1===d?d:d.defaultTerm),f)))+"\n                "}function u(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                    '}function v(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.denominatorValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                    '}function w(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:D.program(33,y,b),fn:D.program(31,x,b),data:b},d=e?e.call(a,(d=a&&a.denominatorUnit,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):E.call(a,"if_eq",(d=a&&a.denominatorUnit,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                    "+C((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.denominatorUnit,null==d||!1===d?d:d.defaultTerm),f):E.call(a,"removeSemtag",(d=a&&a.denominatorUnit,null==d||!1===d?d:d.defaultTerm),f)))+"\n                "}function x(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                    '}function y(a,b){var d,e,f="";return f+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=C(d)+'\')" data-module="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.module,typeof d===B?d.apply(a):d))+'" data-concept-id="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.conceptId,typeof d===B?d.apply(a):d))+'" data-term="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.defaultTerm,typeof d===B?d.apply(a):d))+'" data-def-status="'+C((d=a&&a.denominatorUnit,d=null==d||!1===d?d:d.definitionStatus,typeof d===B?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var z,A="",B="function",C=this.escapeExpression,D=this,E=c.helperMissing;return A+="<br>\n<h4>&nbsp;&nbsp;&nbsp;"+C((z=b&&b.productData,z=null==z||!1===z?z:z.defaultTerm,typeof z===B?z.apply(b):z))+"</h4>\n<br>\n<table class='table table-bordered' id = ''>\n    <thead>\n        <tr><th colspan=\"2\">Dose form</th></tr>\n    </thead>\n    <tbody>\n    ",z=c.each.call(b,(z=b&&b.productData,null==z||!1===z?z:z.forms),{hash:{},inverse:D.noop,fn:D.program(1,f,e),data:e}),(z||0===z)&&(A+=z),A+="\n    </tbody>\n</table>\n<br>\n<table class='table table-bordered' id = ''>\n    <thead>\n    <tr>\n        <th>Ingredient / BoSS</th>\n        <th colspan=\"2\">Strength Numerator</th>\n        <th colspan=\"2\">Strength Denominator</th>\n    </tr>\n    </thead>\n    <tbody>\n    ",z=c.each.call(b,(z=b&&b.productData,null==z||!1===z?z:z.ingredients),{hash:{},inverse:D.noop,fn:D.program(10,k,e),data:e}),(z||0===z)&&(A+=z),A+="\n    </tbody>\n</table>"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/references.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,l="";return l+='\n    <div style="margin-top: 10px;" class="panel panel-default">\n        <div class="panel-heading">\n            <h3 style="font-size: 12px" class="panel-title">\n                <a style="text-decoration: inherit;" data-toggle="collapse" data-parent="#references-',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===t?e.call(a,{hash:{},data:b}):e),l+=u(d)+'-accordion" href="#references-'+u((d=null==b||!1===b?b:b.index,typeof d===t?d.apply(a):d))+'">\n                    <span id="references-'+u((d=null==b||!1===b?b:b.index,typeof d===t?d.apply(a):d))+'-span" class="references glyphicon glyphicon-',e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:w.program(4,h,b),fn:w.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.referencingConcepts,null==d||!1===d?d:d.length),10,f):v.call(a,"if_gr",(d=a&&a.referencingConcepts,null==d||!1===d?d:d.length),10,f),(d||0===d)&&(l+=d),l+='"></span>\n                </a>&nbsp;'+u((d=a&&a.referenceType,d=null==d||!1===d?d:d.fsn,d=null==d||!1===d?d:d.term,typeof d===t?d.apply(a):d))+" ("+u((d=a&&a.referencingConcepts,d=null==d||!1===d?d:d.length,typeof d===t?d.apply(a):d))+')\n            </h3>\n        </div>\n        <div id="references-'+u((d=null==b||!1===b?b:b.index,typeof d===t?d.apply(a):d))+'" class="panel-collapse collapse ',e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:w.program(8,j,b),fn:w.program(6,i,b),data:b},d=e?e.call(a,(d=a&&a.referencingConcepts,null==d||!1===d?d:d.length),10,f):v.call(a,"if_gr",(d=a&&a.referencingConcepts,null==d||!1===d?d:d.length),10,f),(d||0===d)&&(l+=d),l+='">\n            <div class="panel-body">\n                <table class="table table-hover table-bordered">\n                    <thead>\n                    <tr>\n                        <th>Term</th>\n                        <th>ConceptId</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    ',d=c.each.call(a,a&&a.referencingConcepts,{hash:{},inverse:w.noop,fn:w.program(10,k,b),data:b}),(d||0===d)&&(l+=d),l+="\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n"}function g(a,b){return"chevron-right"}function h(a,b){return"chevron-down"}function i(a,b){return""}function j(a,b){return"in"}function k(a,b){var d,e,f,g="";return g+="\n                        <tr>\n                            <td>\n                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:w.programWithDepth(13,m,b,a),fn:w.programWithDepth(11,l,b,a),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):v.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="\n                                ",e=c.hasCountryIcon||a&&a.hasCountryIcon,f={hash:{},inverse:w.noop,fn:w.program(15,n,b),data:b},d=e?e.call(a,a&&a.moduleId,f):v.call(a,"hasCountryIcon",a&&a.moduleId,f),(d||0===d)&&(g+=d),g+="\n                                "+u((d=a&&a.fsn,d=null==d||!1===d?d:d.term,typeof d===t?d.apply(a):d))+"\n                            </td>\n                            <td>",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=u(d)+"</td>\n                        </tr>\n                    "}function l(a,b,d){var e,f,g="";return g+="\n                                    <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+u((e=d&&d.divElementId,typeof e===t?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='"+u((e=a&&a.fsn,e=null==e||!1===e?e:e.term,typeof e===t?e.apply(a):e))+"'>&nbsp;&nbsp;</span>\n                                "}function m(a,b,d){var e,f,g="";return g+="\n                                    <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+u((e=d&&d.divElementId,typeof e===t?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='"+u((e=a&&a.fsn,e=null==e||!1===e?e:e.term,typeof e===t?e.apply(a):e))+"'>&equiv;</span>                                    \n                                "}function n(a,b){var d,e,f="";return f+='\n                                    <div class="phoca-flagbox" style="width:22px;height:22px">\n                                        <span class="phoca-flag '+u((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):v.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                                    </div>\n                                '}function o(a,b,d){var e,f,g,h="";return h+="--\x3e\n        \x3c!--<tr>--\x3e\n            \x3c!--<td>--\x3e\n                \x3c!--<span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+u((e=d&&d.divElementId,typeof e===t?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===t?f.call(a,{hash:{},data:b}):f),h+=u(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),h+=u(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===t?f.call(a,{hash:{},data:b}):f),h+=u(e)+"'>&nbsp;&nbsp;</span>--\x3e\n                \x3c!--",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:w.noop,fn:w.program(18,p,b),data:b},e=f?f.call(a,a&&a.module,g):v.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(h+=e),h+="--\x3e\n                \x3c!--",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===t?f.call(a,{hash:{},data:b}):f),h+=u(e)+"--\x3e\n            \x3c!--</td>--\x3e\n            \x3c!--<td>",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),h+=u(e)+"</td>--\x3e\n            \x3c!--<td>--\x3e\n                \x3c!--",e=c.each.call(a,a&&a.relationships,{hash:{},inverse:w.noop,fn:w.program(20,q,b),data:b}),(e||0===e)&&(h+=e),h+="--\x3e\n\n                \x3c!--",e=c.each.call(a,a&&a.statedRelationships,{hash:{},inverse:w.noop,fn:w.program(20,q,b),data:b}),(e||0===e)&&(h+=e),h+="--\x3e\n            \x3c!--</td>--\x3e\n        \x3c!--</tr>--\x3e\n    \x3c!--"}function p(a,b){var d,e,f="";return f+='--\x3e\n                    \x3c!--<div class="phoca-flagbox" style="width:22px;height:22px">--\x3e\n                        \x3c!--<span class="phoca-flag '+u((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):v.call(a,"countryIcon",a&&a.module,e)))+'"></span>--\x3e\n                    \x3c!--</div>--\x3e\n                \x3c!--'}function q(a,b){var c,d="";return d+="--\x3e\n                    \x3c!--"+u((c=a&&a.type,c=null==c||!1===c?c:c.defaultTerm,typeof c===t?c.apply(a):c))+"--\x3e\n                \x3c!--"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s="",t="function",u=this.escapeExpression,v=c.helperMissing,w=this;return r=c.each.call(b,(r=b&&b.result,null==r||!1===r?r:r.referencesByType),{hash:{},inverse:w.noop,fn:w.program(1,f,e),data:e}),(r||0===r)&&(s+=r),s+="\n\n\x3c!--<thead>--\x3e\n    \x3c!--<tr>--\x3e\n        \x3c!--<th>Term</th>--\x3e\n        \x3c!--<th>ConceptId</th>--\x3e\n        \x3c!--<th>Relationships Type</th>--\x3e\n    \x3c!--</tr>--\x3e\n\x3c!--</thead>--\x3e\n\x3c!--<tbody>--\x3e\n    \x3c!--",r=c.each.call(b,b&&b.result,{hash:{},inverse:w.noop,fn:w.programWithDepth(17,o,e,b),data:e}),(r||0===r)&&(s+=r),s+="--\x3e\n</tbody>"}),this.JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/refset.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,k="";return k+="\n        <tr class='",d=c.if.call(a,a&&a.active,{hash:{},inverse:B.program(4,h,b),fn:B.program(2,g,b),data:b}),(d||0===d)&&(k+=d),k+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(8,j,b),fn:B.program(6,i,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):C.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                ",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+'\n            </td>            \n            <td>                \n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'>\n                        <tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+'</td></tr>\n                    </table>"data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n    '}function g(a,b){return""}function h(a,b){return"danger"}function i(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-def-status="',(e=c.definitionStatus)?d=e.call(a,{hash:{},data:b}):(e=a&&a.definitionStatus,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function j(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-def-status="',(e=c.definitionStatus)?d=e.call(a,{hash:{},data:b}):(e=a&&a.definitionStatus,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function k(a,b){return"\n        </tbody>\n    "}function l(a,b){var d,e,f="";return f+="\n        <tr><td><span class='i18n text-muted' data-i18n-id='i18n_no_memberships'>"+A((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_memberships","No memberships",e):C.call(a,"i18n","i18n_no_memberships","No memberships",e)))+"</span></td></tr>\n        </tbody>\n    "}function m(a,b){var d,e,f,i="";return i+="        \n        <tr class='",d=c.if.call(a,a&&a.active,{hash:{},inverse:B.program(4,h,b),fn:B.program(2,g,b),data:b}),(d||0===d)&&(i+=d),i+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(17,o,b),fn:B.program(15,n,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):C.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(i+=d),i+="\n                ",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+'\n            </td>\n            <td class="refset-simplemap" data-refsetId="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+'" data-conceptId="',(e=c.otherValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.otherValue,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+'">',(e=c.otherValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.otherValue,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+'</td>\n            <td>                \n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),i+=A(d)+'</td></tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n    '}function n(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'"  data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-def-status="',(e=c.definitionStatus)?d=e.call(a,{hash:{},data:b}):(e=a&&a.definitionStatus,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function o(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'"  data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'" data-def-status="',(e=c.definitionStatus)?d=e.call(a,{hash:{},data:b}):(e=a&&a.definitionStatus,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function p(a,b){var d,e,f,k="";return k+="       \n        <tr class='",d=c.if.call(a,a&&a.active,{hash:{},inverse:B.program(4,h,b),fn:B.program(2,g,b),data:b}),(d||0===d)&&(k+=d),k+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(8,j,b),fn:B.program(6,i,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):C.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                ",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"\n            </td>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(22,r,b),fn:B.program(20,q,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):C.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                "+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===z?d.apply(a):d))+'</td>\n            <td>                \n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+'</td></tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n    '}function q(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')"  data-module="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.module,typeof d===z?d.apply(a):d))+'" data-concept-id="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.conceptId,typeof d===z?d.apply(a):d))+'" data-term="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===z?d.apply(a):d))+'" data-def-status="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===z?d.apply(a):d))+'"><span  class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function r(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')"  data-module="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.module,typeof d===z?d.apply(a):d))+'" data-concept-id="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.conceptId,typeof d===z?d.apply(a):d))+'" data-term="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===z?d.apply(a):d))+'" data-def-status="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===z?d.apply(a):d))+'"><span  class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function s(a,b){var d,e,f,k="";return k+="        \n        <tr class='",d=c.if.call(a,a&&a.active,{hash:{},inverse:B.program(4,h,b),fn:B.program(2,g,b),data:b}),(d||0===d)&&(k+=d),k+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(8,j,b),fn:B.program(6,i,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):C.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                ",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"\n            </td>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(27,u,b),fn:B.program(25,t,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"PRIMITIVE",f):C.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",f),(d||0===d)&&(k+=d),k+="\n                "+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===z?d.apply(a):d))+'</td>\n            <td>                \n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr>\n                            <td style=\'padding: 3px;\'>',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===z?e.call(a,{hash:{},data:b}):e),k+=A(d)+'\n                            </td>\n                        </tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>        \n    '}function t(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')" data-module="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.module,typeof d===z?d.apply(a):d))+'" data-concept-id="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.conceptId,typeof d===z?d.apply(a):d))+'" data-term="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===z?d.apply(a):d))+'" data-def-status="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===z?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function u(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===z?e.call(a,{hash:{},data:b}):e),f+=A(d)+'\')" data-module="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.module,typeof d===z?d.apply(a):d))+'" data-concept-id="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.conceptId,typeof d===z?d.apply(a):d))+'" data-term="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.defaultTerm,typeof d===z?d.apply(a):d))+'" data-def-status="'+A((d=a&&a.cidValue,d=null==d||!1===d?d:d.definitionStatus,typeof d===z?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var v,w,x,y="",z="function",A=this.escapeExpression,B=this,C=c.helperMissing;return y+='<div style="margin: 10px;">\n    <a class="btn btn-primary btn-sm pull-right i18n" href="https://mapping.ihtsdotools.org/#/record/conceptId/'+A((v=b&&b.firstMatch,v=null==v||!1===v?v:v.conceptId,typeof v===z?v.apply(b):v))+'/autologin?refSetId=P447562003" target="_blank" role="button" data-i18n-id=\'i18n_open_maps_for_concept\'>'+A((w=c.i18n||b&&b.i18n,x={hash:{},data:e},w?w.call(b,"i18n_open_maps_for_concept","Open maps for this concept",x):C.call(b,"i18n","i18n_open_maps_for_concept","Open maps for this concept",x)))+"</a>\n</div>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_simple_refset_memberships'>"+A((w=c.i18n||b&&b.i18n,x={hash:{},data:e},w?w.call(b,"i18n_simple_refset_memberships","Simple Refsets Membership",x):C.call(b,"i18n","i18n_simple_refset_memberships","Simple Refsets Membership",x)))+"</span></th>\n    </tr></thead>\n<tbody>\n    ",v=c.each.call(b,b&&b.simpleRefsetMembers,{hash:{},inverse:B.noop,fn:B.program(1,f,e),data:e}),(v||0===v)&&(y+=v),y+="\n    ",w=c.if_not_empty||b&&b.if_not_empty,x={hash:{},inverse:B.program(12,l,e),fn:B.program(10,k,e),data:e},v=w?w.call(b,b&&b.simpleRefsetMembers,x):C.call(b,"if_not_empty",b&&b.simpleRefsetMembers,x),(v||0===v)&&(y+=v),y+="\n</table>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_simple_map_refset_name'>"+A((w=c.i18n||b&&b.i18n,x={hash:{},data:e},w?w.call(b,"i18n_simple_map_refset_name","Simple Map Refset name",x):C.call(b,"i18n","i18n_simple_map_refset_name","Simple Map Refset name",x)))+"</span></th>\n    </tr></thead>\n<tbody>\n    ",v=c.each.call(b,b&&b.simpleMapRefsetMembers,{hash:{},inverse:B.noop,fn:B.program(14,m,e),data:e}),(v||0===v)&&(y+=v),y+="    \n    ",w=c.if_not_empty||b&&b.if_not_empty,x={hash:{},inverse:B.program(12,l,e),fn:B.program(10,k,e),data:e},v=w?w.call(b,b&&b.simpleMapRefsetMembers,x):C.call(b,"if_not_empty",b&&b.simpleMapRefsetMembers,x),(v||0===v)&&(y+=v),y+="\n</table>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_attribute_value_refset_name'>"+A((w=c.i18n||b&&b.i18n,x={hash:{},data:e},w?w.call(b,"i18n_attribute_value_refset_name","Attribute Value Refset name",x):C.call(b,"i18n","i18n_attribute_value_refset_name","Attribute Value Refset name",x)))+"</span></th>\n    </tr></thead>\n<tbody>\n\n    ",v=c.each.call(b,b&&b.attributeValueRefsetMembers,{hash:{},inverse:B.noop,fn:B.program(19,p,e),data:e}),(v||0===v)&&(y+=v),y+="\n    ",w=c.if_not_empty||b&&b.if_not_empty,x={hash:{},inverse:B.program(12,l,e),fn:B.program(10,k,e),data:e},v=w?w.call(b,b&&b.attributeValueRefsetMembers,x):C.call(b,"if_not_empty",b&&b.attributeValueRefsetMembers,x),(v||0===v)&&(y+=v),y+="\n</table>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_association_refset_name'>"+A((w=c.i18n||b&&b.i18n,x={hash:{},data:e},w?w.call(b,"i18n_association_refset_name","Association Refset name",x):C.call(b,"i18n","i18n_association_refset_name","Association Refset name",x)))+"</span></th>\n    </tr></thead>\n<tbody>\n    ",v=c.each.call(b,b&&b.associationRefsetMembers,{hash:{},inverse:B.noop,fn:B.program(24,s,e),data:e}),(v||0===v)&&(y+=v),y+="\n    ",w=c.if_not_empty||b&&b.if_not_empty,x={hash:{},inverse:B.program(12,l,e),fn:B.program(10,k,e),data:e},v=w?w.call(b,b&&b.associationRefsetMembers,x):C.call(b,"if_not_empty",b&&b.associationRefsetMembers,x),(v||0===v)&&(y+=v),y+="\n</table>\n"}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/andCriteria.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"Conjunction"}function g(a,b){var d,e;return(e=c.typeSelected)?d=e.call(a,{hash:{},data:b}):(e=a&&a.typeSelected,d=typeof e===q?e.call(a,{hash:{},data:b}):e),r(d)}function h(a,b){return"\n            and\n        "}function i(a,b){return"\n            attribute\n        "}function j(a,b){return""}function k(a,b){return'style="display: none;"'}function l(a,b){var d,e,f="";return f+='\n                    <li role="presentation"><a class="selectTypeOpt" data-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'" role="menuitem" tabindex="-1" href="javascript:void(0);">',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</a></li>\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return p+='<div class="addedCriteria" data-typeSelected="',n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(3,g,e),fn:s.program(1,f,e),data:e},m=n?n.call(b,b&&b.typeSelected,"false",o):t.call(b,"if_eq",b&&b.typeSelected,"false",o),(m||0===m)&&(p+=m),p+='">\n    <div class="form-group text-center" style="width: 75px;">\n        ',n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(7,i,e),fn:s.program(5,h,e),data:e},m=n?n.call(b,b&&b.typeSelected,"Conjunction",o):t.call(b,"if_eq",b&&b.typeSelected,"Conjunction",o),(m||0===m)&&(p+=m),p+='\n    </div>\n    <div data-type-concept-id="false" class="form-group typeCritCombo" ',n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(11,k,e),fn:s.program(9,j,e),data:e},m=n?n.call(b,b&&b.typeSelected,"Refinement",o):t.call(b,"if_eq",b&&b.typeSelected,"Refinement",o),(m||0===m)&&(p+=m),p+='>\n        <div class="dropdown">\n            <button style="width: 147px;" class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">\n                <span>Select type&nbsp;</span>\n                <span class="caret"></span>\n            </button>\n            <ul style="max-height: 400px; overflow: auto;" class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\n                <li role="presentation"><a class="selectTypeOpt" data-id="*" data-term="Any" role="menuitem" tabindex="-1" href="javascript:void(0);">Any</a></li>\n                ',m=c.each.call(b,b&&b.types,{hash:{},inverse:s.noop,fn:s.program(13,l,e),data:e}),(m||0===m)&&(p+=m),p+='\n            </ul>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="dropdown">\n            <button style="width: 147px;" class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">\n                <span class="addSelectCriteria">',(n=c.criteria)?m=n.call(b,{hash:{},data:e}):(n=b&&b.criteria,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+'</span>\n                <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\n                <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">descendantOf</a></li>\n                <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">descendantOrSelfOf</a></li>\n                <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">self</a></li>\n                <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">isMemberOf</a></li>\n            </ul>\n        </div>\n    </div>\n    <div class="form-group">\n        <input type="text" data-droppable="true" ondrop="dropField(event)" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class="form-control andCriteriaConcept" placeholder="Drag a concept here" readonly>\n    </div>\n    <div class="form-group"><button type="button" class="btn btn-link glyphicon glyphicon-remove removeCriteria" style="text-decoration: none;"></button></div>\n    <div class="form-group"><button type="button" class="btn btn-link glyphicon glyphicon-plus addCriteria" style="text-decoration: none;"></button></div>\n</div>'}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/criteria.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,i,j="";return j+="\n            ",f=c.if_eq||a&&a.if_eq,i={hash:{},inverse:w.program(4,h,b),fn:w.program(2,g,b),data:b},e=f?f.call(a,null==b||!1===b?b:b.index,0,i):z.call(a,"if_eq",null==b||!1===b?b:b.index,0,i),(e||0===e)&&(j+=e),j+='\n            <span class="constraint" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+'" data-criteria="',(f=c.criteria)?e=f.call(a,{hash:{},data:b}):(f=a&&a.criteria,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+'" ',e=c.if.call(a,(e=a&&a.type,null==e||!1===e?e:e.conceptId),{hash:{},inverse:w.noop,fn:w.program(13,m,b),data:b}),(e||0===e)&&(j+=e),j+=">\n                \x3c!--",(f=c.criteria)?e=f.call(a,{hash:{},data:b}):(f=a&&a.criteria,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+"&nbsp;--\x3e\n                ",e=c.if.call(a,(e=a&&a.type,null==e||!1===e?e:e.conceptId),{hash:{},inverse:w.noop,fn:w.program(15,n,b),data:b}),(e||0===e)&&(j+=e),j+='\n                <div style="display: inline-block;" class="dropdown">\n                    <button style="text-decoration: inherit; color: inherit; display: inline-block; padding: 0px;" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true">\n                        ',(f=c.criteria)?e=f.call(a,{hash:{},data:b}):(f=a&&a.criteria,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+'&nbsp;\n                    </button>\n                    <ul class="dropdown-menu" role="menu">\n                        <li role="presentation"><a class="criteriaDropdownOption" role="menuitem" tabindex="-1" href="javascript:void(0);">descendantOf</a></li>\n                        <li role="presentation"><a class="criteriaDropdownOption" role="menuitem" tabindex="-1" href="javascript:void(0);">descendantOrSelfOf</a></li>\n                        <li role="presentation"><a class="criteriaDropdownOption" role="menuitem" tabindex="-1" href="javascript:void(0);">self</a></li>\n                        <li role="presentation"><a class="criteriaDropdownOption" role="menuitem" tabindex="-1" href="javascript:void(0);">isMemberOf</a></li>\n                    </ul>\n                </div>\n                <span style="color: forestgreen;">',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+'</span>&nbsp;\n                |\n                <span style="color: firebrick;">',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===x?f.call(a,{hash:{},data:b}):f),j+=y(e)+"</span>\n                |",e=c.if.call(a,(e=d&&d.criterias,e=null==e||!1===e?e:e[1],e=null==e||!1===e?e:e.type,null==e||!1===e?e:e.conceptId),{hash:{},inverse:w.noop,fn:w.programWithDepth(17,o,b,d),data:b}),(e||0===e)&&(j+=e),j+="\n            </span>\n        "}function g(a,b){return"\n            "}function h(a,b){var d,e="";return e+='\n                <br>\n                <div style="margin-left: ',d=c.if.call(a,(d=a&&a.type,null==d||!1===d?d:d.conceptId),{hash:{},inverse:w.program(7,j,b),fn:w.program(5,i,b),data:b}),(d||0===d)&&(e+=d),e+='px; display: inline-block">\n                    ',d=c.if.call(a,(d=a&&a.type,null==d||!1===d?d:d.conceptId),{hash:{},inverse:w.program(11,l,b),fn:w.program(9,k,b),data:b}),(d||0===d)&&(e+=d),e+="\n                </div>\n            "}function i(a,b){return"68"}function j(a,b){return"43"}function k(a,b){return""}function l(a,b){return"AND"}function m(a,b){var c,d="";return d+='data-type-concept-id="'+y((c=a&&a.type,c=null==c||!1===c?c:c.conceptId,typeof c===x?c.apply(a):c))+'" data-type-term="'+y((c=a&&a.type,c=null==c||!1===c?c:c.term,typeof c===x?c.apply(a):c))+'"'}function n(a,b){var c,d="";return d+='\n                    <span style="color: forestgreen;">'+y((c=a&&a.type,c=null==c||!1===c?c:c.conceptId,typeof c===x?c.apply(a):c))+'</span> |\n                    <span style="color: firebrick;">'+y((c=a&&a.type,c=null==c||!1===c?c:c.term,typeof c===x?c.apply(a):c))+"</span> | =\n                "}function o(a,b,d){var e,f,g,h="";return h+="\n                    ",f=c.if_eqInd||d&&d.if_eqInd,g={hash:{},inverse:w.program(20,q,b),fn:w.program(18,p,b),data:b},e=f?f.call(a,null==b||!1===b?b:b.index,(e=d&&d.criterias,null==e||!1===e?e:e.length),g):z.call(a,"if_eqInd",null==b||!1===b?b:b.index,(e=d&&d.criterias,null==e||!1===e?e:e.length),g),(e||0===e)&&(h+=e),h+="\n                "}function p(a,b){return"\n                    "}function q(a,b){var d,e="";return e+="\n                        ",d=c.if.call(a,null==b||!1===b?b:b.index,{hash:{},inverse:w.program(23,s,b),fn:w.program(21,r,b),data:b}),(d||0===d)&&(e+=d),e+="\n                    "}function r(a,b){return"\n                            ,\n                        "}function s(a,b){return"\n                            :\n                        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var t,u,v="",w=this,x="function",y=this.escapeExpression,z=c.helperMissing;return v+='<li data-modifier="',(u=c.modifier)?t=u.call(b,{hash:{},data:e}):(u=b&&b.modifier,t=typeof u===x?u.call(b,{hash:{},data:e}):u),v+=y(t)+'" class="list-group-item clearfix query-condition">\n    <span class="text-muted line-number" style="font-size: 200%;"></span>&nbsp;&nbsp;\n    <span style="position: relative; top: -5px;">\n        <div style="width: 45px;display: inline-block;">',(u=c.modifier)?t=u.call(b,{hash:{},data:e}):(u=b&&b.modifier,t=typeof u===x?u.call(b,{hash:{},data:e}):u),v+=y(t)+":</div>\n        ",t=c.each.call(b,b&&b.criterias,{hash:{},inverse:w.noop,fn:w.programWithDepth(1,f,e,b),data:e}),(t||0===t)&&(v+=t),v+="\n    </span>\n    <button class='pull-right btn btn-link removeLi' style=\"position: relative; top: 3px;\">\n        <i class='glyphicon glyphicon-remove'></i>\n    </button>\n </li>"}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/examples.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,h,m="";return m+='\n    <br>\n    <div id="'+j((e=d&&d.divElementId,typeof e===i?e.apply(a):e))+"-"+j((e=null==b||!1===b?b:b.index,typeof e===i?e.apply(a):e))+'-modal-examples" ',f=c.if_eqInd||d&&d.if_eqInd,h={hash:{},inverse:k.noop,fn:k.program(2,g,b),data:b},e=f?f.call(a,null==b||!1===b?b:b.index,(e=d&&d.examples,null==e||!1===e?e:e.length),h):l.call(a,"if_eqInd",null==b||!1===b?b:b.index,(e=d&&d.examples,null==e||!1===e?e:e.length),h),(e||0===e)&&(m+=e),m+=">\n        <h4>",(f=c.title)?e=f.call(a,{hash:{},data:b}):(f=a&&a.title,e=typeof f===i?f.call(a,{hash:{},data:b}):f),m+=j(e)+'</h4>\n        <span data-htmlValue="',(f=c.htmlValue)?e=f.call(a,{hash:{},data:b}):(f=a&&a.htmlValue,e=typeof f===i?f.call(a,{hash:{},data:b}):f),m+=j(e)+'" class="pull-right btn btn-primary btn-xs loadExample" style="padding: 0px; display: inline-block;">Load instructions</span>\n        <br>\n        <div class="contentExamples" style="margin: 10px;">',(f=c.htmlValue)?e=f.call(a,{hash:{},data:b}):(f=a&&a.htmlValue,e=typeof f===i?f.call(a,{hash:{},data:b}):f),(e||0===e)&&(m+=e),m+="</div>\n        <br>\n    </div>\n"}function g(a,b){return'style="min-height: 450px;"'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="function",j=this.escapeExpression,k=this,l=c.helperMissing;return h=c.each.call(b,b&&b.examples,{hash:{},inverse:k.noop,fn:k.programWithDepth(1,f,e,b),data:e}),h||0===h?h:""}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,g="";return g+='\n                    <li><a contenteditable="false" href="#'+l((e=d&&d.divElementId,typeof e===k?e.apply(a):e))+"-"+l((e=null==b||!1===b?b:b.index,typeof e===k?e.apply(a):e))+'-modal-examples" class="list-group-item">',(f=c.title)?e=f.call(a,{hash:{},data:b}):(f=a&&a.title,e=typeof f===k?f.call(a,{hash:{},data:b}):f),g+=l(e)+"</a></li>\n                  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k="function",l=this.escapeExpression,m=c.helperMissing,n=this;return j+="<div style='height:100%;margin: 5px; overflow:auto;' class='panel panel-default' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-mainPanel'>\n  <div class='panel-heading' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-panelHeading'>\n    <div class='row'>\n      <div class='col-md-6' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-panelTitle\'></div>\n      <div class=\'col-md-6 text-right\'>\n        \x3c!--<a class="btn btn-link" href="help/topics/creating-queries.html" target="_blank" title="Help" role="button"><i class=\'glyphicon glyphicon-question-sign\'></i></a>--\x3e\n        <button id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n      </div>\n    </div>\n  </div>\n  <div class='panel-body' style='height:100%' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-panelBody\'>\n    \x3c!--<p style="margin: 10px;">Create a query, conditions are evaluated in order:</p>--\x3e\n    <div class="row container-fluid" style="margin: 10px;">\n      <p class="lead col-md-6 i18n" data-i18n-id="i18n__enter_an_expression">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n__enter_an_expression","Enter an expression",i):m.call(b,"i18n","i18n__enter_an_expression","Enter an expression",i)))+'</p>\n      <button type="button" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-helpButton" class="btn btn-default pull-right i18n" style="margin: 10px;" data-toggle="modal" data-target="#',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-queryHelpModal" data-i18n-id="i18n_Help">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_Help","Help",i):m.call(b,"i18n","i18n_Help","Help",i)))+'</button>\n      <button type="button" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-clearButton" class="btn btn-default pull-right i18n" style="margin: 10px;" data-i18n-id="i18n_clear">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_clear","Clear",i):m.call(b,"i18n","i18n_clear","Clear",i)))+'</button>\n      \x3c!--<p><strong>This will execute against the current MAIN branch of the authoring platform. Please make sure you have logged into the authoring platform to be able to run any queries.</strong></p> --\x3e\n    </div>\n    <div>\n      <ul class="nav nav-tabs">\n        <li class="active"><a href="#',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-ExpTab" data-toggle="tab"><span class="i18n" data-i18n-id="i18n__enter_an_expression">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n__enter_an_expression","Enter an expression",i):m.call(b,"i18n","i18n__enter_an_expression","Enter an expression",i)))+'</span></a></li>\n        \x3c!--                <li><a href="#',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-BuilderTab" data-toggle="tab"><span class="i18n" data-i18n-id="i18n_builder">Build a simple expression</span></a></li>\n--\x3e\n      </ul>\n      <div class="tab-content">\n        <div class="tab-pane" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-BuilderTab" style="padding: 0px;margin: 0;">\n          <div class="row container-fluid" style="margin: 10px;">\n            <form class="form-inline" role="form">\n              <div class="form-group">\n                <div class="dropdown">\n                  <button style="width: 75px;" class="btn btn-default dropdown-toggle" type="button" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-modifierButton" data-toggle="dropdown" aria-expanded="true">\n                                        <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-selectedModifier">Include</span>\n                                        <span class="caret"></span>\n                                    </button>\n                  <ul class="dropdown-menu" role="menu" aria-labelledby="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-modifierButton">\n                    <li role="presentation"><a role="menuitem" data-role="modifier-selector" tabindex="-1" href="javascript:void(0);">Include</a></li>\n                    <li role="presentation"><a role="menuitem" data-role="modifier-selector" tabindex="-1" href="javascript:void(0);">Exclude</a></li>\n                  </ul>\n                </div>\n              </div>\n              <div class="form-group">\n                <div class="dropdown">\n                  <button style="width: 147px;" class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">\n                                        <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-selectedCriteria">descendantOf</span>\n                                        <span class="caret"></span>\n                                    </button>\n                  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\n                    <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">descendantOf</a></li>\n                    <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">descendantOrSelfOf</a></li>\n                    \x3c!--<li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">ancestorOf</a></li>--\x3e\n                    \x3c!--<li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">ancestorOrSelfOf</a></li>--\x3e\n                    <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">self</a></li>\n                    \x3c!--<li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">childrenOf</a></li>--\x3e\n                    \x3c!--<li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">parentsOf</a></li>--\x3e\n                    <li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">isMemberOf</a></li>\n                    \x3c!--<li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">hasDescription</a></li>--\x3e\n                    \x3c!--<li role="presentation"><a role="menuitem" data-role="criteria-selector" tabindex="-1" href="javascript:void(0);">hasRelationship</a></li>--\x3e\n                  </ul>\n                </div>\n              </div>\n              <div class="form-group" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-conceptField">\n                <input type="text" data-droppable="true" ondrop="dropField(event)" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class="form-control" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-selectedConcept" placeholder="Drag a concept here" readonly>\n                <input type="text" data-droppable="true" ondrop="dropField(event)" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class="form-control" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-selectedType" placeholder="Drag a type here" readonly>\n                <input type="text" data-droppable="true" ondrop="dropField(event)" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class="form-control" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-selectedTarget" placeholder="Drag a destination here" readonly>\n                <input type="text" class="form-control" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-searchTerm" placeholder="Type search string">\n                <span class="dropdown">\n                        <button class="btn btn-default dropdown-toggle" type="button" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-formdropdown" data-toggle="dropdown" aria-expanded="true">\n                            <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-selectedForm">stated</span>\n                <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu" role="menu" aria-labelledby="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-formdropdown">\n                  <li role="presentation"><a role="menuitem" data-role="form-selector" tabindex="-1" href="javascript:void(0);">stated</a></li>\n                  <li role="presentation"><a role="menuitem" data-role="form-selector" tabindex="-1" href="javascript:void(0);">inferred</a></li>\n                </ul>\n                </span>\n              </div>\n              <div style="margin-left: 41px;" class="form-group" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-addCriteriaAnd">\n                <div class="dropdown">\n                  <button style="text-decoration: none;" class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="true"><span data-toggle="tooltip" data-placement="top" title="More" class="glyphicon glyphicon-plus"></span></button>\n                  <ul class="dropdown-menu pull-right" role="menu">\n                    <li role="presentation"><a class="addCriteria" data-type="Conjunction" role="menuitem" tabindex="-1" href="javascript:void(0);">Add AND</a></li>\n                    <li role="presentation"><a class="addCriteria" data-type="Refinement" role="menuitem" tabindex="-1" href="javascript:void(0);">Add Refinement</a></li>\n                  </ul>\n                </div>\n              </div>\n            </form>\n            <form class="form-inline" role="form">\n              <div class="form-group">\n                <button type="button" class="btn btn-primary" id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-addCriteriaButton\' style="margin: 10px;">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_add_condition","Add instruction",i):m.call(b,"i18n","i18n_add_condition","Add instruction",i)))+'</button>\n                \x3c!--<button type="button" class="btn btn-primary"  id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-cloudResults\' style="margin: 10px; position: relative;" title="Open Cloud Queries Processor" data-toggle="modal" data-target="#',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-cloudModal"><i class=\'glyphicon glyphicon-cloud\' style="position: relative; top: 3px;"></i> <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-cloudCount"></span></button>--\x3e\n\n                <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-addmsg" for="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-addCriteriaButton" class="small text-danger"></span>\n              </div>\n            </form>\n            <ul class="list-group" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-listGroup">\n            </ul>\n            <div class="btn btn-success i18n" style="margin: 10px;" id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-computeInferredButton\' data-i18n-id="i18n_execute">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_execute","Execute",i):m.call(b,"i18n","i18n_execute","Execute",i)))+'</div>\n            <button type="button" class="btn btn-primary pull-right" id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-open-grammar\' style="margin: 10px; position: relative;" data-toggle="modal" data-target="#',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-constraintGrammarModal">',h=c.i18n||b&&b.i18n,i={hash:{},data:e},g=h?h.call(b,"i18n_constraint_grammar","Constraint Grammar",i):m.call(b,"i18n","i18n_constraint_grammar","Constraint Grammar",i),(g||0===g)&&(j+=g),j+='</button>\n            <br>\n            <br>\n          </div>\n        </div>\n        <div class="tab-pane active" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-ExpTab" style="padding: 15px;margin: 0;">\n          <textarea rows="5" ondrop="dropE(event);" class="form-control i18n" placeholder="'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_expression","Expression",i):m.call(b,"i18n","i18n_expression","Expression",i)))+'..." id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-ExpText"></textarea>\n          <div class="btn btn-success i18n" style="margin: 10px;" id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-computeInferredButton2\' data-i18n-id="i18n_execute">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_execute","Execute",i):m.call(b,"i18n","i18n_execute","Execute",i)))+'</div>\n          <div class="btn btn-success" style="display: none; margin: 10px;" id=\'',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-computeOntoserver2\'>Run on Ontoserver</div>\n          <br>\n        </div>\n        </form>\n        \x3c!--            <ul class="list-group" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-listGroup">\n            </ul>\n            ',h=c.i18n||b&&b.i18n,i={hash:{},data:e},g=h?h.call(b,"i18n_results","Results",i):m.call(b,"i18n","i18n_results","Results",i),(g||0===g)&&(j+=g),j+=':  <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-resultInfo" class="text-muted small"></span>\n--\x3e\n        <div class="row container-fluid" style="margin: 10px;">\n          <p class="lead"><span class="i18n" data-i18n-id="i18n_results">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_results","Results",i):m.call(b,"i18n","i18n_results","Results",i)))+'</span>: <span id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-resultInfo"></p></span>\n        </div>\n\n        <div class="row container-fluid" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-output" style="margin: 10px;">\n          <table class="table table-bordered">\n            <thead>\n              <tr>\n                <th>Concept</th>\n                <th>Id</th>\n              </tr>\n            </thead>\n            <tbody id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-outputBody"></tbody>\n            <tfoot>\n              <tr>\n                <td colspan="2" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-footer" class="text-center text-muted small"></td>\n              </tr>\n            </tfoot>\n          </table>\n          <table id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-output2" style="display: none">\n            <thead>\n              <tr>\n                <th>Concept</th>\n                <th>Id</th>\n              </tr>\n            </thead>\n            <tbody id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-outputBody2">\n            </tbody>\n          </table>\n\n        </div>\n      </div>\n      <br><br><br><br><br><br><br><br><br><br><br><br><br><br>\n    </div>\n  </div>\n  \x3c!-- Modals --\x3e\n  <div class="modal fade" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-ExamplesModal" tabindex="-1" role="dialog" aria-labelledby="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-myCloudModalLabel" aria-hidden="true">\n    <div class="modal-dialog modal-lg" style="width: 80%;">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n          <h4 class="modal-title">Terminology content selections examples</h4>\n        </div>\n        <div class="modal-body" style="max-height: 450px; overflow: auto;">\n          <div class="row">\n            <div class="col-md-4">\n              <div class="list-group navbar" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-sidebar">\n                <ul id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-mynav" data-spy="affix" data-offset-top="280" class="nav" style="position: fixed; width: 30%;">\n                  ',g=c.each.call(b,b&&b.examples,{hash:{},inverse:n.noop,fn:n.programWithDepth(1,f,e,b),data:e}),(g||0===g)&&(j+=g),j+='\n                </ul>\n              </div>\n            </div>\n            <div class="col-md-8" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-mycontentExamples">\n\n            </div>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-ExamplesModal-close" type="button" class="btn btn-default i18n" data-dismiss="modal" data-i18n-id="i18n_close">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_close","Close",i):m.call(b,"i18n","i18n_close","Close",i)))+'</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal fade" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-queryHelpModal" tabindex="-1" role="dialog" aria-labelledby="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-myCloudModalLabel" aria-hidden="true">\n    <div class="modal-dialog modal-lg">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n          <h4 class="modal-title i18n" data-i18n-id="i18n_Help">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_Help","Help",i):m.call(b,"i18n","i18n_Help","Help",i)))+'</h4>\n        </div>\n        <div class="modal-body" style="max-height: 450px; overflow: auto;">\n          <h2 class="i18n" data-i18n-id="i18n_snomed_ecl_title">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_snomed_ecl_title","SNOMED CT Expression Constraint Language",i):m.call(b,"i18n","i18n_snomed_ecl_title","SNOMED CT Expression Constraint Language",i)))+'</h2>\n          <p> <span class="i18n" data-i18n-id="i18n_snomed_ecl_description">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_snomed_ecl_description",'This tool implements the full set of ECL v1.3 functions from the "SNOMED CT Expression Constraint Language Specification and Guide"',i):m.call(b,"i18n","i18n_snomed_ecl_description",'This tool implements the full set of ECL v1.3 functions from the "SNOMED CT Expression Constraint Language Specification and Guide"',i)))+'</span> (<a href="http://snomed.org/expressionconstraint" target="_blank">http://snomed.org/expressionconstraint)</a>. </p>\n          <p class="lead"><span class="i18n" data-i18n-id="i18n_for_example">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_for_example","For example",i):m.call(b,"i18n","i18n_for_example","For example",i)))+'</span>:</p>\n          <table class="c0">\n            <tbody>\n              <tr class="c15">\n                <td class="c18 c24" colspan="2" rowspan="1">\n                  <p class="c3"><span class="c2 i18n" data-i18n-id="i18n_ecl_operation">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_ecl_operation","ECL Operator",i):m.call(b,"i18n","i18n_ecl_operation","ECL Operator",i)))+'</span></p>\n                </td>\n                <td class="c13 c18" colspan="1" rowspan="2">\n                  <p class="c3"><span class="c2 i18n" data-i18n-id="i18n_summary">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_summary","Summary",i):m.call(b,"i18n","i18n_summary","Summary",i)))+'</span></p>\n                </td>\n                <td class="c6 c18" colspan="1" rowspan="2">\n                  <p class="c3"><span class="c2 i18n" data-i18n-id="i18n_example">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_example","Example",i):m.call(b,"i18n","i18n_example","Example",i)))+'</span></p>\n                </td>\n              </tr>\n              <tr class="c15">\n                <td class="c7" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2 i18n" data-i18n-id="i18n_symbol">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_symbol","Symbol",i):m.call(b,"i18n","i18n_symbol","Symbol",i)))+'</span></p>\n                </td>\n                <td class="c10" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2 i18n" data-i18n-id="i18n_name">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_name","Name",i):m.call(b,"i18n","i18n_name","Name",i)))+'</span></p>\n                </td>\n              </tr>\n              <tr class="c16">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">&lt; </span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name1">Descendant of</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary1">The set of all subtypes of the given concept</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 404684003 |Clinical finding|</span></p>\n                </td>\n              </tr>\n              <tr class="c1">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">&lt;&lt; </span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name2">Descendant or self of</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary2">The set of all subtypes of the given concept plus the concept itself</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c23">&lt;&lt; </span><span class="c20">73211009 |Diabetes mellitus|</span></p>\n                </td>\n              </tr>\n              <tr class="c16">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">&gt; </span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name3">Ancestor of</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary3">The set of all supertypes of the given concept</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&gt; 40541001 |Acute pulmonary edema|</span></p>\n                </td>\n              </tr>\n              <tr class="c1">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">&gt;&gt; </span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name4">Ancestor or self of</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary4">The set of all supertypes of the given concept plus the concept itself</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&gt;&gt; 40541001 |Acute pulmonary edema|</span></p>\n                </td>\n              </tr>\n              <tr class="c1">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">&lt;!</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name5">Child of</span></p>  \n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary5">The set of all children of the given concept</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">! 195967001 |Asthma|</span></p>\n                </td>\n              </tr>\n              <tr class="c1">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">^</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name6">Member of</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary6">The set of referenced components in the given reference set</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">^ 733990004 |Nursing activities reference set|</span></p>\n                </td>\n              </tr>\n              <tr class="c16">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">*</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name7">Any</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary7">Any concept in the given SNOMED CT edition</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5">*</span></p>\n                </td>\n              </tr>\n              <tr class="c21">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">:</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name8">Refinement</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary8">Only those concepts whose defining relationships match the given attribute value pairs</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 404684003 |clinical finding|: 116676008 |associated morphology| = *</span></p>\n                </td>\n              </tr>\n              <tr class="c19">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">AND</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name9">Conjunction</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary9">Only those concepts in both sets</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 19829001 |disorder of lung| AND &lt; 301867009 |edema of trunk|</span></p>\n                </td>\n              </tr>\n              <tr class="c19">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">OR</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name10">Disjunction</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary10">Any concept that belongs to either set</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 19829001 |disorder of lung| OR &lt; 301867009 |edema of trunk|</span></p>\n                </td>\n              </tr>\n              <tr class="c19">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">MINUS</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name11">Exclusion</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary11">Concepts in the first set that do not belong to the second set</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 19829001 |disorder of lung| MINUS &lt; 301867009 |edema of trunk|</span></p>\n                </td>\n              </tr>\n              <tr class="c19">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">[x..y]</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name12">Cardinality</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary12">Only those concepts with at least x and at most y relationships that match the following attribute value pair</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 373873005 |Pharmaceutical / biologic product|: [1..3] 127489000 |Has active ingredient| = &lt; 105590001 |Substance|</span></p>\n                </td>\n              </tr>\n              <tr class="c19">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">R</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name13">Reverse attribute</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary13">The set of attribute values (target concepts) for the given attribute and source concept</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 91723000 |Anatomical structure|: R 363698007 |Finding site| = &lt; 125605004 |Fracture of bone|</span></p>\n                </td>\n              </tr>\n\n              <tr class="c19">\n                <td class="c8" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c2">.</span></p>\n                </td>\n                <td class="c11" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_name14">Dotted attribute</span></p>\n                </td>\n                <td class="c13" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c5 i18n" data-i18n-id="i18n_ecl_summary13">The set of attribute values (target concepts) for the given attribute and source concept</span></p>\n                </td>\n                <td class="c6" colspan="1" rowspan="1">\n                  <p class="c3"><span class="c9">&lt; 125605004 |Fracture of bone|. 363698007 |Finding site|</span></p>\n                </td>\n              </tr>\n\n\n            </tbody>\n          </table>\n        </div>\n\n\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default i18n" data-dismiss="modal" data-i18n-id="i18n_close">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_close","Close",i):m.call(b,"i18n","i18n_close","Close",i)))+'</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal fade" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-constraintGrammarModal" tabindex="-1" role="dialog" aria-labelledby="constraintGrammarModalLabel" aria-hidden="true">\n    <div class="modal-dialog modal-lg" style="max-height: 450px;">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n          <h4 class="modal-title" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-constraintGrammarModalLabel">',h=c.i18n||b&&b.i18n,i={hash:{},data:e},g=h?h.call(b,"i18n_constraint_grammar","Constraint Grammar",i):m.call(b,"i18n","i18n_constraint_grammar","Constraint Grammar",i),(g||0===g)&&(j+=g),j+='</h4>\n        </div>\n        <div class="modal-body" style="max-height: 450px; overflow: auto;">\n          <div class="row">\n            <div class="expression-code col-md-11" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-constraintGrammar">\n\n            </div>\n            <div class="col-md-1">\n              <small><i class="glyphicon glyphicon-export pull-right" style="font-size: 14px;cursor: pointer;" id="',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-copyConstraint"></i></small>\n            </div>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <div class="btn-group pull-left" role="group" aria-label="...">\n            <button type="button" class="btn btn-default" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-full-syntax-button">Full</button>\n            <button type="button" class="btn btn-default" id="home-',(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+'-brief-syntax-button">Brief</button>\n          </div>\n          &nbsp;&nbsp;\n          <button type="button" class="btn btn-default i18n" data-dismiss="modal" data-i18n-id="i18n_close">'+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_close","Close",i):m.call(b,"i18n","i18n_close","Close",i)))+"</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class='modal fade' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-configModal'>\n    <div class='modal-dialog'>\n        <div class='modal-content'>\n            <div class='modal-header'>\n                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>"+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_options","Options",i):m.call(b,"i18n","i18n_options","Options",i)))+"</span></h4>\n            </div>\n            <div class='modal-body' id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-modal-body'>\n                <p></p>\n            </div>\n            <div class='modal-footer'>\n                <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>"+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_cancel","Cancel",i):m.call(b,"i18n","i18n_cancel","Cancel",i)))+"</span></button>\n                <button id='",(h=c.divElementId)?g=h.call(b,{hash:{},data:e}):(h=b&&b.divElementId,g=typeof h===k?h.call(b,{hash:{},data:e}):h),j+=l(g)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>"+l((h=c.i18n||b&&b.i18n,i={hash:{},data:e},h?h.call(b,"i18n_apply_changes","Apply changes",i):m.call(b,"i18n","i18n_apply_changes","Apply changes",i)))+"</span></button>\n            </div>\n        </div>\n    </div>\n</div>"}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/options.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+'-displayPreferredTermOption" checked> <span class="i18n" data-i18n-id="i18n_display_pt_ECL_results_title">'+q((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_pt_ECL_results_title","Display preferred terms in ECL query results",f):r.call(a,"i18n","i18n_display_pt_ECL_results_title","Display preferred terms in ECL query results",f)))+"</span>\n                "}function g(a,b){var d,e,f,g="";return g+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+'-displayPreferredTermOption"> <span class="i18n" data-i18n-id="i18n_display_pt_ECL_results_title">'+q((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_display_pt_ECL_results_title","Display preferred terms in ECL query results",f):r.call(a,"i18n","i18n_display_pt_ECL_results_title","Display preferred terms in ECL query results",f)))+"</span>\n                "}function h(a,b){var d,e,f="";return f+="\n                <option value=\"stated\" selected><span class='i18n' data-i18n-id='i18n_stated'>"+q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_stated","Stated",e):r.call(a,"i18n","i18n_stated","Stated",e)))+"</span></option>\n            "}function i(a,b){var d,e,f="";return f+="\n                <option value=\"stated\"><span class='i18n' data-i18n-id='i18n_stated'>"+q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_stated","Stated",e):r.call(a,"i18n","i18n_stated","Stated",e)))+"</span></option>\n            "}function j(a,b){var d,e,f="";return f+="\n                <option value=\"inferred\" selected><span class='i18n' data-i18n-id='i18n_inferred'>"+q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_inferred","Inferred",e):r.call(a,"i18n","i18n_inferred","Inferred",e)))+"</span></option>\n            "}function k(a,b){var d,e,f="";return f+="\n                <option value=\"inferred\"><span class='i18n' data-i18n-id='i18n_inferred'>"+q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_inferred","Inferred",e):r.call(a,"i18n","i18n_inferred","Inferred",e)))+"</span></option>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=c.helperMissing,s=this;return o+='<form role="form" id="',(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===p?m.call(b,{hash:{},data:e}):m),o+=q(l)+'-options-form">\n    <div class="form-group">\n        <div class="checkbox">\n            <label>\n                ',l=c.if.call(b,(l=b&&b.options,null==l||!1===l?l:l.displayPreferredTerm),{hash:{},inverse:s.program(3,g,e),fn:s.program(1,f,e),data:e}),(l||0===l)&&(o+=l),o+='\n            </label>\n        </div>\n    </div>\n    <div class="form-group">\n        <label for="selectedRelsView"><span class="i18n" data-i18n-id="i18n_ECL_results_filter_title">'+q((m=c.i18n||b&&b.i18n,n={hash:{},data:e},m?m.call(b,"i18n_ECL_results_filter_title","ECL query results filtered by relationship view",n):r.call(b,"i18n","i18n_ECL_results_filter_title","ECL query results filtered by relationship view",n)))+'</span></label>\n        <select class="form-control" id="',(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===p?m.call(b,{hash:{},data:e}):m),o+=q(l)+'-relsTypeFilterOption">\n            ',m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:s.program(7,i,e),fn:s.program(5,h,e),data:e},l=m?m.call(b,(l=b&&b.options,null==l||!1===l?l:l.eclQueryFilter),"stated",n):r.call(b,"if_eq",(l=b&&b.options,null==l||!1===l?l:l.eclQueryFilter),"stated",n),(l||0===l)&&(o+=l),o+="\n            ",m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:s.program(11,k,e),fn:s.program(9,j,e),data:e},l=m?m.call(b,(l=b&&b.options,null==l||!1===l?l:l.eclQueryFilter),"inferred",n):r.call(b,"if_eq",(l=b&&b.options,null==l||!1===l?l:l.eclQueryFilter),"inferred",n),(l||0===l)&&(o+=l),o+="           \n        </select>\n    </div>   \n</form>"}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/relsCriteria.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<li data-modifier="',(g=c.modifier)?f=g.call(b,{hash:{},data:e}):(g=b&&b.modifier,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" data-criteria="',(g=c.criteria)?f=g.call(b,{hash:{},data:e}):(g=b&&b.criteria,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" data-type-id="',(g=c.typeId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.typeId,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" data-type-term="',(g=c.typeTerm)?f=g.call(b,{hash:{},data:e}):(g=b&&b.typeTerm,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" data-target-term="',(g=c.targetTerm)?f=g.call(b,{hash:{},data:e}):(g=b&&b.targetTerm,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" data-target-id="',(g=c.targetId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.targetId,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" data-form="',(g=c.form)?f=g.call(b,{hash:{},data:e}):(g=b&&b.form,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" class="list-group-item clearfix query-condition">\n    <span class="text-muted line-number" style="font-size: 200%;"></span>&nbsp;&nbsp;\n    <span style="position: relative; top: -5px;">\n        ',(g=c.modifier)?f=g.call(b,{hash:{},data:e}):(g=b&&b.modifier,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+", ",(g=c.criteria)?f=g.call(b,{hash:{},data:e}):(g=b&&b.criteria,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'&nbsp;\n        <span style="color: forestgreen;">',(g=c.typeId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.typeId,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'</span>&nbsp;\n        |\n        <span style="color: firebrick;">'+k((g=c.isEmptyString||b&&b.isEmptyString,h={hash:{},data:e},g?g.call(b,b&&b.typeTerm,"Any",h):l.call(b,"isEmptyString",b&&b.typeTerm,"Any",h)))+'</span>\n        |\n        &nbsp;->&nbsp;\n        <span style="color: forestgreen;">',(g=c.targetId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.targetId,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+'</span>&nbsp;\n        |\n        <span style="color: firebrick;">'+k((g=c.isEmptyString||b&&b.isEmptyString,h={hash:{},data:e},g?g.call(b,b&&b.targetTerm,"Any",h):l.call(b,"isEmptyString",b&&b.targetTerm,"Any",h)))+"</span>\n        |&nbsp;&nbsp;",(g=c.form)?f=g.call(b,{hash:{},data:e}):(g=b&&b.form,f=typeof g===j?g.call(b,{hash:{},data:e}):g),i+=k(f)+"\n    </span>\n    <button class='pull-right btn btn-link removeLi' style=\"position: relative; top: 3px;\">\n        <i class='glyphicon glyphicon-remove'></i>\n    </button>\n </li>"}),this.JST["snomed-interaction-components/views/developmentQueryPlugin/searchCriteria.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<li data-modifier="',(g=c.modifier)?f=g.call(b,{hash:{},data:e}):(g=b&&b.modifier,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-criteria="',(g=c.criteria)?f=g.call(b,{hash:{},data:e}):(g=b&&b.criteria,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-search-term="',(g=c.searchTerm)?f=g.call(b,{hash:{},data:e}):(g=b&&b.searchTerm,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="list-group-item clearfix query-condition">\n    <span class="text-muted line-number" style="font-size: 200%;"></span>&nbsp;&nbsp;\n    <span style="position: relative; top: -5px;">\n        ',(g=c.modifier)?f=g.call(b,{hash:{},data:e}):(g=b&&b.modifier,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+", ",(g=c.criteria)?f=g.call(b,{hash:{},data:e}):(g=b&&b.criteria,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'&nbsp;\n        <span style="color: firebrick;">',(g=c.searchTerm)?f=g.call(b,{hash:{},data:e}):(g=b&&b.searchTerm,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</span>\n    </span>\n    <button class='pull-right btn btn-link removeLi' style=\"position: relative; top: 3px;\">\n        <i class='glyphicon glyphicon-remove'></i>\n    </button>\n</li>"}),this.JST["snomed-interaction-components/views/favorites/body.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n                    <tr>\n                        <td>",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</td>\n                        <td>",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+"</td>\n                    </tr>\n                "}function g(a,b){return'\n                <tr>\n                    <td>\n                        <span class="text-muted"> No favorites</span>\n                    </td>\n                </tr>\n            '}function h(a,b){var d,e="";return e+="\n                ",d=c.each.call(a,a&&a.concepts,{hash:{},inverse:t.noop,fn:t.program(6,i,b),data:b}),(d||0===d)&&(e+=d),e+="\n            "}function i(a,b){var d,e,f,g="";return g+="\n                    <tr>\n                        <td>\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:t.programWithDepth(10,l,b,a),fn:t.programWithDepth(7,j,b,a),data:b},d=e?e.call(a,a&&a.definitionStatus,"FULLY_DEFINED",f):s.call(a,"if_eq",a&&a.definitionStatus,"FULLY_DEFINED",f),(d||0===d)&&(g+=d),g+="\n                        </td>\n                        <td>",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),g+=r(d)+'\n                            <a href="javascript:void(0);" style="text-decoration: inherit;">\n                                <span data-concept-id=\'',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),g+=r(d)+'\' class="pull-right glyphicon glyphicon-remove-circle"></span>\n                            </a>\n                        </td>\n                    </tr>\n                '}function j(a,b,d){var e,f,g,h="";return h+='\n                                <a class="fav-item" href="javascript:void(0);" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+'\' style="color: inherit; text-decoration: inherit;">\n                                    <span class="badge alert-warning" draggable=\'true\' ondragstart="drag(event, \''+r((e=d&&d.divElementId,typeof e===q?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"'>&equiv;</span>\n                                    ",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:t.noop,fn:t.program(8,k,b),data:b},e=f?f.call(a,a&&a.module,g):s.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(h+=e),h+="\n                                    <span draggable='true' ondragstart=\"drag(event, '"+r((e=d&&d.divElementId,typeof e===q?e.apply(a):e))+"')\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"'>\n                                        ",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"\n                                    </span>\n                                    \n                                </a>\n                            "}function k(a,b){var d,e,f="";return f+='\n                                        <div class="phoca-flagbox" style="width:22px;height:22px">\n                                            <span class="phoca-flag '+r((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):s.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                                        </div>\n                                    '}function l(a,b,d){var e,f,g,h="";return h+='\n                                <a class="fav-item" href="javascript:void(0);" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+'\' style="color: inherit; text-decoration: inherit;">\n                                    <span class="badge alert-warning" draggable=\'true\' ondragstart="drag(event, \''+r((e=d&&d.divElementId,typeof e===q?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"'>&nbsp;&nbsp;</span>\n                                    ",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:t.noop,fn:t.program(8,k,b),data:b},e=f?f.call(a,a&&a.module,g):s.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(h+=e),h+="\n                                    <span draggable='true' ondragstart=\"drag(event, '"+r((e=d&&d.divElementId,typeof e===q?e.apply(a):e))+"')\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"'>\n                                        ",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===q?f.call(a,{hash:{},data:b}):f),h+=r(e)+"\n                                    </span>\n                                </a>\n                            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=c.helperMissing,t=this;return p+='<div style="margin-top: 10px" class="panel panel-default">\n    <div class="panel-body">\n        <table id="tableFavs" style="display: none;">\n            <thead>\n                <tr>\n                    <td>Term</td>\n                    <td>Concept ID</td>\n                </tr>\n            </thead>\n            <tbody>\n                ',m=c.each.call(b,b&&b.concepts,{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(m||0===m)&&(p+=m),p+='\n            </tbody>\n        </table>\n        <table id="" class="table table-hover table-bordered">\n            <tbody>\n            ',n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:t.program(5,h,e),fn:t.program(3,g,e),data:e},m=n?n.call(b,(m=b&&b.concepts,null==m||!1===m?m:m.length),0,o):s.call(b,"if_eq",(m=b&&b.concepts,null==m||!1===m?m:m.length),0,o),(m||0===m)&&(p+=m),p+="\n            </tbody>\n        </table>\n    </div>\n</div>\n"}),this.JST["snomed-interaction-components/views/favorites/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='height:100%;margin: 5px; overflow:auto;' class='panel panel-default' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-mainPanel'>\n    <div ondrop=\"dropF(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class=\'panel-heading\' id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading'>\n        <div class='row'>\n            <div class='col-md-6' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_favorites'>Favorites</span></strong></div>\n            \x3c!--<div class='col-md-6 text-right'>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resetButton' class='btn btn-link' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-repeat'></i></button>--\x3e\n                \x3c!--&lt;!&ndash;<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-linkerButton\' draggable="true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>&ndash;&gt;--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>--\x3e\n            \x3c!--</div>--\x3e\n        </div>\n    </div>\n    <div ondrop=\"dropF(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" ondragleave=\"removeHighlight();\" ondragover=\"allowDrop(event)\" class='panel-body' style='height:100%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelBody'>\n    </div>\n</div>\n\x3c!--<div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>--\x3e\n    \x3c!--<div class='modal-dialog'>--\x3e\n        \x3c!--<div class='modal-content'>--\x3e\n            \x3c!--<div class='modal-header'>--\x3e\n                \x3c!--<button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>--\x3e\n                \x3c!--<h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>--\x3e\n            \x3c!--</div>--\x3e\n            \x3c!--<div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>--\x3e\n                \x3c!--<p></p>--\x3e\n            \x3c!--</div>--\x3e\n            \x3c!--<div class='modal-footer'>--\x3e\n                \x3c!--<button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>--\x3e\n            \x3c!--</div>--\x3e\n        \x3c!--</div>--\x3e\n    \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e"}),this.JST["snomed-interaction-components/views/refsetPlugin/body.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n                    <tr>\n                        <td colspan="3">\n                            <span class="text-muted i18n" data-i18n-id=\'i18n_no_refsets\'>'+q((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_refsets","No refsets",e):p.call(a,"i18n","i18n_no_refsets","No refsets",e)))+"</span>\n                        </td>\n                    </tr>\n                "}function g(a,b){var d,e="";return e+="\n                    ",d=c.each.call(a,a&&a.refsets,{hash:{},inverse:s.noop,fn:s.programWithDepth(4,h,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n                "}function h(a,b,d){var e,f,g,h="";return h+="\n                        <tr>\n                            <td>",(f=c.type)?e=f.call(a,{hash:{},data:b}):(f=a&&a.type,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+'</td>\n                            <td>\n                                <a class="refset-item" href="javascript:void(0);" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+'\' style="color: inherit; text-decoration: inherit;">\n                                    ',f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:s.programWithDepth(7,j,b,a),fn:s.programWithDepth(5,i,b,a),data:b},e=f?f.call(a,a&&a.definitionStatus,"PRIMITIVE",g):p.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",g),(e||0===e)&&(h+=e),h+="\n                                    ",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:s.noop,fn:s.program(9,k,b),data:b},e=f?f.call(a,a&&a.module,g):p.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(h+=e),h+="\n                                    <span draggable='true' ondragstart=\"drag(event, '"+q((e=d&&d.divElementId,typeof e===r?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"'>\n                                        ",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"\n                                    </span>                                    \n                                </a>\n                            </td>\n                            <td>\n                                ",(f=c.count)?e=f.call(a,{hash:{},data:b}):(f=a&&a.count,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=q(e)+"\n                            </td>\n                        </tr>\n                    "}function i(a,b,d){var e,f,g="";return g+="\n                                        <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+q((e=d&&d.divElementId,typeof e===r?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===r?f.call(a,{hash:{},data:b}):f),g+=q(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===r?f.call(a,{hash:{},data:b}):f),g+=q(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===r?f.call(a,{hash:{},data:b}):f),g+=q(e)+"'>&nbsp;&nbsp;</span>\n                                    "}function j(a,b,d){var e,f,g="";return g+="\n                                        <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+q((e=d&&d.divElementId,typeof e===r?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===r?f.call(a,{hash:{},data:b}):f),g+=q(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===r?f.call(a,{hash:{},data:b}):f),g+=q(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===r?f.call(a,{hash:{},data:b}):f),g+=q(e)+"'>&equiv;</span>\n                                    "}function k(a,b){var d,e,f="";return f+='\n                                        <div class="phoca-flagbox" style="width:22px;height:22px">\n                                            <span class="phoca-flag '+q((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):p.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                                        </div>\n                                    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p=c.helperMissing,q=this.escapeExpression,r="function",s=this;return o+='<div style="margin-top: 10px" class="panel panel-default">\n    <div class="panel-body">\n        <div class="row container-fluid" style="max-height: 260px; overflow-y: scroll; margin: 10px;">\n            <table class="table table-hover table-bordered">\n                <thead>\n                    <tr>\n                        <th class="i18n" data-i18n-id=\'i18n_type\'>'+q((m=c.i18n||b&&b.i18n,n={hash:{},data:e},m?m.call(b,"i18n_type","Type",n):p.call(b,"i18n","i18n_type","Type",n)))+"</th>\n                        <th class=\"i18n\" data-i18n-id='i18n_refset'>"+q((m=c.i18n||b&&b.i18n,n={hash:{},data:e},m?m.call(b,"i18n_refset","Refset",n):p.call(b,"i18n","i18n_refset","Refset",n)))+"</th>\n                        <th class=\"i18n\" data-i18n-id='i18n_active_members_count'>"+q((m=c.i18n||b&&b.i18n,n={hash:{},data:e},m?m.call(b,"i18n_active_members_count","Active Members Count",n):p.call(b,"i18n","i18n_active_members_count","Active Members Count",n)))+"</th>\n                    </tr>\n                </thead>\n                <tbody>\n                ",m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:s.program(3,g,e),fn:s.program(1,f,e),data:e},l=m?m.call(b,(l=b&&b.refsets,null==l||!1===l?l:l.length),0,n):p.call(b,"if_eq",(l=b&&b.refsets,null==l||!1===l?l:l.length),0,n),(l||0===l)&&(o+=l),o+='\n                </tbody>\n            </table>\n        </div>\n        <div class="row container-fluid">\n            <table id="',(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===r?m.call(b,{hash:{},data:e}):m),o+=q(l)+'-resultsTable" class="table table-hover table-bordered">\n\n            </table>\n        </div>\n    </div>\n</div>'}),this.JST["snomed-interaction-components/views/refsetPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='height:100%;margin: 5px; overflow:auto;' class='panel panel-default' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-mainPanel'>\n    <div ondrop=\"dropF(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class=\'panel-heading\' id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading'>\n        <div class='row'>\n            <div class='col-md-6' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_refsets'>Refsets</span></strong></div>\n        </div>\n    </div>\n    <div ondrop=\"dropF(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" ondragleave=\"removeHighlight();\" ondragover=\"allowDrop(event)\" class='panel-body' style='height:100%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelBody'>\n    </div>\n</div>"}),this.JST["snomed-interaction-components/views/refsetPlugin/members.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g="";return g+='\n    <thead>\n        <tr>\n            <th colspan="2"><span class="i18n"  data-i18n-id="i18n_members_of">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_members_of","Members of",f):w.call(a,"i18n","i18n_members_of","Members of",f)))+"</span> ",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+" (<span>",(e=c.total)?d=e.call(a,{hash:{},data:b}):(e=a&&a.total,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+'</span>)</th>\n        </tr>\n        <tr>\n            <th><span data-i18n-id="i18n_term" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_term","Term",f):w.call(a,"i18n","i18n_term","Term",f)))+'</span></th>\n            <th><span data-i18n-id="i18n_conceptId" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_conceptId","Concept Id",f):w.call(a,"i18n","i18n_conceptId","Concept Id",f)))+"</span></th>\n        </tr>\n    </thead>\n"}function g(a,b){var d,e,f,g="";return g+='\n        <tr class="member-concept-row">\n            <td>\n                ',e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:z.programWithDepth(6,i,b,a),fn:z.programWithDepth(4,h,b,a),data:b},d=e?e.call(a,(d=a&&a.referencedComponent,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f):w.call(a,"if_eq",(d=a&&a.referencedComponent,null==d||!1===d?d:d.definitionStatus),"PRIMITIVE",f),(d||0===d)&&(g+=d),g+="                \n                ",e=c.hasCountryIcon||a&&a.hasCountryIcon,f={hash:{},inverse:z.noop,fn:z.program(8,j,b),data:b},d=e?e.call(a,a&&a.moduleid,f):w.call(a,"hasCountryIcon",a&&a.moduleid,f),(d||0===d)&&(g+=d),g+="\n                "+x((d=a&&a.referencedComponent,d=null==d||!1===d?d:d.fsn,d=null==d||!1===d?d:d.term,typeof d===y?d.apply(a):d))+"\n            </td>\n            <td>"+x((d=a&&a.referencedComponent,d=null==d||!1===d?d:d.conceptId,typeof d===y?d.apply(a):d))+"</td>\n        </tr>\n    "}function h(a,b,d){var e,f,g="";return g+="\n                    <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+x((e=d&&d.divElementId,typeof e===y?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===y?f.call(a,{hash:{},data:b}):f),g+=x(e)+"\" data-concept-id='"+x((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.conceptId,typeof e===y?e.apply(a):e))+"' data-term='"+x((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.fsn,e=null==e||!1===e?e:e.term,typeof e===y?e.apply(a):e))+"'>&nbsp;&nbsp;</span>\n                "}function i(a,b,d){var e,f,g="";return g+="\n                    <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+x((e=d&&d.divElementId,typeof e===y?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===y?f.call(a,{hash:{},data:b}):f),g+=x(e)+"\" data-concept-id='"+x((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.conceptId,typeof e===y?e.apply(a):e))+"' data-term='"+x((e=a&&a.referencedComponent,e=null==e||!1===e?e:e.fsn,e=null==e||!1===e?e:e.term,typeof e===y?e.apply(a):e))+"'>&equiv;</span>                    \n                "}function j(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:22px;height:22px">\n                        <span class="phoca-flag '+x((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):w.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                    </div>\n                '}function k(a,b){var d,e,f="";return f+='\n            <td class="text-center text-muted i18n" colspan="2" data-i18n-id="i18n_reference_components_are_not_concept">'+x((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_reference_components_are_not_concept","The reference components of these reference set members are not concepts",e):w.call(a,"i18n","i18n_reference_components_are_not_concept","The reference components of these reference set members are not concepts",e)))+".</span></td>\n        "}function l(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:z.program(15,n,b),fn:z.program(13,m,b),data:b},d=e?e.call(a,a&&a.remaining,"asd",f):w.call(a,"if_eq",a&&a.remaining,"asd",f),(d||0===d)&&(g+=d),g+="\n        "}function m(a,b){var d,e,f,g="";return g+='\n                <td class="text-center" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+"-moreMembers\" colspan=\"2\">\n                    <button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+'-moreMembers\'><span data-i18n-id="i18n_load" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):w.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+' <span data-i18n-id="i18n_more" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):w.call(a,"i18n","i18n_more","more",f)))+"</span></button>\n                </td>\n            "}function n(a,b){var d,e,f,g="";return g+="\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:z.program(18,p,b),fn:z.program(16,o,b),data:b},d=e?e.call(a,a&&a.remaining,0,f):w.call(a,"if_eq",a&&a.remaining,0,f),(d||0===d)&&(g+=d),g+="\n            "}function o(a,b){var d,e,f,g="";return g+='\n                    <td class="text-muted" class="text-center" colspan="2">',(e=c.total)?d=e.call(a,{hash:{},data:b}):(e=a&&a.total,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+' <span data-i18n-id="i18n_members" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_members","members",f):w.call(a,"i18n","i18n_members","members",f)))+"</span></td>\n                "}function p(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:z.program(21,r,b),fn:z.program(19,q,b),data:b},d=e?e.call(a,a&&a.remaining,a&&a.returnLimit,f):w.call(a,"if_gr",a&&a.remaining,a&&a.returnLimit,f),(d||0===d)&&(g+=d),g+="\n                "}function q(a,b){var d,e,f,g="";return g+='\n                        <td class="text-center" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+"-moreMembers\" colspan=\"2\">\n                            <button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+'-moreMembers\'><span data-i18n-id="i18n_load" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):w.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+' <span data-i18n-id="i18n_more" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):w.call(a,"i18n","i18n_more","more",f)))+"</span> (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+' <span data-i18n-id="i18n_remaining" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remaining","remaining",f):w.call(a,"i18n","i18n_remaining","remaining",f)))+"</span>)</button>\n                        </td>\n                    "}function r(a,b){var d,e,f,g="";return g+='\n                        <td class="text-center" colspan="2">\n                            <button class=\'btn btn-link\' id=\'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+'-moreMembers\'><span data-i18n-id="i18n_load" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):w.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+' <span data-i18n-id="i18n_more" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):w.call(a,"i18n","i18n_more","more",f)))+"</span> (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===y?e.call(a,{hash:{},data:b}):e),g+=x(d)+' <span data-i18n-id="i18n_remaining" class="i18n">'+x((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remaining","remaining",f):w.call(a,"i18n","i18n_remaining","remaining",f)))+"</span>)</button>\n                        </td>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t,u,v="",w=c.helperMissing,x=this.escapeExpression,y="function",z=this;return t=c.if_eq||b&&b.if_eq,u={hash:{},inverse:z.noop,fn:z.program(1,f,e),data:e},s=t?t.call(b,b&&b.skipTo,0,u):w.call(b,"if_eq",b&&b.skipTo,0,u),(s||0===s)&&(v+=s),v+="\n<tbody>\n    ",s=c.each.call(b,(s=b&&b.result,null==s||!1===s?s:s.items),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(s||0===s)&&(v+=s),v+='\n\n    <tr class="more-row">\n        ',t=c.if_eq||b&&b.if_eq,u={hash:{},inverse:z.program(12,l,e),fn:z.program(10,k,e),data:e},s=t?t.call(b,b&&b.referenceComponentsOfRefsetAreNotConcepts,!0,u):w.call(b,"if_eq",b&&b.referenceComponentsOfRefsetAreNotConcepts,!0,u),(s||0===s)&&(v+=s),v+="\n    </tr>\n</tbody>"}),this.JST["snomed-interaction-components/views/searchPlugin/aux.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g="";return g+='\n                        <div style="margin-top: 5px" class="btn-group">\n                            <button style="white-space: normal;" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">\n                                <span class=\'i18n\' data-i18n-id=\'i18n_search_mode\'>'+m((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_search_mode","Search Mode",f):l.call(a,"i18n","i18n_search_mode","Search Mode",f)))+'</span>: <span id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=m(d)+'-searchMode"></span>&nbsp;<span class="caret"></span>\n                            </button>\n                            <ul class="dropdown-menu" role="menu">\n                                <li>\n                                    <a href="#" id=\'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=m(d)+"-fullTextButton'><span class='i18n' data-i18n-id='i18n_full_text_search_mode'>"+m((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_full_text_search_mode","Full text search mode",f):l.call(a,"i18n","i18n_full_text_search_mode","Full text search mode",f)))+'</span></a>\n                                </li>\n                                <li>\n                                    <a href="#" id=\'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=m(d)+"-partialMatchingButton'><span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>"+m((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_partial_match_search_mode","Partial matching search mode",f):l.call(a,"i18n","i18n_partial_match_search_mode","Partial matching search mode",f)))+'</span></a>\n                                </li>\n                                <li>\n                                    <a href="#" id=\'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=m(d)+"-regexButton'><span class='i18n' data-i18n-id='i18n_regex_search_mode'>"+m((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_regex_search_mode","Regular Expressions search mode",f):l.call(a,"i18n","i18n_regex_search_mode","Regular Expressions search mode",f)))+"</span></a>\n                                </li>\n                            </ul>\n                        </div>\n                    "}function g(a,b){var d,e,f,g="";return g+='\n                        <div style="margin-top: 5px; " class="checkbox">\n                            <label>\n                                <input id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===n?e.call(a,{hash:{},data:b}):e),g+=m(d)+"-groupConcept\" type=\"checkbox\"><span class='i18n' data-i18n-id='i18n_group_by_concept'>"+m((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_group_by_concept","Group by concept",f):l.call(a,"i18n","i18n_group_by_concept","Group by concept",f)))+"</span>\n                            </label>\n                        </div>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l=c.helperMissing,m=this.escapeExpression,n="function",o=this;return k+="<div style='margin: 5px; height:95%;' class='panel panel-default'>\n    <div class='panel-heading'>\n        \x3c!--<button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>--\x3e\n        <button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 15px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_search'>Search</span></span></strong></div>\n            <div class='col-md-4 text-right'>\n                \x3c!--<button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-linkerButton\' draggable="true" ondragstart="drag(event, \'',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"')\" class='btn btn-link linker-button' data-panel='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>--\x3e\n                <button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                \x3c!--<button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>--\x3e\n                <button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' style='height:86%' id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-panelBody'>\n        <div style=\"display: inline;width: 34%;height: 100%; float: left; border: 1px solid lightgray; border-radius: 4px; padding: 5px; \">\n            <h4><span>Options</span></h4>\n            <div id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-searchConfigBar' style='margin-bottom: 10px;'>\n                <div style=\"margin-top: 15px\">\n                    ",i=c.if_eq||b&&b.if_eq,j={hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e},h=i?i.call(b,b&&b.server,"snowstorm",j):l.call(b,"if_eq",b&&b.server,"snowstorm",j),(h||0===h)&&(k+=h),k+='\n                    <div style="margin-top: 5px" class="btn-group">\n                        <button style="white-space: normal;" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">\n                            <span class=\'i18n\' data-i18n-id=\'i18n_status\'>'+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_status","Status",j):l.call(b,"i18n","i18n_status","Status",j)))+'</span>: <span id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchStatus"></span>&nbsp;<span class="caret"></span>\n                        </button>\n                        <ul class="dropdown-menu" role="menu">\n                            <li>\n                                <a href="#" id=\'',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-activeOnlyButton' data-i18n-id='i18n_active_only'>"+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_active_only","Active components only",j):l.call(b,"i18n","i18n_active_only","Active components only",j)))+'</a>\n                            </li>\n                            <li>\n                                <a href="#" id=\'',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-activeInactiveButton' data-i18n-id='i18n_active_and_inactive'>"+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_active_and_inactive","Active and inactive components",j):l.call(b,"i18n","i18n_active_and_inactive","Active and inactive components",j)))+'</a>\n                            </li>\n                            <li>\n                                <a href="#"id=\'',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-inactiveOnlyButton' data-i18n-id='i18n_inactive_only'>"+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_inactive_only","Inactive components only",j):l.call(b,"i18n","i18n_inactive_only","Inactive components only",j)))+'</a>\n                            </li>\n                        </ul>\n                    </div>\n                    <div style="margin-top: 5px" class="btn-group dropdown">\n                        <button style="white-space: normal;" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">\n                            <span class=\'i18n\' data-i18n-id=\'i18n_description_type\'>'+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_description_type","Description type",j):l.call(b,"i18n","i18n_description_type","Description type",j)))+'</span>: <span id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchTypeOpt"></span>&nbsp;<span class="caret"></span>\n                        </button>\n                        <ul class="dropdown-menu" role="menu">\n                            <li>\n                                <a href="#" id=\'',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-allTypeButton'> All </a>\n                            </li>\n                            <li>\n                                <a href=\"#\" id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-noDefTypeButton'>Exclude definitions</a>\n                            </li>\n                            <li>\n                                <a href=\"#\" id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-fsnTypeButton'>FSN</a>\n                            </li>\n                            <li>\n                                <a href=\"#\"id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-preferredTermyButton\'>Preferred Term</a>\n                            </li>\n                        </ul>\n                    </div>\n                    <br/>\n                    \x3c!--Display a temporary dropdown for Language refset for better view, will remove it after the list of refsets are in place--\x3e\n                    <div style="margin-top: 5px" class="btn-group dropdown" id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-filterLanguageRefsetOptHidden">\n                        <button style="white-space: normal;" type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">\n                            <span>Language Refsets</span>&nbsp;<span class="caret"></span>\n                        </button>                        \n                    </div>                \n                    <div style="margin-top: 5px; position: relative">\n                        <select id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-filterLanguageRefsetOpt" multiple="multiple" style="display: none"></select>\n                    </div>\n                     \n                    ',i=c.if_eq||b&&b.if_eq,j={hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e},h=i?i.call(b,b&&b.server,"snowstorm",j):l.call(b,"if_eq",b&&b.server,"snowstorm",j),(h||0===h)&&(k+=h),k+='\n                </div>\n            </div>\n            <div id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBar2"></div>\n            <div id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBar3"></div>\n            <div id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBar4"></div>\n            <div id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBar5"></div>\n            <div id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBar6"></div>\n        </div>\n        <div style="display: inline; width: 66%; float: right; padding: 5px;">\n            <form>\n                <div class="form-group" style="margin-bottom: 2px;">\n                    <label for="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBox">\n                        <span class="i18n" data-i18n-id="i18n_type_3_chars">Type at least 3 characters</span> <i class="glyphicon glyphicon-remove text-danger" id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-typeIcon"></i> <span id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchExample"></span></label>\n                    <br><div class="btn-group" style="width: 100%;"><input data-droppable="true" ondrop="dropS(event);" ondragover="removeHighlight();" ondragstart="allowDrop(event);" class="form-control" id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBox" placeholder="Search..." autocomplete="off">\n                    <span id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-clearButton\" class=\"searchclear glyphicon glyphicon-remove-circle\"></span></div>\n                </div>\n            </form>\n            <div class='panel panel-default' style='height:70%;overflow:auto;margin-bottom: 15px;min-height: 300px;' id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-resultsScrollPane'>\n                <div id=\"",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-searchBar"></div>\n                <div id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-searchFilters\"></div>\n                <table class='table table-bordered'>\n                    <tbody id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-resultsTable'>\n                    </tbody>\n                </table>\n            </div>\n            <div class='modal fade' id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-configModal'>\n                <div class='modal-dialog'>\n                    <div class='modal-content'>\n                        <div class='modal-header'>\n                            <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                            <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+")</h4>\n                        </div>\n                        <div class='modal-body' id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-modal-body'>\n                            <p></p>\n                        </div>\n                        <div class='modal-footer'>\n                            <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                            <button id='",(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===n?i.call(b,{hash:{},data:e}):i),k+=m(h)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/0.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b,d,e){var f,g,l,m="";return m+="\n    <tr class='resultRow selectable-row ",f=c.if.call(a,a&&a.danger,{hash:{},inverse:t.noop,fn:t.program(2,h,b),data:b}),(f||0===f)&&(m+=f),m+="'>\n        <td class='col-md-7'>\n            <div class='result-item' data-module=\"",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"'>\n                ",g=c.if_eq||a&&a.if_eq,l={hash:{},inverse:t.programWithDepth(6,j,b,d),fn:t.programWithDepth(4,i,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",l):s.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",l),(f||0===f)&&(m+=f),m+="\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,l={hash:{},inverse:t.noop,fn:t.program(8,k,b),data:b},f=g?g.call(a,a&&a.moduleId,l):s.call(a,"hasCountryIcon",a&&a.moduleId,l),(f||0===f)&&(m+=f),m+="\n                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;' draggable=\"true\" ondragstart=\"drag(event, '"+r((f=e&&e.divElementId,typeof f===q?f.apply(a):f))+"')\" data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"' data-module=\"",(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"'>",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"</a>\n            </div>\n        </td>\n        <td class='text-muted small-text col-md-5 result-item' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"' data-module=\"",(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===q?g.call(a,{hash:{},data:b}):g),m+=r(f)+"'>\n            "+r((f=d&&d.result,f=null==f||!1===f?f:f.fsn,f=null==f||!1===f?f:f.term,typeof f===q?f.apply(a):f))+"\n        </td>\n    </tr>\n"}function h(a,b){return"danger"}function i(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+r((e=d&&d.divElementId,typeof e===q?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),g+=r(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),g+=r(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===q?f.call(a,{hash:{},data:b}):f),g+=r(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                '}function j(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+r((e=d&&d.divElementId,typeof e===q?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),g+=r(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===q?f.call(a,{hash:{},data:b}):f),g+=r(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===q?f.call(a,{hash:{},data:b}):f),g+=r(e)+'">&equiv;</span>&nbsp;&nbsp;\n                '}function k(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:20px;height:20px">\n                        <span class="phoca-flag '+r((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):s.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                    </div>\n                '}function l(a,b){var d,e,f="";return f+='\n    <tr><td class=\'text-muted\'><span data-i18n-id="i18n_no_results" class="i18n">'+r((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"i18n_no_results","No results",e):s.call(a,"i18n","i18n_no_results","No results",e)))+"</span></td></tr>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=c.helperMissing,t=this;return m=c.each.call(b,(m=b&&b.result,null==m||!1===m?m:m.descriptions),{hash:{},inverse:t.noop,fn:t.programWithDepth(1,g,e,b,f),data:e}),(m||0===m)&&(p+=m),p+="\n\n",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:t.noop,fn:t.program(10,l,e),data:e},m=n?n.call(b,(m=b&&b.result,m=null==m||!1===m?m:m.descriptions,null==m||!1===m?m:m.length),0,o):s.call(b,"if_eq",(m=b&&b.result,m=null==m||!1===m?m:m.descriptions,null==m||!1===m?m:m.length),0,o),(m||0===m)&&(p+=m),p+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/1.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b,d,e){var f,g,l,m="";return m+="\n    <tr class='resultRow selectable-row",g=c.if_eq||a&&a.if_eq,l={hash:{},inverse:q.program(4,i,b),fn:q.program(2,h,b),data:b},f=g?g.call(a,a&&a.active,!1,l):r.call(a,"if_eq",a&&a.active,!1,l),(f||0===f)&&(m+=f),m+="'>\n        <td class='col-md-7'>\n            <div class='result-item' data-module=\"",(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"'>\n                ",g=c.if_eq||a&&a.if_eq,l={hash:{},inverse:q.programWithDepth(8,k,b,a),fn:q.programWithDepth(6,j,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",l):r.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",l),(f||0===f)&&(m+=f),m+="\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,l={hash:{},inverse:q.noop,fn:q.program(13,n,b),data:b},f=g?g.call(a,a&&a.moduleId,l):r.call(a,"hasCountryIcon",a&&a.moduleId,l),(f||0===f)&&(m+=f),m+="\n                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;' draggable=\"true\" ondragstart=\"drag(event, '"+t((f=e&&e.divElementId,typeof f===s?f.apply(a):f))+'\')" data-module="',(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"'>",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"</a>\n            </div>\n        </td>\n        <td class='text-muted small-text col-md-5 result-item' data-module=\"",(g=c.moduleId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.moduleId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"'>\n            ",(g=c.fsn)?f=g.call(a,{hash:{},data:b}):(g=a&&a.fsn,f=typeof g===s?g.call(a,{hash:{},data:b}):g),m+=t(f)+"\n        </td>\n    </tr>\n"}function h(a,b){return"danger"}function i(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:q.noop,fn:q.program(2,h,b),data:b},d=e?e.call(a,(d=a&&a.concept,null==d||!1===d?d:d.active),!1,f):r.call(a,"if_eq",(d=a&&a.concept,null==d||!1===d?d:d.active),!1,f),d||0===d?d:""}function j(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                '}function k(a,b,d){var e,f,g,h="";return h+="\n                  ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:q.programWithDepth(11,m,b,d),fn:q.programWithDepth(9,l,b,d),data:b},e=f?f.call(a,a&&a.definitionStatus,"900000000000074008",g):r.call(a,"if_eq",a&&a.definitionStatus,"900000000000074008",g),(e||0===e)&&(h+=e),h+="\n                "}function l(a,b,d){var e,f,g="";return g+='\n                      <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                    '}function m(a,b,d){var e,f,g="";return g+='\n                      <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-module="',(f=c.moduleId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.moduleId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&equiv;</span>&nbsp;&nbsp;\n                    '}function n(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:20px;height:20px">\n                        <span class="phoca-flag '+t((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.moduleId,e):r.call(a,"countryIcon",a&&a.moduleId,e)))+'"></span>\n                    </div>\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="",q=this,r=c.helperMissing,s="function",t=this.escapeExpression;return o=c.each.call(b,(o=b&&b.result,null==o||!1===o?o:o.matches),{hash:{},inverse:q.noop,fn:q.programWithDepth(1,g,e,b,f),data:e}),(o||0===o)&&(p+=o),p+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/bar.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n    <span class='text-muted'>"+x((d=a&&a.result,d=null==d||!1===d?d:d.totalElements,typeof d===w?d.apply(a):d))+" matches found in ",(e=c.elapsed)?d=e.call(a,{hash:{},data:b}):(e=a&&a.elapsed,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+" seconds.</span>\n"}function g(a,b){return"--\x3e\n\x3c!--"}function h(a,b){var c,d="";return d+="--\x3e\n    \x3c!--&nbsp;&nbsp;<span class='label label-danger'>"+x((c=a&&a.options,c=null==c||!1===c?c:c.semTagFilter,typeof c===w?c.apply(a):c))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-semtag'>&times;</a></span>&nbsp;&nbsp;--\x3e\n\x3c!--"}function i(a,b){var c,d="";return d+="--\x3e\n    \x3c!--&nbsp;&nbsp;<span class='label label-danger'>"+x((c=a&&a.options,c=null==c||!1===c?c:c.langFilter,typeof c===w?c.apply(a):c))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-lang'>&times;</a></span>&nbsp;&nbsp;--\x3e\n\x3c!--"}function j(a,b){var d,e="";return e+="--\x3e\n    \x3c!--&nbsp;&nbsp;<span class='label label-danger'>",d=c.if.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilterName),{hash:{},inverse:y.program(12,l,b),fn:y.program(10,k,b),data:b}),(d||0===d)&&(e+=d),e+=" &nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-module'>&times;</a></span>&nbsp;&nbsp;--\x3e\n\x3c!--"}function k(a,b){var c;return x((c=a&&a.options,c=null==c||!1===c?c:c.moduleFilterName,typeof c===w?c.apply(a):c))}function l(a,b){var c;return x((c=a&&a.options,c=null==c||!1===c?c:c.moduleFilter,typeof c===w?c.apply(a):c))}function m(a,b){var c,d="";return d+="--\x3e\n                        \x3c!--<li><a class='lang-link' href='javascript:void(0);' data-lang='"+x((c=null==b||!1===b?b:b.key,typeof c===w?c.apply(a):c))+"'>"+x((c=null==b||!1===b?b:b.key,typeof c===w?c.apply(a):c))+" ("+x(typeof a===w?a.apply(a):a)+")</a></li>--\x3e\n                    \x3c!--"}function n(a,b){var c,d="";return d+="--\x3e\n                        \x3c!--<li><a class='semtag-link' href='javascript:void(0);' data-semtag='"+x((c=null==b||!1===b?b:b.key,typeof c===w?c.apply(a):c))+"'>"+x((c=null==b||!1===b?b:b.key,typeof c===w?c.apply(a):c))+" ("+x(typeof a===w?a.apply(a):a)+")</a></li>--\x3e\n                    \x3c!--"}function o(a,b){var d,e,f,g="";return g+="--\x3e\n                        \x3c!--<li><a class='module-link' href='javascript:void(0);' data-term=\"",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=x(d)+"\" data-module='",(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=x(d)+"'>",d=c.if.call(a,a&&a.term,{hash:{},inverse:y.program(21,q,b),fn:y.program(19,p,b),data:b}),(d||0===d)&&(g+=d),g+=" (",(e=c.cant)?d=e.call(a,{hash:{},data:b}):(e=a&&a.cant,d=typeof e===w?e.call(a,{hash:{},data:b}):e),g+=x(d)+")--\x3e\n                        \x3c!--",e=c.hasCountryIcon||a&&a.hasCountryIcon,f={hash:{},inverse:y.noop,fn:y.program(23,r,b),data:b},d=e?e.call(a,a&&a.value,f):z.call(a,"hasCountryIcon",a&&a.value,f),(d||0===d)&&(g+=d),g+="--\x3e\n                        \x3c!--</a></li>--\x3e\n                    \x3c!--"}function p(a,b){var d,e;return(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}function q(a,b){var d,e;return(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===w?e.call(a,{hash:{},data:b}):e),x(d)}function r(a,b){var d,e,f="";return f+='--\x3e\n                            \x3c!--<div class="phoca-flagbox" style="width:26px;height:26px">--\x3e\n                                \x3c!--<span class="phoca-flag '+x((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.value,e):z.call(a,"countryIcon",a&&a.value,e)))+'"></span>--\x3e\n                            \x3c!--</div>--\x3e\n                        \x3c!--'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t,u,v="",w="function",x=this.escapeExpression,y=this,z=c.helperMissing;return s=c.if.call(b,(s=b&&b.result,null==s||!1===s?s:s.totalElements),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(s||0===s)&&(v+=s),v+="\n\x3c!--<span class='pull right'>--\x3e\n\x3c!--<a class='btm btn-xs' style='margin: 3px; color: #777; background-color: #fff; border: 1px #ccc solid; margin-left: 25px;' data-toggle='collapse' href='#",(t=c.divElementId)?s=t.call(b,{hash:{},data:e}):(t=b&&b.divElementId,s=typeof t===w?t.call(b,{hash:{},data:e}):t),v+=x(s)+"-searchFiltersPanel'>--\x3e\n    \x3c!--<span class='i18n' data-i18n-id='i18n_filters'>"+x((t=c.i18n||b&&b.i18n,u={hash:{},data:e},t?t.call(b,"i18n_filters","Filters",u):z.call(b,"i18n","i18n_filters","Filters",u)))+"</span>--\x3e\n\x3c!--</a>--\x3e\n\x3c!--",t=c.if_eq||b&&b.if_eq,u={hash:{},inverse:y.program(5,h,e),fn:y.program(3,g,e),data:e},s=t?t.call(b,(s=b&&b.options,null==s||!1===s?s:s.semTagFilter),"none",u):z.call(b,"if_eq",(s=b&&b.options,null==s||!1===s?s:s.semTagFilter),"none",u),(s||0===s)&&(v+=s),v+="--\x3e\n\x3c!--",t=c.if_eq||b&&b.if_eq,u={hash:{},inverse:y.program(7,i,e),fn:y.program(3,g,e),data:e},s=t?t.call(b,(s=b&&b.options,null==s||!1===s?s:s.langFilter),"none",u):z.call(b,"if_eq",(s=b&&b.options,null==s||!1===s?s:s.langFilter),"none",u),(s||0===s)&&(v+=s),v+="--\x3e\n\x3c!--",t=c.if_eq||b&&b.if_eq,u={hash:{},inverse:y.program(9,j,e),fn:y.program(3,g,e),data:e},s=t?t.call(b,(s=b&&b.options,null==s||!1===s?s:s.moduleFilter),"none",u):z.call(b,"if_eq",(s=b&&b.options,null==s||!1===s?s:s.moduleFilter),"none",u),(s||0===s)&&(v+=s),v+="--\x3e\n\x3c!--</span>--\x3e\n\x3c!--<div id='",(t=c.divElementId)?s=t.call(b,{hash:{},data:e}):(t=b&&b.divElementId,s=typeof t===w?t.call(b,{hash:{},data:e}):t),v+=x(s)+"-searchFiltersPanel' class='panel-collapse collapse'>--\x3e\n    \x3c!--<div class='tree'>--\x3e\n        \x3c!--<ul>--\x3e\n            \x3c!--<li><a><span data-i18n-id=\"i18n_filters_language\" class=\"i18n\">"+x((t=c.i18n||b&&b.i18n,u={hash:{},data:e},t?t.call(b,"i18n_filters_language","Filter results by Language",u):z.call(b,"i18n","i18n_filters_language","Filter results by Language",u)))+"</span></a>--\x3e\n                \x3c!--<ul>--\x3e\n                    \x3c!--",s=c.each.call(b,(s=b&&b.result,s=null==s||!1===s?s:s.filters,null==s||!1===s?s:s.lang),{hash:{},inverse:y.noop,fn:y.program(14,m,e),data:e}),(s||0===s)&&(v+=s),v+='--\x3e\n                \x3c!--</ul>--\x3e\n            \x3c!--</li>--\x3e\n        \x3c!--</ul>--\x3e\n        \x3c!--<ul>--\x3e\n            \x3c!--<li><a><span data-i18n-id="i18n_filters_semtag" class="i18n">'+x((t=c.i18n||b&&b.i18n,u={hash:{},data:e},t?t.call(b,"i18n_filters_semtag","Filter results by Semantic Tag",u):z.call(b,"i18n","i18n_filters_semtag","Filter results by Semantic Tag",u)))+"</span></a>--\x3e\n                \x3c!--<ul>--\x3e\n                    \x3c!--",s=c.each.call(b,(s=b&&b.result,s=null==s||!1===s?s:s.filters,null==s||!1===s?s:s.semTag),{hash:{},inverse:y.noop,fn:y.program(16,n,e),data:e}),(s||0===s)&&(v+=s),v+='--\x3e\n                \x3c!--</ul>--\x3e\n            \x3c!--</li>--\x3e\n        \x3c!--</ul>--\x3e\n        \x3c!--<ul>--\x3e\n            \x3c!--<li><a><span data-i18n-id="i18n_filters_module" class="i18n">'+x((t=c.i18n||b&&b.i18n,u={hash:{},data:e},t?t.call(b,"i18n_filters_module","Filter results by Module",u):z.call(b,"i18n","i18n_filters_module","Filter results by Module",u)))+"</span></a>--\x3e\n                \x3c!--<ul>--\x3e\n                    \x3c!--",s=c.each.call(b,(s=b&&b.result,s=null==s||!1===s?s:s.filters,null==s||!1===s?s:s.module),{hash:{},inverse:y.noop,fn:y.program(18,o,e),data:e}),(s||0===s)&&(v+=s),v+="--\x3e\n                \x3c!--</ul>--\x3e\n            \x3c!--</li>--\x3e\n        \x3c!--</ul>--\x3e\n    \x3c!--</div>--\x3e\n\x3c!--</div>--\x3e"}),this.JST["snomed-interaction-components/views/searchPlugin/body/bar2.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(4,h,b),fn:B.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilter),"none",f):A.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.moduleFilter),"none",f),(d||0===d)&&(i+=d),i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(13,m,b),fn:B.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.langFilter),"none",f):A.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.langFilter),"none",f),(d||0===d)&&(i+=d),i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(15,n,b),fn:B.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.semTagFilter),"none",f):A.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.semTagFilter),"none",f),(d||0===d)&&(i+=d),i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.program(17,o,b),fn:B.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.refsetFilter),"none",f):A.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.refsetFilter),"none",f),(d||0===d)&&(i+=d),i+="    \n"}function g(a,b){return"\n    "}function h(a,b){var d,e,f="";return f+='\n        <h3 style="margin-top: 5px;">\n            <span id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),f+=z(d)+'-moduleResumed" style="font-size: 12px;white-space: normal" class=\'label label-danger\' data-name="',d=c.if.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilterName),{hash:{},inverse:B.program(7,j,b),fn:B.program(5,i,b),data:b}),(d||0===d)&&(f+=d),f+='">',d=c.if.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilterName),{hash:{},inverse:B.program(11,l,b),fn:B.program(9,k,b),data:b}),(d||0===d)&&(f+=d),f+=" &nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-module'>&times;</a></span>\n        </h3>\n    "}function i(a,b){var c;return z((c=a&&a.options,c=null==c||!1===c?c:c.moduleFilterName,typeof c===y?c.apply(a):c))}function j(a,b){var c;return z((c=a&&a.options,c=null==c||!1===c?c:c.moduleFilter,typeof c===y?c.apply(a):c))}function k(a,b){var d,e,f;return z((e=c.first20chars||a&&a.first20chars,f={hash:{},data:b},e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilterName),f):A.call(a,"first20chars",(d=a&&a.options,null==d||!1===d?d:d.moduleFilterName),f)))}function l(a,b){var d,e,f;return z((e=c.first20chars||a&&a.first20chars,f={hash:{},data:b},e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilter),f):A.call(a,"first20chars",(d=a&&a.options,null==d||!1===d?d:d.moduleFilter),f)))}function m(a,b){var d,e,f,g="";return g+='\n        <h3 style="margin-top: 5px;">\n            <span style="font-size: 12px; margin-top: 5px;" class=\'label label-danger\'>'+z((e=c.parseLanguageName||a&&a.parseLanguageName,f={hash:{},data:b},e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.langFilter),f):A.call(a,"parseLanguageName",(d=a&&a.options,null==d||!1===d?d:d.langFilter),f)))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-lang'>&times;</a></span>\n        </h3>\n    "}function n(a,b){var c,d="";return d+='\n        <h3 style="margin-top: 5px;">\n            <span style="font-size: 12px; margin-top: 5px;" class=\'label label-danger\'>'+z((c=a&&a.options,c=null==c||!1===c?c:c.semTagFilter,typeof c===y?c.apply(a):c))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-semtag'>&times;</a></span>\n        </h3>\n    "}function o(a,b){var d,e,f="";return f+='\n        <h3 style="margin-top: 5px;">\n            <span id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===y?e.call(a,{hash:{},data:b}):e),f+=z(d)+'-refsetResumed" style="font-size: 12px; margin-top: 5px;" class=\'label label-danger\' data-name="',d=c.if.call(a,(d=a&&a.options,null==d||!1===d?d:d.refsetFilterName),{hash:{},inverse:B.program(20,q,b),fn:B.program(18,p,b),data:b}),(d||0===d)&&(f+=d),f+='">',d=c.if.call(a,(d=a&&a.options,null==d||!1===d?d:d.refsetFilterName),{hash:{},inverse:B.program(24,s,b),fn:B.program(22,r,b),data:b}),(d||0===d)&&(f+=d),f+=" &nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-refset'>&times;</a></span>\n        </h3>\n    "}function p(a,b){var c;return z((c=a&&a.options,c=null==c||!1===c?c:c.refsetFilterName,typeof c===y?c.apply(a):c))}function q(a,b){var c;return z((c=a&&a.options,c=null==c||!1===c?c:c.refsetFilter,typeof c===y?c.apply(a):c))}function r(a,b){var d,e,f;return z((e=c.first20chars||a&&a.first20chars,f={hash:{},data:b},e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.refsetFilterName),f):A.call(a,"first20chars",(d=a&&a.options,null==d||!1===d?d:d.refsetFilterName),f)))}function s(a,b){var d,e,f;return z((e=c.first20chars||a&&a.first20chars,f={hash:{},data:b},e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.refsetFilter),f):A.call(a,"first20chars",(d=a&&a.options,null==d||!1===d?d:d.refsetFilter),f)))}function t(a,b){return"\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var u,v,w,x="",y="function",z=this.escapeExpression,A=c.helperMissing,B=this;return v=c.if_eq||b&&b.if_eq,w={hash:{},inverse:B.program(26,t,e),fn:B.program(1,f,e),data:e},u=v?v.call(b,b&&b.server,"snowstorm",w):A.call(b,"if_eq",b&&b.server,"snowstorm",w),(u||0===u)&&(x+=u),x+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/bar3.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="    \n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:s.program(4,h,b),fn:s.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f):r.call(a,"if_eq",(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){return"\n    "}function h(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:s.noop,fn:s.program(5,i,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.langFilter),"none",f):r.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.langFilter),"none",f),(d||0===d)&&(g+=d),g+="\n    "}function i(a,b){var d,e,f,g="";return g+='\n            <div style="margin-top: 10px" class="panel panel-default">\n                <div class="panel-heading">\n                    <h3 class="panel-title">'+q((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_filters_language","Filter results by Language",f):r.call(a,"i18n","i18n_filters_language","Filter results by Language",f)))+'</h3>\n                </div>\n                <div class="panel-body">\n                    <ul class="list-group">\n                        ',d=c.each.call(a,(d=a&&a.result,d=null==d||!1===d?d:d.buckets,null==d||!1===d?d:d.language),{hash:{},inverse:s.noop,fn:s.program(6,j,b),data:b}),(d||0===d)&&(g+=d),g+="\n                    </ul>\n                </div>\n            </div>\n        "}function j(a,b){var d,e,f,g="";return g+='\n                            <li class="list-group-item">\n                                <span class="badge">'+q(typeof a===p?a.apply(a):a)+"</span>\n                                <a class='lang-link' href='javascript:void(0);' data-lang='"+q((d=null==b||!1===b?b:b.key,typeof d===p?d.apply(a):d))+"'>"+q((e=c.parseLanguageName||a&&a.parseLanguageName,f={hash:{},data:b},e?e.call(a,null==b||!1===b?b:b.key,f):r.call(a,"parseLanguageName",null==b||!1===b?b:b.key,f)))+"</a>\n                            </li>\n                        "}function k(a,b){return"\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=c.helperMissing,s=this;return m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:s.program(8,k,e),fn:s.program(1,f,e),data:e},l=m?m.call(b,b&&b.server,"snowstorm",n):r.call(b,"if_eq",b&&b.server,"snowstorm",n),(l||0===l)&&(o+=l),o+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/bar4.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="    \n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:s.program(4,h,b),fn:s.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f):r.call(a,"if_eq",(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){return"\n    "}function h(a,b){var d,e,f,g="";return g+="        \n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:s.noop,fn:s.program(5,i,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.semTagFilter),"none",f):r.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.semTagFilter),"none",f),(d||0===d)&&(g+=d),g+="        \n    "}function i(a,b){var d,e,f,g="";return g+='\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <h3 class="panel-title">'+q((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_filters_semtag","Filter results by Semantic Tag",f):r.call(a,"i18n","i18n_filters_semtag","Filter results by Semantic Tag",f)))+'</h3>\n                </div>\n                <div class="panel-body">\n                    <ul class="list-group">\n                        ',d=c.each.call(a,(d=a&&a.result,d=null==d||!1===d?d:d.buckets,null==d||!1===d?d:d.semanticTags),{hash:{},inverse:s.noop,fn:s.program(6,j,b),data:b}),(d||0===d)&&(g+=d),g+="\n                    </ul>\n                </div>\n            </div>\n        "}function j(a,b){var c,d="";return d+='\n                            <li class="list-group-item">\n                                <input type="checkbox" class="semtag-checkbox" style="margin: 0" data-semtag=\''+q((c=null==b||!1===b?b:b.key,typeof c===p?c.apply(a):c))+'\'>\n                                <span class="badge">'+q(typeof a===p?a.apply(a):a)+"</span>\n                                <span class='semtag-link' style=\"margin-left: 5px\" data-semtag='"+q((c=null==b||!1===b?b:b.key,typeof c===p?c.apply(a):c))+"'>"+q((c=null==b||!1===b?b:b.key,typeof c===p?c.apply(a):c))+"</span>                                \n                            </li>\n                        "}function k(a,b){return"\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=c.helperMissing,s=this;return m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:s.program(8,k,e),fn:s.program(1,f,e),data:e},l=m?m.call(b,b&&b.server,"snowstorm",n):r.call(b,"if_eq",b&&b.server,"snowstorm",n),(l||0===l)&&(o+=l),o+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/bar5.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="    \n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(4,h,b),fn:v.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f):u.call(a,"if_eq",(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){return"\n    "}function h(a,b){var d,e,f,g="";return g+="        \n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.noop,fn:v.program(5,i,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.moduleFilter),"none",f):u.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.moduleFilter),"none",f),(d||0===d)&&(g+=d),g+="        \n    "}function i(a,b){var d,e,f,g="";return g+='\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <h3 class="panel-title">'+t((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_filters_module","Filter results by Module",f):u.call(a,"i18n","i18n_filters_module","Filter results by Module",f)))+'</h3>\n                </div>\n                <div class="panel-body">\n                    <ul class="list-group">\n                        ',d=c.each.call(a,(d=a&&a.result,d=null==d||!1===d?d:d.buckets,null==d||!1===d?d:d.module),{hash:{},inverse:v.noop,fn:v.program(6,j,b),data:b}),(d||0===d)&&(g+=d),g+="\n                    </ul>\n                </div>\n            </div>\n        "}function j(a,b){var d,e,f,g="";return g+='\n                            <li class="list-group-item">\n                                <span class="badge">',(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===s?e.call(a,{hash:{},data:b}):e),g+=t(d)+"</span>\n                                <a class='module-link' href='javascript:void(0);' data-term=\"",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===s?e.call(a,{hash:{},data:b}):e),g+=t(d)+"\" data-module='",(e=c.id)?d=e.call(a,{hash:{},data:b}):(e=a&&a.id,d=typeof e===s?e.call(a,{hash:{},data:b}):e),g+=t(d)+"'>",d=c.if.call(a,a&&a.term,{hash:{},inverse:v.program(9,l,b),fn:v.program(7,k,b),data:b}),(d||0===d)&&(g+=d),g+="\n                                    ",e=c.hasCountryIcon||a&&a.hasCountryIcon,f={hash:{},inverse:v.noop,fn:v.program(11,m,b),data:b},d=e?e.call(a,a&&a.id,f):u.call(a,"hasCountryIcon",a&&a.id,f),(d||0===d)&&(g+=d),g+="\n                                </a>\n                            </li>\n                        "}function k(a,b){var d,e;return(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===s?e.call(a,{hash:{},data:b}):e),t(d)}function l(a,b){var d,e;return(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===s?e.call(a,{hash:{},data:b}):e),t(d)}function m(a,b){var d,e,f="";return f+='\n                                        <div class="phoca-flagbox" style="width:26px;height:26px">\n                                            <span class="phoca-flag '+t((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.id,e):u.call(a,"countryIcon",a&&a.id,e)))+'"></span>\n                                        </div>\n                                    '}function n(a,b){return"\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p,q,r="",s="function",t=this.escapeExpression,u=c.helperMissing,v=this;return p=c.if_eq||b&&b.if_eq,q={hash:{},inverse:v.program(13,n,e),fn:v.program(1,f,e),data:e},o=p?p.call(b,b&&b.server,"snowstorm",q):u.call(b,"if_eq",b&&b.server,"snowstorm",q),(o||0===o)&&(r+=o),r+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/bar6.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(4,h,b),fn:v.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f):w.call(a,"if_eq",(d=a&&a.result,null==d||!1===d?d:d.totalElements),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){return"\n    "}function h(a,b){var d,e,f,g="";return g+="        \n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.noop,fn:v.program(5,i,b),data:b},d=e?e.call(a,(d=a&&a.options,null==d||!1===d?d:d.refsetFilter),"none",f):w.call(a,"if_eq",(d=a&&a.options,null==d||!1===d?d:d.refsetFilter),"none",f),(d||0===d)&&(g+=d),g+="\n    "}function i(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(8,k,b),fn:v.program(6,j,b),data:b},d=e?e.call(a,(d=a&&a.result,d=null==d||!1===d?d:d.filters,d=null==d||!1===d?d:d.refsetId,null==d||!1===d?d:d.length),0,f):w.call(a,"if_eq",(d=a&&a.result,d=null==d||!1===d?d:d.filters,d=null==d||!1===d?d:d.refsetId,null==d||!1===d?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n        "}function j(a,b){return"\n            "}function k(a,b){var d,e,f,g="";return g+='\n                <div style="margin-top: 10px" class="panel panel-default">\n                    <div class="panel-heading">\n                        <h3 class="panel-title">'+u((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_filters_refset","Filter results by Refset",f):w.call(a,"i18n","i18n_filters_refset","Filter results by Refset",f)))+'</h3>\n                    </div>\n                    <div class="panel-body">\n                        <ul class="list-group">\n                            ',d=c.each.call(a,(d=a&&a.result,d=null==d||!1===d?d:d.buckets,null==d||!1===d?d:d.membership),{hash:{},inverse:v.noop,fn:v.program(9,l,b),data:b}),(d||0===d)&&(g+=d),g+="\n                        </ul>\n                    </div>\n                </div>\n            "}function l(a,b){var d,e,f="";return f+='\n                                <li class="list-group-item">\n                                    <span class="badge">',(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"</span>\n                                    <a class='refset-link' href='javascript:void(0);' data-term=\"",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"\" data-refset='",(e=c.id)?d=e.call(a,{hash:{},data:b}):(e=a&&a.id,d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=u(d)+"'>",d=c.if.call(a,a&&a.term,{hash:{},inverse:v.program(12,n,b),fn:v.program(10,m,b),data:b}),(d||0===d)&&(f+=d),f+="</a>\n                                </li>\n                            "}function m(a,b){var d,e;return(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===t?e.call(a,{hash:{},data:b}):e),u(d)}function n(a,b){var d,e;return(e=c.value)?d=e.call(a,{hash:{},data:b}):(e=a&&a.value,d=typeof e===t?e.call(a,{hash:{},data:b}):e),u(d)}function o(a,b){return"\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var p,q,r,s="",t="function",u=this.escapeExpression,v=this,w=c.helperMissing;return q=c.if_eq||b&&b.if_eq,r={hash:{},inverse:v.program(14,o,e),fn:v.program(1,f,e),data:e},p=q?q.call(b,b&&b.server,"snowstorm",r):w.call(b,"if_eq",b&&b.server,"snowstorm",r),(p||0===p)&&(s+=p),s+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/body/default.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n    ",e=c.if_gre||a&&a.if_gre,f={hash:{},inverse:C.programWithDepth(5,i,b,a),fn:C.program(2,g,b),data:b},d=e?e.call(a,"0",(d=a&&a.result,d=null==d||!1===d?d:d.matches,null==d||!1===d?d:d.length),f):z.call(a,"if_gre","0",(d=a&&a.result,d=null==d||!1===d?d:d.matches,null==d||!1===d?d:d.length),f),(d||0===d)&&(h+=d),h+="\n"}function g(a,b){var d,e,f,g="";return g+='\n        <tr><td class=\'text-muted\'><span data-i18n-id="i18n_no_results" class="i18n">'+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_no_results","No results",f):z.call(a,"i18n","i18n_no_results","No results",f)))+"</span></td></tr>\n        ",e=c.hasFilters||a&&a.hasFilters,f={hash:{},inverse:C.noop,fn:C.program(3,h,b),data:b},d=e?e.call(a,a&&a.options,f):z.call(a,"hasFilters",a&&a.options,f),(d||0===d)&&(g+=d),g+="\n    "}function h(a,b){var d,e,f,g="";return g+='\n            <tr><td class=\'text-center\'><span data-i18n-id="i18n_remove_filters" class="i18n">\n            '+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remove_filters","There are filters active, remove them to search again with a broader criteria.",f):z.call(a,"i18n","i18n_remove_filters","There are filters active, remove them to search again with a broader criteria.",f)))+'</span><br>\n            <button class="btn btn-danger btn-sm" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=A(d)+'-remove-all-filters"><span data-i18n-id="i18n_remove_filters_button" class="i18n">Remove all filters</span></button>\n        </td></tr>        '}function i(a,b,d){var e,f,g,h="";return h+="\n        ",e=c.each.call(a,(e=a&&a.result,null==e||!1===e?e:e.matches),{hash:{},inverse:C.noop,fn:C.programWithDepth(6,j,b,a,d),data:b}),(e||0===e)&&(h+=e),h+="\n        ",f=c.if_gr||a&&a.if_gr,g={hash:{},inverse:C.program(26,u,b),fn:C.program(24,t,b),data:b},e=f?f.call(a,a&&a.remaining,0,g):z.call(a,"if_gr",a&&a.remaining,0,g),(e||0===e)&&(h+=e),h+="\n    "}function j(a,b,d,e){var f,g,h,i="";return i+="\n            <tr class='resultRow selectable-row",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:C.program(9,l,b),fn:C.program(7,k,b),data:b},f=g?g.call(a,a&&a.active,!1,h):z.call(a,"if_eq",a&&a.active,!1,h),(f||0===f)&&(i+=f),i+="'>\n                <td class='col-md-6'>\n                    <div class='result-item' data-module=\"",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"'>\n                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:C.programWithDepth(13,n,b,a),fn:C.programWithDepth(11,m,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):z.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(i+=f),i+="\n                        ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:C.noop,fn:C.program(18,q,b),data:b},f=g?g.call(a,a&&a.module,h):z.call(a,"hasCountryIcon",a&&a.module,h),(f||0===f)&&(i+=f),i+="\n                        <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit; 'draggable=\"true\" ondragstart=\"drag(event, '"+A((f=e&&e.divElementId,typeof f===B?f.apply(a):f))+'\')" data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"'>",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"</a>\n                    </div>\n                </td>\n                <td class='text-muted small-text col-md-6 result-item' data-module=\"",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===B?g.call(a,{hash:{},data:b}):g),i+=A(f)+"'>\n                    ",f=c.if.call(a,(f=a&&a.concept,f=null==f||!1===f?f:f.fsn,null==f||!1===f?f:f.term),{hash:{},inverse:C.program(22,s,b),fn:C.program(20,r,b),data:b}),(f||0===f)&&(i+=f),i+="\n                </td>\n            </tr>\n        "}function k(a,b){return" danger"}function l(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:C.noop,fn:C.program(7,k,b),data:b},d=e?e.call(a,a&&a.conceptActive,!1,f):z.call(a,"if_eq",a&&a.conceptActive,!1,f),d||0===d?d:""}function m(a,b,d){var e,f,g="";return g+='\n                            <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+A((e=d&&d.divElementId,typeof e===B?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                            '}function n(a,b,d){var e,f,g,h="";return h+="\n                              ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:C.programWithDepth(16,p,b,d),fn:C.programWithDepth(14,o,b,d),data:b},e=f?f.call(a,a&&a.definitionStatus,"900000000000074008",g):z.call(a,"if_eq",a&&a.definitionStatus,"900000000000074008",g),(e||0===e)&&(h+=e),h+="\n                            "}function o(a,b,d){var e,f,g="";return g+='\n                                  <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+A((e=d&&d.divElementId,typeof e===B?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                                '}function p(a,b,d){var e,f,g="";return g+='\n                                  <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+A((e=d&&d.divElementId,typeof e===B?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'" data-term="',(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===B?f.call(a,{hash:{},data:b}):f),g+=A(e)+'">&equiv;</span>&nbsp;&nbsp;\n                                '}function q(a,b){var d,e,f="";return f+='\n                            <div class="phoca-flagbox" style="width:20px;height:20px">\n                                <span class="phoca-flag '+A((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):z.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                            </div>\n                        '}function r(a,b){var c,d="";return d+="\n                        "+A((c=a&&a.concept,c=null==c||!1===c?c:c.fsn,c=null==c||!1===c?c:c.term,typeof c===B?c.apply(a):c))+"\n                    "}function s(a,b){var d,e,f="";return f+="\n                        ",(e=c.fsn)?d=e.call(a,{hash:{},data:b}):(e=a&&a.fsn,d=typeof e===B?e.call(a,{hash:{},data:b}):e),f+=A(d)+"\n                    "}function t(a,b){var d,e,f,g="";return g+="\n            <tr class='more-row'><td colspan='2' class='text-center'><button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=A(d)+'-more\'><span data-i18n-id="i18n_load" class="i18n">'+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_load","Load",f):z.call(a,"i18n","i18n_load","Load",f)))+"</span> ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=A(d)+' <span data-i18n-id="i18n_more" class="i18n">'+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_more","more",f):z.call(a,"i18n","i18n_more","more",f)))+"</span> (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=A(d)+' <span data-i18n-id="i18n_remaining_server" class="i18n">'+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remaining_server","remaining on server",f):z.call(a,"i18n","i18n_remaining_server","remaining on server",f)))+"</span>)</button></td></tr>\n        "}function u(a,b){var d,e,f,g="";return g+="\n            <tr class='more-row'><td colspan='2' class='text-center text-muted'><span data-i18n-id=\"i18n_all_res\" class=\"i18n\">"+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_all_res","All",f):z.call(a,"i18n","i18n_all_res","All",f)))+"</span> "+A((d=a&&a.result,d=null==d||!1===d?d:d.details,d=null==d||!1===d?d:d.total,typeof d===B?d.apply(a):d))+' <span data-i18n-id="i18n_results_displayed" class="i18n">'+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_results_displayed","results are displayed",f):z.call(a,"i18n","i18n_results_displayed","results are displayed",f)))+"</span></td></tr>\n        "}function v(a,b){var d,e,f,g="";return g+='\n    <tr><td class=\'text-muted\'><span data-i18n-id="i18n_no_results" class="i18n">'+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_no_results","No results",f):z.call(a,"i18n","i18n_no_results","No results",f)))+"</span></td></tr>\n    ",e=c.hasFilters||a&&a.hasFilters,f={hash:{},inverse:C.noop,fn:C.program(29,w,b),data:b},d=e?e.call(a,a&&a.options,f):z.call(a,"hasFilters",a&&a.options,f),(d||0===d)&&(g+=d),g+="\n"}function w(a,b){var d,e,f,g="";return g+='\n        <tr><td class=\'text-center\'><span data-i18n-id="i18n_remove_filters" class="i18n">\n            '+A((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"i18n_remove_filters","There are filters active, remove them to search again with a broader criteria.",f):z.call(a,"i18n","i18n_remove_filters","There are filters active, remove them to search again with a broader criteria.",f)))+'</span><br>\n            <button class="btn btn-danger btn-sm" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===B?e.call(a,{hash:{},data:b}):e),g+=A(d)+'-remove-all-filters"><span data-i18n-id="i18n_remove_filters_button" class="i18n">Remove all filters</span></button>\n        </td></tr>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var x,y="",z=c.helperMissing,A=this.escapeExpression,B="function",C=this;return x=c.if.call(b,(x=b&&b.result,null==x||!1===x?x:x.matches),{hash:{},inverse:C.program(28,v,e),fn:C.program(1,f,e),data:e}),(x||0===x)&&(y+=x),y+="\n"}),this.JST["snomed-interaction-components/views/searchPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='margin: 5px; height:95%;' class='panel panel-default'>\n    <div class='panel-heading'>\n        \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>--\x3e\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 15px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_search'>Search</span></span></strong></div>\n            <div class='col-md-4 text-right'>\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-linkerButton\' draggable="true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>--\x3e\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>--\x3e\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' style='height:86%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-panelBody\'>\n        <form>\n            <div class="form-group" style="margin-bottom: 2px;">\n                <label for="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBox">\n                    <span class="i18n" data-i18n-id="i18n_type_3_chars">Type at least 3 characters</span> <i class="glyphicon glyphicon-remove text-danger" id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-typeIcon"></i> <span id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchExample"></span></label>\n                <br><div class="btn-group" style="width: 100%;"><input data-droppable="true" ondrop="dropS(event);" ondragover="removeHighlight();" ondragstart="allowDrop(event);" class="form-control" id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBox" placeholder="Search..." autocomplete="off">\n                <span id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-clearButton" class="searchclear glyphicon glyphicon-remove-circle"></span></div>\n            </div>\n        </form>\n        <div id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-searchConfigBar' style='margin-bottom: 10px;'><nav class='navbar navbar-default' role='navigation' style='min-height: 28px;border-radius: 0px;border-bottom: 1px lightgray solid;'>\n            <ul class='nav navbar-nav navbar-left'>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navSearchModeLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-fullTextButton'><span class='i18n' data-i18n-id='i18n_full_text_search_mode'>Full text search mode</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-partialMatchingButton'><span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>Partial matching search mode</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-regexButton'><span class='i18n' data-i18n-id='i18n_regex_search_mode'>Regular Expressions search mode</span></button></li>\n                    </ul>\n                </li>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navLanguageLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-danishLangButton'><span class='i18n' data-i18n-id='i18n_danish_stemmer'>Danish language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-englishLangButton'><span class='i18n' data-i18n-id='i18n_english_stemmer'>English language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-spanishLangButton'><span class='i18n' data-i18n-id='i18n_spanish_stemmer'>Spanish language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-swedishLangButton'><span class='i18n' data-i18n-id='i18n_swedish_stemmer'>Swedish language stemmer</span></button></li>\n                    </ul>\n                </li>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navStatusFilterLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-activeOnlyButton'><span class='i18n' data-i18n-id='i18n_active_only'>Active components only</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-activeInactiveButton'><span class='i18n' data-i18n-id='i18n_active_and_inactive'>Active and inactive components</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-inactiveOnlyButton'><span class='i18n' data-i18n-id='i18n_inactive_only'>Inactive components only</span></button></li>\n                    </ul>\n                </li>\n            </ul>\n        </nav></div>\n        <div class='panel panel-default' style='height:70%;overflow:auto;margin-bottom: 15px;min-height: 300px;' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsScrollPane'>\n            <div id=\"",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBar"></div>\n            <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-searchFilters\"></div>\n            <table class='table table-bordered'>\n                <tbody  id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsTable'>\n                </tbody>\n            </table>\n        </div>\n        <div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>\n            <div class='modal-dialog'>\n                <div class='modal-content'>\n                    <div class='modal-header'>\n                        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                        <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>\n                    </div>\n                    <div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>\n                        <p></p>\n                    </div>\n                    <div class='modal-footer'>\n                        <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}),this.JST["snomed-interaction-components/views/taxonomyPlugin/body/children.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f="";return f+="\n        ",e=c.if.call(a,a&&a.active,{hash:{},inverse:q.noop,fn:q.programWithDepth(2,g,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n    "}function g(a,b,d,e){var f,g,i,j="";return j+='\n            <li data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"' data-term=\"",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+" data-descendants='",(g=c.descendantCount)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descendantCount,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"\" class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'>\n                    <i class='glyphicon glyphicon-",g=c.if_eq||e&&e.if_eq,i={hash:{},inverse:q.program(8,k,b),fn:q.program(3,h,b),data:b},f=g?g.call(a,e&&e.selectedView,"inferred",i):r.call(a,"if_eq",e&&e.selectedView,"inferred",i),(f||0===f)&&(j+=f),j+=" treeButton' id='"+t((f=e&&e.divElementId,typeof f===s?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"'></i>\n                </button>\n                ",g=c.if_eq||a&&a.if_eq,i={hash:{},inverse:q.programWithDepth(12,m,b,d),fn:q.programWithDepth(10,l,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",i):r.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",i),(f||0===f)&&(j+=f),j+="\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,i={hash:{},inverse:q.noop,fn:q.program(14,n,b),data:b},f=g?g.call(a,a&&a.module,i):r.call(a,"hasCountryIcon",a&&a.module,i),(f||0===f)&&(j+=f),j+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                    <span class="treeLabel selectable-row" draggable="true" ondragstart="drag(event, \''+t((f=e&&e.divElementId,typeof f===s?f.apply(a):f))+'\')" data-definition-status="',(g=c.definitionStatus)?f=g.call(a,{hash:{},data:b}):(g=a&&a.definitionStatus,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" data-descendants="',(g=c.descendantCount)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descendantCount,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" id="'+t((f=e&&e.divElementId,typeof f===s?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"</span>\n                </a>\n                "+t((g=c.push||a&&a.push,i={hash:{},data:b},g?g.call(a,a&&a.conceptId,i):r.call(a,"push",a&&a.conceptId,i)))+"\n            </li>\n        "}function h(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:q.program(6,j,b),fn:q.program(4,i,b),data:b},d=e?e.call(a,a&&a.isLeafInferred,!0,f):r.call(a,"if_eq",a&&a.isLeafInferred,!0,f),d||0===d?d:""}function i(a,b){return"minus"}function j(a,b){return"chevron-right"}function k(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:q.program(6,j,b),fn:q.program(4,i,b),data:b},d=e?e.call(a,a&&a.isLeafStated,!0,f):r.call(a,"if_eq",a&&a.isLeafStated,!0,f),d||0===d?d:""}function l(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-definition-status="',(f=c.definitionStatus)?e=f.call(a,{hash:{},data:b}):(f=a&&a.definitionStatus,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                '}function m(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-definition-status="',(f=c.definitionStatus)?e=f.call(a,{hash:{},data:b}):(f=a&&a.definitionStatus,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&equiv;</span>&nbsp;&nbsp;\n                '}function n(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:26px;height:26px">\n                        <span class="phoca-flag '+t((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):r.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="",q=this,r=c.helperMissing,s="function",t=this.escapeExpression;return p+="<ul style='list-style-type: none; padding-left: 15px;'>\n    ",o=c.each.call(b,b&&b.result,{hash:{},inverse:q.noop,fn:q.programWithDepth(1,f,e,b),data:e}),(o||0===o)&&(p+=o),p+="\n</ul>\n"}),this.JST["snomed-interaction-components/views/taxonomyPlugin/body/parents.hbs"]=Handlebars.template(function(a,b,c,d,e,f,g){function h(a,b,d,e){var f,g,h,n="";return n+='\n            <li data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+"' data-term='",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+"' data-descendants='",(g=c.descendantCount)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descendantCount,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'>\n                    <i class='glyphicon glyphicon-chevron-",g=c.if_def||a&&a.if_def,h={hash:{},inverse:z.program(4,j,b),fn:z.program(2,i,b),data:b},f=g?g.call(a,a&&a.conceptId,h):y.call(a,"if_def",a&&a.conceptId,h),(f||0===f)&&(n+=f),n+=" treeButton' id='"+x((f=d&&d.divElementId,typeof f===w?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+"'></i>\n                </button>\n                ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:z.program(8,l,b),fn:z.program(6,k,b),data:b},f=g?g.call(a,a&&a.definitionStatus,"PRIMITIVE",h):y.call(a,"if_eq",a&&a.definitionStatus,"PRIMITIVE",h),(f||0===f)&&(n+=f),n+="\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:z.noop,fn:z.program(10,m,b),data:b},f=g?g.call(a,a&&a.module,h):y.call(a,"hasCountryIcon",a&&a.module,h),(f||0===f)&&(n+=f),n+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                    <span data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+'" draggable="true" ondragstart="drag(event, \''+x((f=e&&e.divElementId,typeof f===w?f.apply(a):f))+'\')" data-definition-status="',(g=c.definitionStatus)?f=g.call(a,{hash:{},data:b}):(g=a&&a.definitionStatus,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+'" data-descendants="',(g=c.descendantCount)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descendantCount,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+'" class="treeLabel selectable-row" id="'+x((f=d&&d.divElementId,typeof f===w?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===w?g.call(a,{hash:{},data:b}):g),n+=x(f)+"</span>\n                </a>\n        "}function i(a,b){return"down"}function j(a,b){return"up"}function k(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" data-definition-status="',(e=c.definitionStatus)?d=e.call(a,{hash:{},data:b}):(e=a&&a.definitionStatus,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"')\">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                "}function l(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" data-definition-status="',(e=c.definitionStatus)?d=e.call(a,{hash:{},data:b}):(e=a&&a.definitionStatus,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+"')\">&equiv;</span>&nbsp;&nbsp;\n                "}function m(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:33px;height:33px">\n                        <span class="phoca-flag '+x((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):y.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}function n(a,b){var d,e,f="";return f+="\n            "+x((d=c.slice||a&&a.slice,e={hash:{},data:b},d?d.call(a,0,-5,e):y.call(a,"slice",0,-5,e)))+"\n        "}function o(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'\')" data-definition-status="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.definitionStatus,typeof d===w?d.apply(a):d))+'" data-module="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.module,typeof d===w?d.apply(a):d))+'" data-concept-id="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.conceptId,typeof d===w?d.apply(a):d))+'" data-term="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.defaultTerm,typeof d===w?d.apply(a):d))+'">&nbsp;&nbsp;</span>&nbsp;&nbsp;\n                '}function p(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===w?e.call(a,{hash:{},data:b}):e),f+=x(d)+'\')" data-definition-status="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.definitionStatus,typeof d===w?d.apply(a):d))+'" data-module="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.module,typeof d===w?d.apply(a):d))+'" data-concept-id="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.conceptId,typeof d===w?d.apply(a):d))+'" data-term="'+x((d=a&&a.focusConcept,d=null==d||!1===d?d:d.defaultTerm,typeof d===w?d.apply(a):d))+'">&equiv;</span>&nbsp;&nbsp;\n                '}function q(a,b){var d,e,f,g="";return g+='\n                    <div class="phoca-flagbox" style="width:33px;height:33px">\n                        <span class="phoca-flag '+x((e=c.countryIcon||a&&a.countryIcon,f={hash:{},data:b},e?e.call(a,(d=a&&a.focusConcept,null==d||!1===d?d:d.module),f):y.call(a,"countryIcon",(d=a&&a.focusConcept,null==d||!1===d?d:d.module),f)))+'"></span>\n                    </div>\n                '}function r(a,b){return"\n            </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t,u,v="",w="function",x=this.escapeExpression,y=c.helperMissing,z=this;return v+="<div style='height:100%;margin-bottom: 15px;'>\n    <ul style='list-style-type: none; padding-left: 5px;'>\n        ",s=c.each.call(b,b&&b.parents,{hash:{},inverse:z.noop,fn:z.programWithDepth(1,h,e,b,f),data:e}),(s||0===s)&&(v+=s),v+="\n        ",t=c.if_gr||b&&b.if_gr,u={hash:{},inverse:z.noop,fn:z.program(12,n,e),data:e},s=t?t.call(b,(s=b&&b.parents,null==s||!1===s?s:s.length),0,u):y.call(b,"if_gr",(s=b&&b.parents,null==s||!1===s?s:s.length),0,u),(s||0===s)&&(v+=s),v+="\n        <ul style='list-style-type: none; padding-left: 15px;'>\n            <li data-definition-status=\""+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.definitionStatus,typeof s===w?s.apply(b):s))+'" data-module="'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.module,typeof s===w?s.apply(b):s))+"\" data-concept-id='"+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.conceptId,typeof s===w?s.apply(b):s))+"' data-term='"+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.defaultTerm,typeof s===w?s.apply(b):s))+"' data-statedDescendants='"+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.statedDescendants,typeof s===w?s.apply(b):s))+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton'  id='",(t=c.divElementId)?s=t.call(b,{hash:{},data:e}):(t=b&&b.divElementId,s=typeof t===w?t.call(b,{hash:{},data:e}):t),v+=x(s)+"-treeicon-"+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.conceptId,typeof s===w?s.apply(b):s))+"'></i></button>\n                ",t=c.if_eq||b&&b.if_eq,u={hash:{},inverse:z.program(16,p,e),fn:z.program(14,o,e),data:e},s=t?t.call(b,(s=b&&b.focusConcept,null==s||!1===s?s:s.definitionStatus),"PRIMITIVE",u):y.call(b,"if_eq",(s=b&&b.focusConcept,null==s||!1===s?s:s.definitionStatus),"PRIMITIVE",u),(s||0===s)&&(v+=s),v+="\n                ",t=c.hasCountryIcon||b&&b.hasCountryIcon,u={hash:{},inverse:z.noop,fn:z.program(18,q,e),data:e},s=t?t.call(b,(s=b&&b.focusConcept,null==s||!1===s?s:s.module),u):y.call(b,"hasCountryIcon",(s=b&&b.focusConcept,null==s||!1===s?s:s.module),u),(s||0===s)&&(v+=s),v+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                    <span draggable="true" ondragstart="drag(event, \''+x((s=g&&g.divElementId,typeof s===w?s.apply(b):s))+'\')" data-definition-status="'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.definitionStatus,typeof s===w?s.apply(b):s))+'" data-module="'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.module,typeof s===w?s.apply(b):s))+'" data-concept-id="'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.conceptId,typeof s===w?s.apply(b):s))+'" data-term="'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.defaultTerm,typeof s===w?s.apply(b):s))+'" data-descendants="'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.descendantCount,typeof s===w?s.apply(b):s))+'" class="treeLabel selectable-row" id="',(t=c.divElementId)?s=t.call(b,{hash:{},data:e}):(t=b&&b.divElementId,s=typeof t===w?t.call(b,{hash:{},data:e}):t),v+=x(s)+"-treenode-"+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.conceptId,typeof s===w?s.apply(b):s))+'">'+x((s=b&&b.focusConcept,s=null==s||!1===s?s:s.defaultTerm,typeof s===w?s.apply(b):s))+"</span>\n                </a>\n            </li>\n        </ul>\n        ",t=c.if_gr||b&&b.if_gr,u={hash:{},inverse:z.noop,fn:z.program(20,r,e),data:e},s=t?t.call(b,(s=b&&b.parents,null==s||!1===s?s:s.length),0,u):y.call(b,"if_gr",(s=b&&b.parents,null==s||!1===s?s:s.length),0,u),(s||0===s)&&(v+=s),v+="\n    </ul>\n</div>"}),this.JST["snomed-interaction-components/views/taxonomyPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='height:100%;margin: 5px; overflow:auto;' class='panel panel-default' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-mainPanel'>\n    <div ondrop=\"dropT(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class=\'panel-heading\' id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading'>\n        \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>--\x3e\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 15px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-6' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_taxonomy'>Taxonomy</span></strong></div>\n            <div class='col-md-6 text-right'>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resetButton' class='btn btn-link' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-repeat'></i></button>\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-linkerButton\' draggable="true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>--\x3e\n                \x3c!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>--\x3e\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-taxonomyConfigBar' style='margin-bottom: 10px;'><nav class='navbar navbar-default' role='navigation' style='min-height: 28px;border-radius: 0px;border-bottom: 1px lightgray solid;'>\n        <ul class='nav navbar-nav navbar-left'>\n            <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-txViewLabel'></span> <b class='caret'></b></a>\n                <ul class='dropdown-menu' role='menu' style='float: none;'>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-inferredViewButton'><span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span></button></li>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-statedViewButton'><span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span></button></li>\n                </ul>\n            </li>\n            <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-txViewLabel2'></span> <b class='caret'></b></a>\n                <ul class='dropdown-menu' role='menu' style='float: none;'>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-descendantsCountTrue'><span class='i18n' data-i18n-id='i18n_on'>On</span></button></li>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-descendantsCountFalse'><span class='i18n' data-i18n-id='i18n_off'>Off</span></button></li>\n                </ul>\n            </li>\n        </ul>\n    </nav></div>\n    <div ondrop=\"dropT(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" ondragleave=\"removeHighlight();\" ondragover=\"allowDrop(event)\" class='panel-body' style='height:100%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelBody'>\n    </div>\n</div>\n<div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>\n    <div class='modal-dialog'>\n        <div class='modal-content'>\n            <div class='modal-header'>\n                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>\n            </div>\n            <div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>\n                <p></p>\n            </div>\n            <div class='modal-footer'>\n                <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n            </div>\n        </div>\n    </div>\n</div>\n"}),this.JST["snomed-interaction-components/views/taxonomyPlugin/options.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,h="";return h+="\n                <tr>\n                    <td>",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===l?f.call(a,{hash:{},data:b}):f),h+=m(e)+'</td>\n                    <td>\n                        <div class="checkbox">\n                            <label>\n                                <input type="checkbox" id="'+m((e=d&&d.divElementId,typeof e===l?e.apply(a):e))+"-subscribeTo-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===l?f.call(a,{hash:{},data:b}):f),h+=m(e)+'" ',e=c.if.call(a,a&&a.subscribed,{hash:{},inverse:n.noop,fn:n.program(2,g,b),data:b}),(e||0===e)&&(h+=e),h+='> <span class="i18n"></span>\n                            </label>\n                        </div>\n                    </td>\n                    <td>\n                        <div class="checkbox">\n                            <label>\n                                <input type="checkbox" id="'+m((e=d&&d.divElementId,typeof e===l?e.apply(a):e))+"-subscriptor-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===l?f.call(a,{hash:{},data:b}):f),h+=m(e)+'" ',e=c.if.call(a,a&&a.subscriptor,{hash:{},inverse:n.noop,fn:n.program(2,g,b),data:b}),(e||0===e)&&(h+=e),h+='> <span class="i18n"></span>\n                            </label>\n                        </div>\n                    </td>\n                </tr>\n            '}function g(a,b){return"checked"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+='<form role="form" id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===l?i.call(b,{hash:{},data:e}):i),k+=m(h)+'-options-form">\n    <div class="form-group">\n        <table class=\'table table-bordered table-hover\'>\n            <thead>\n            <tr>\n                <th>Panel</th>\n                <th><span class="i18n" data-i18n-id="i18n_subscribed">'+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_subscribe","Subscribed",j):o.call(b,"i18n","i18n_subscribe","Subscribed",j)))+'</span></th>\n                <th><span class="i18n" data-i18n-id="i18n_subscriptor">'+m((i=c.i18n||b&&b.i18n,j={hash:{},data:e},i?i.call(b,"i18n_subscriptor","Subscriptor",j):o.call(b,"i18n","i18n_subscriptor","Subscriptor",j)))+"</span></th>\n            </tr>\n            </thead>\n            <tbody>\n            ",h=c.each.call(b,(h=b&&b.options,null==h||!1===h?h:h.possibleSubscribers),{hash:{},inverse:n.noop,fn:n.programWithDepth(1,f,e,b),data:e}),(h||0===h)&&(k+=h),k+="\n            </tbody>\n        </table>\n    </div>\n</form>"});var e_openCurlyBraces='<span class="exp-brackets">{</span>',e_closeCurlyBraces='<span class="exp-brackets">}</span>',e_colon='<span class="exp-operators">:</span>',e_plus='<span class="exp-operators">+</span>',e_equals='<span class="exp-operators">=</span>',e_pipe='<span class="exp-pipes">|</span>',panel={},referenceToExpression=function(a){return a.conceptId+" "+e_pipe+"<span class='exp-term'>"+a.defaultTerm+"</span>"+e_pipe},conceptToPostCoordinatedExpression=function(a,b,c,d){var e="",f="&nbsp;&nbsp;&nbsp;&nbsp;";if("PRIMITIVE"==a.definitionStatus?e+="<span class='exp-operators'>&lt;&lt;&lt;</span> ":e+="<span class='exp-operators'>===</span> ",a[b]&&a[b].length>0){var g=!0,h={};$.each(a[b],function(a,b){1==b.active&&"116680003"==b.type.conceptId?(g?e+=referenceToExpression(b.target):(e+=" "+e_plus+" <br>",e+=f+referenceToExpression(b.target)),g=!1):1==b.active&&"116680003"!=b.type.conceptId&&(h[b.groupId]||(h[b.groupId]=[]),h[b.groupId].push(b))});var i=Object.keys(h);i.length>0&&(e+=" "+e_colon),$.each(i,function(a,b){e+="<br>";var c=!0;$.each(h[b],function(a,d){c||(e+=", <br>"),e+=b>0?f+f+f:f+f,c&&b>0?e+=e_openCurlyBraces+" ":b>0&&(e+="&nbsp;&nbsp;"),c=!1,e+=referenceToExpression(d.type)+" "+e_equals+" "+referenceToExpression(d.target)}),0!=b&&(e+=" "+e_closeCurlyBraces)})}return e},renderExpression=function(a,b,c,d){var e=referenceToExpression(a),f=document.createElement("DIV");f.innerHTML=e;var g=f.textContent||f.innerText||"";if(g=g.replace(/\s\s+/g," "),a.classAxioms&&0!==a.classAxioms.length||a.gciAxioms&&0!==a.gciAxioms.length)$.getJSON(d.serverUrl+"/"+d.edition+"/"+(d.release&&"None"!==d.release?d.release+"/":"")+"members?referencedComponentId="+a.conceptId+"&active=true",function(a){}).done(function(b){var f=[],h=[];b.total>0&&renderExpressionForAxioms(a,b.items,f,h);var j=conceptToPostCoordinatedExpression(a,"relationships",c,d),k=document.createElement("DIV");k.innerHTML=j;var l=k.textContent||k.innerText||"";l=l.replace(/\s\s+/g," ");var m={divElementId:c.attr("id"),preCoordinatedExpressionHtml:e,statedExpressionHtml:"",inferredExpressionHtml:j,plainPreCoordinatedExpression:g,plainStatedExpression:i,classAxiomOwlExpressions:f,gciAxiomOwlExpressions:h,plainInferredExpression:l};c.html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/expression.hbs"](m).trim()),panel.clipboard&&panel.clipboard.destroy(),panel.clipboard=new Clipboard(".clip-btn-exp"),panel.clipboard.on("success",function(a){alertEvent("Copied!","info"),a.clearSelection()}),panel.clipboard.on("error",function(a){console.log("Error!"),alertEvent("Error","error")})});else{var h=conceptToPostCoordinatedExpression(a,"statedRelationships"),f=document.createElement("DIV");f.innerHTML=h;var i=f.textContent||f.innerText||"";i=i.replace(/\s\s+/g," ");var j=conceptToPostCoordinatedExpression(a,"relationships",c,d),f=document.createElement("DIV");f.innerHTML=j;var k=f.textContent||f.innerText||"";k=k.replace(/\s\s+/g," ");var l={divElementId:c.attr("id"),preCoordinatedExpressionHtml:e,statedExpressionHtml:h,inferredExpressionHtml:j,plainPreCoordinatedExpression:g,plainStatedExpression:i,classAxiomOwlExpressions:[],gciAxiomOwlExpressions:[],plainInferredExpression:k};c.html(JST["snomed-interaction-components/views/conceptDetailsPlugin/tabs/expression.hbs"](l).trim()),panel.clipboard&&panel.clipboard.destroy(),panel.clipboard=new Clipboard(".clip-btn-exp"),panel.clipboard.on("success",function(a){alertEvent("Copied!","info"),a.clearSelection()}),panel.clipboard.on("error",function(a){console.log("Error!"),alertEvent("Error","error")})}};$(function(){$.extend($.fn.disableTextSelect=function(){return this.each(function(){$(this).mousedown(function(){return!1})})}),$(".noSelect").disableTextSelect()}),function(a){a.fn.addConceptDetails=function(a,b){this.filter("div").each(function(){new conceptDetails(this,a,b).setupCanvas()})}}(jQuery),$(document).keypress(function(a){"13"==a.which&&a.preventDefault()}),countryIcons={"999000041000000102":"gb","999000011000000103":"gb","999000021000000109":"gb","999000031000000106":"gb",450829007:"es",11000221109:"ar",11000220105:"ie","900000001000122104":"es-ES",731000124108:"us",5991000124107:"us",161771000036108:"au","32570231000036109":"au","32506021000036107":"au","32570491000036106":"au",45991000052106:"se",554471000005108:"dk",9999999998:"gmdn",466707005:"mdp",11000146104:"nl",20621000087109:"ca",19481000087107:"ca",20611000087101:"ca",22091000087100:"ca",5641000179103:"uy",5631000179106:"uy",11000172109:"be",21000210109:"nz",51000202101:"no",11000181102:"ee"},Handlebars.registerHelper("countryIcon",function(a){return countryIcons[a]}),function(a){function b(c){this.constructor=b,this.popoverNumber=++b.popoverNum,this.popoverListenerID="popoverListener"+this.popoverNumber,this.isHeaderDisabled=!0,this.isDataKept=!1,this.hasBeenOpened=!1;var d=this,e=a(c);e.addClass(this.popoverListenerID),e.css("cursor","pointer"),e.click(function(b){d.toggleVisible(b,a(this)),a(document).trigger("popover.listenerClicked")})}function c(a){b.apply(this,[a]),this.constructor=c,this.superConstructor=b,this.isHeaderDisabled=!1,this.isBackEnabled=!0,c.hasRun||(this.init(),c.hasRun=!0)}var d={_init:function(a,c){void 0!==a.backgroundColor&&b.setBackgroundColor(a.backgroundColor),void 0!==a.fontColor&&b.setFontColor(a.fontColor),void 0!==a.borderColor&&b.setBorderColor(a.borderColor),void 0!==a.disableBackButton&&(!0===a.disableBackButton?c.disableBackButton():!1===a.disableBackButton&&c.enableBackButton()),void 0!==a.enableBackButton&&(!0===a.enableBackButton?c.enableBackButton():!1===a.enableBackButton&&c.disableBackButton()),void 0!==a.disableHeader&&(!0===a.disableHeader?c.disableHeader():!1===a.disableHeader&&c.enableHeader()),void 0!==a.keepData&&c.keepData(a.keepData),void 0!==a.childToAppend&&(c.childToAppend=a.childToAppend),void 0!==a.onCreate&&(c._onCreate=a.onCreate),void 0!==a.onVisible&&(c._onVisible=a.onVisible),b.addMenu(a.id,a.title,a.contents)},_popoverInit:function(a){var c=new b(this.selector);return d._init(a,c),c},_optionsPopoverInit:function(a){var b=new c(this.selector);return d._init(a,b),b},disableHeader:function(a){a.disableHeader()},enableHeader:function(a){a.enableHeader()},lockPopover:function(){b.lockPopover()},unlockPopover:function(){b.unlockPopover()},addMenu:function(a){b.addMenu(a.id,a.title,a.contents)},closePopover:function(){b.closePopover()},_getPopoverClass:function(){return b}};a.fn.optionsPopover=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.optionsPopover"),this.each(function(){})):d._optionsPopoverInit.apply(this,arguments)},a.fn.ppopover=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.popover"),this.each(function(){})):d._popoverInit.apply(this,arguments)},b.prototype.disableHeader=function(){this.isHeaderDisabled=!0},b.prototype.enableHeader=function(){this.isHeaderDisabled=!1},b.prototype.disablePopover=function(){this.isDisabled=!0},b.prototype.enablePopover=function(){this.isDisabled=!1},b.prototype.keepData=function(a){this.isDataKept=a},b.prototype.appendChild=function(){var b=this.childToAppend;b&&a("#popoverContent")[0].appendChild(b)},b.prototype.toggleVisible=function(c,d){b.lastPopoverClicked=this;var e=a(d);if(e){var f=a("#popoverWrapper");if(0!==f.length||(f=this.createPopover(),0!==f.length)){var g=e.attr("id"),h=e.attr("class").split(/\s+/);if(h.push(g),a("#popover").is(":visible")&&b.lastElementClick){if(e.is("#"+b.lastElementClick))return void b.closePopover();b.closePopover()}if(a("#popover").promise().done(function(){}),!b.isLocked&&!this.isDisabled){if(this.populate(h),e.trigger("popover.action",e),b.backgroundColor&&(a("#popoverHeader").css("backgroundColor",b.backgroundColor),a("#popoverContent").css("backgroundColor",b.backgroundColor)),b.fontColor&&(a("#popover").css("color",b.fontColor),a("#popover a").css("color",b.fontColor)),b.borderColor&&(a("#popoverHeader").css("border-color",b.borderColor),a("#popoverContent").css("border-color",b.borderColor),a(".popoverContentRow").css("border-color",b.borderColor)),a("#popover").stop(!1,!0).fadeIn("fast"),a("#popoverWrapper").css("visibility","visible"),a("#popover").promise().done(function(){}),f.trigger("popover.visible"),this._onVisible&&this._onVisible(),this.isDataKept&&!this.hasBeenOpened||!this.isDataKept){var i=this.childToAppend;i&&this.appendChild(i)}this.hasBeenOpened=!0,b.updatePositions(e),b.lastElementClick=e.attr("id")}}}},b.updatePositions=function(c){b.updateTopPosition(c),b.updateLeftPosition(c),a(document).trigger("popover.updatePositions")},b.updateTopPosition=function(c){var d=b.getTop(c);a("#popoverWrapper").css("padding-top",d+"px")},b.updateLeftPosition=function(c){var d=b.getLeft(c);a("#popoverWrapper").css("left",d.popoverLeft),b.setCaretPosition(d.targetLeft-d.popoverLeft+b.padding)},b.getLeft=function(c){var d=a("#popoverWrapper");b.currentTarget=c;var e=c.offset().left+c.outerWidth()/2,f=e+d.outerWidth()/2,g=e-d.outerWidth()/2+b.padding+1,h=a(window).width();return b.offScreenX=!1,g<0?(b.offScreenX=!0,g=b.padding):f>h&&(b.offScreenX=!0,g=h-d.outerWidth()),{targetLeft:e,popoverLeft:g}},b.getTop=function(c){var d=a("#popoverArrow").height(),e="absolute"===a("#popoverWrapper").css("position")?0:a(window).scrollTop(),f=c.offset().top-e,g=f+c.outerHeight(),h=g+d,i=a(window).height(),j=a("#popoverContent").height(),k=j+a("#popoverHeader").outerHeight()+d;return b.above=!1,b.offScreenY=!1,i<g+k?(b.offScreenY=!0,f>=k?(h=f-k,b.above=!0):h=i-k):h<0&&(b.offScreenY=!0,h=b.padding+d),h},b.setCaretPosition=function(c){var d="50%",e=a("#popoverArrow");if(b.offScreenX&&(d=c),e.css("left",d),b.above){var f=a("#popoverContent").outerHeight()-4;a("#popoverArrow").css("margin-top",f+"px").addClass("flipArrow").html("")}else a("#popoverArrow").css("margin-top","").removeClass("flipArrow").html("");b.caretLeftOffset=d},b.prototype.createPopover=function(){var c=a(document.createElement("div"));c.attr("id","popoverWrapper"),c.html("<div id='popover'><div id='popoverArrow'></div><div id='currentPopoverAction' style='display: none;'></div><div id='popoverContentWrapper'><div id='popoverContent'></div></div></div>"),c.find("#popover").css("display","none"),a("body").prepend(c),a(window).on("resize",function(){a("#popover").is(":visible")&&b.updatePositions(b.currentTarget);var c=a("#popoverWrapper");"absolute"===c.css("position")?c.css("height",a(document).height()):c.css("height","")}),a("html").on("click touchend",function(c){var d=a(c.target),e=d.parents("#popoverHeader").length+d.is("#popoverHeader")?1:0,f=d.parents("#popoverContentWrapper").length&&!d.parent().is("#popoverContentWrapper")?1:0,g=d.parents("."+b.lastPopoverClicked.popoverListenerID).length+d.is("."+b.lastPopoverClicked.popoverListenerID)?1:0;0===e&&0===f&&0===g&&b.closePopover()});var d,e=a("#popoverContentWrapper");return a(window).bind("resize",function(){a.browser.msie?d||(d=setTimeout(function(){e.trigger("popover.resize"),d=null},50)):e.trigger("popover.resize")}),e.trigger("popover.created"),this._onCreate&&this._onCreate(),c},b.closePopover=function(){b.isLocked||(b.lastElementClick=null,a(document).trigger("popover.closing"),b.history=[],a("#popover").stop(!1,!0).fadeOut("fast"),a("#popoverWrapper").css("visibility","hidden"))},b.getAction=function(){return a("#currentPopoverAction").html()},b.setAction=function(b){a("#currentPopoverAction").html(b)},b.prototype.disableBackButton=function(){this.isBackEnabled=!1},b.prototype.enableBackButton=function(){this.isBackEnabled=!0},b.prototype.previousPopover=function(){if(b.history.pop(),b.history.length<=0)return void b.closePopover();var a=b.history[b.history.length-1];this.populateByMenu(a)},b.setTitle=function(c){b.title=c,a("#popoverTitle").html(c)},b.getMenu=function(a){var c;for(c=0;c<b.menus.length;c+=1)if(b.menus[c].id===a)return b.menus[c];return null},b.addMenu=function(a,c,d){b.menus.push({id:a,title:c,contents:d})},b.prototype.populateByMenu=function(c){a(document).trigger("popover.populating"),this.lastContentHeight=b.getPopoverContentHeight(),this.isDataKept||this.clearData(),this.isHeaderDisabled||this.isDataKept?this.removeHeader():this.insertHeader();var d=a("#popover").css("display");if(this.isDataKept&&this.hasBeenOpened||this.setData(c),this.currentContentHeight=b.getPopoverContentHeight(),b.above&&"none"!==d){var e=parseInt(a("#popoverWrapper").css("padding-top"),10),f=this.currentContentHeight-this.lastContentHeight,g=e-f;a("#popoverWrapper").css("padding-top",g+"px"),b.setCaretPosition(b.caretLeftOffset)}return!0},b.prototype.populate=function(a){var c=null,d=0;for(d;d<a.length&&!(c=b.getMenu(a[d]));d++);return!!c&&(b.history.push(c),this.populateByMenu(c))},b.getPopoverContentHeight=function(){var b=a("#popover").css("display");a("#popover").show();var c=a("#popoverContent").height();return a("#popover").css("display",b),c},b.prototype.insertHeader=function(){if(a("#popoverContentWrapper").before("<div id='popoverHeader'><div id='popoverTitle'></div><a id='popoverClose'><span id='popoverCloseIcon'></span></a></div>"),this.isBackEnabled){var c=this;a("#popoverHeader").prepend("<a id='popoverBack'><span id='popoverBackIcon'></span></a>"),a("#popoverBack").on("click",function(){c.previousPopover()})}a("#popoverClose").on("click",function(){b.closePopover()}),a("#popoverContent").css("paddingTop","47px")},b.prototype.removeHeader=function(){a("#popoverBack").off("click"),a("#popoverClose").off("click"),a("#popoverHeader").remove(),a("#popoverContent").css("paddingTop","")},b.prototype.clearData=function(){this.removeHeader(),a("#popoverTitle").html(""),a("#popoverContent").html("")},b.prototype.setData=function(a){b.setAction(a.id),b.setTitle(a.title),b.setContent(a.contents)},b.prototype.replaceMenu=function(a,b){var c;for(c in a)delete a[c];for(c in b)a[c]=b[c]},b.setContent=function(c){b.content=c,a("#popoverContent").html(c),a("#popoverContentWrapper").trigger("popover.setContent")},b.popoverNum=0,b.lastElementClick=null,b.currentTarget=null,b.title="",b.content="",b.menus=[],b.history=[],b.backgroundColor=null,b.fontColor=null,b.borderColor=null,b.padding=3,b.offScreenX=!1,b.offScreenY=!1,b.isLocked=!1,b.above=!1,b.caretLeftOffset="50%",b.lastPopoverClicked=null,b.setBackgroundColor=function(a){b.backgroundColor=a},b.setFontColor=function(a){b.fontColor=a},b.setBorderColor=function(a){b.borderColor=a},b.lockPopover=function(){b.isLocked=!0},b.unlockPopover=function(){b.isLocked=!1},c.prototype=new b,c.constructor=c,c.hasRun=!1,c.prototype.init=function(){a(document).on("touchstart mousedown","#popover a",function(){a(this).css({backgroundColor:"#488FCD"})}).on("touchend mouseup mouseout","#popover a",function(){a(this).css({backgroundColor:""})}).on("click",".popoverContentRow",function(){var c=[];c.push(a(this).attr("id")),a(this).hasClass("popoverEvent")&&a(this).trigger("popover.action",a(this)),b.lastPopoverClicked.populate(c)||b.closePopover()})},c.prototype.setData=function(a){var c,d=a.contents,e="";for(c=0;c<d.length;c++){var f="",g="",h="",i="";c===d.length-1&&(f=" last"),void 0!==d[c].id&&(h=" id='"+d[c].id+"'"),void 0!==d[c].url?i=" href='"+d[c].url+"'":g=" popoverEvent",e+="<a"+i+h+" class='popoverContentRow"+g+f+"'>"+d[c].name+"</a>"}b.setAction(a.id),b.setTitle(a.title),b.setContent(e)}}(window.jQuery),$(document).keypress(function(a){"13"==a.which&&a.preventDefault()}),function(a){a.fn.addSearch=function(a){this.filter("div").each(function(){new conceptDetails(this,a)})}}(jQuery);var idSequence=0;!function(a){a.fn.addTaxonomy=function(a){this.filter("div").each(function(){new conceptDetails(this,a)})}}(jQuery),icon=document.createElement("img"),channel=postal.channel("Selections"),Handlebars.registerHelper("i18n",function(a,b){return void 0===window[a]?b:window[a]}),Handlebars.registerHelper("if_undefined",function(a,b){if("undefined"!=b)return void 0===a?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eqInd",function(a,b,c){return parseInt(a)+1==parseInt(b)?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("console",function(a){console.log(a)}),$(document).on("dragend",function(){removeHighlight()});var lastEventTime=(new Date).getTime();String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();("number"!=typeof b||!isFinite(b)||Math.floor(b)!==b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return-1!==d&&d===b});