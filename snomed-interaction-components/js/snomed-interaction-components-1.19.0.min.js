/*! snomed-interaction-components 2014-08-07 */
function conceptDetails(a,b,c){"undefined"==typeof componentsRegistry&&(componentsRegistry=[]);var d=this;this.type="concept-details",this.conceptId=b,this.divElement=a,this.options=jQuery.extend(!0,{},c),this.attributesPId="",this.descsPId="",this.relsPId="",this.history=[],this.color="white",d.preferred=!1,d.acceptable=!1,d.included=!1,d.refset={},d.refset.simple=!1,d.refset.simplemap=!1,d.refset.attr=!1,d.refset.assoc=!1,this.lastGroup=null,this.subscription=null;var e=null,f=null,g=0;d.subscriptionsColor=[],d.subscriptions=[],d.subscribers=[],componentLoaded=!1,$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(componentLoaded=!0)}),0==componentLoaded&&componentsRegistry.push(d),this.getConceptId=function(){return this.conceptId},this.getDivId=function(){return this.divId},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},d.markerColor=d.getNextMarkerColor(globalMarkerColor),this.setupCanvas=function(){d.attributesPId=d.divElement.id+"-attributes-panel",d.descsPId=d.divElement.id+"-descriptions-panel",d.relsPId=d.divElement.id+"-rels-panel",d.childrenPId=d.divElement.id+"-children-panel",d.defaultTerm="",$(a).html();var b={divElementId:d.divElement.id};$(a).html(JST["views/conceptDetailsPlugin/main.hbs"](b)),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id+"-closeButton").click(function(){$(a).remove()}),$("#"+d.divElement.id+"-configButton").click(function(){d.setupOptionsPanel()}),"undefined"!=typeof d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),"undefined"!=typeof d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),"undefined"!=typeof d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show(),$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp<strong>Concept Details</strong>")}),$("#"+d.divElement.id+"-collapseButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide(),$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp<strong>Concept Details: "+d.defaultTerm+"</strong>")}),$("#"+d.divElement.id).click(function(a){$(a.target).hasClass("glyphicon")||$("#"+d.divElement.id).find(".more-fields-button").popover("hide")}),$("#"+d.divElement.id+"-historyButton").click(function(){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){var a='<div style="height:100px;overflow:auto;">';a+="<table>";var b=d.history.slice(0);return b.reverse(),$.each(b,function(b,c){var e=new Date,f=e.getTime(),g=f-c.time,h="";6e4>g?h=1==Math.round(g/1e3)?Math.round(g/1e3)+" second ago":Math.round(g/1e3)+" seconds ago":36e5>g?h=1==Math.round(g/1e3/60)?Math.round(g/1e3/60)+" minute ago":Math.round(g/1e3/60)+" minutes ago":216e6>g&&(h=1==Math.round(g/1e3/60/60)?Math.round(g/1e3/60/60)+" hour ago":Math.round(g/1e3/60/60)+" hours ago"),a=a+'<tr><td><a href="javascript:void(0);" onclick="updateCD(\''+d.divElement.id+"',"+c.conceptId+');">'+c.defaultTerm+"</a>",a=a+' <span class="text-muted" style="font-size: 80%"><em>'+h+"<em></span>",a+="</td></tr>"}),a+="</table>",a+="</div>"}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Panel options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel()}),d.updateCanvas(),channel.publish(d.divElement.id,{term:d.term,module:d.module,conceptId:d.conceptId,source:d.divElement.id}),d.setupOptionsPanel(),(d.subscriptions.length>0||d.subscribers.length>0)&&$("#"+d.divElement.id+"-subscribersMarker").show(),$("#"+d.divElement.id+"-ownMarker").css("color",d.markerColor)},this.updateCanvas=function(){if($(".more-fields-button").popover("hide"),g!=d.conceptId){if(g=d.conceptId,$("#home-children-"+d.divElement.id+"-body").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.attributesPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-attributes-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.descsPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.relsPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-parents-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-roles-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.childrenPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#diagram-canvas-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#refsets-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),null!=e&&(e.abort(),console.log("aborting call...")),e=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+d.conceptId,function(){}).done(function(b){var f=b;e=null,d.attributesPId=a.id+"-attributes-panel",d.defaultTerm=f.defaultTerm;var h=new Date,i=h.getTime();d.history.push({defaultTerm:f.defaultTerm,conceptId:f.conceptId,time:i}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0});var j={firstMatch:f,divElementId:d.divElement.id,dataContentValue:document.URL.split("?")[0].split("#")[0]};$("#"+d.attributesPId).html(JST["views/conceptDetailsPlugin/tabs/details/attributes-panel.hbs"](j)),$("#share-link-"+d.divElement.id).disableTextSelect(),$("#share-link-"+d.divElement.id).click(function(){setTimeout(function(){$("#share-field-"+d.divElement.id).select()},300)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0});var j={panel:d,firstMatch:f,divElementId:d.divElement.id};$("#home-attributes-"+d.divElement.id).html(JST["views/conceptDetailsPlugin/tabs/home/attributes.hbs"](j)),f.active?$("#home-attributes-"+d.divElement.id).css("background-color","#428bca"):$("#home-attributes-"+d.divElement.id).css("background-color","LightPink"),$("#"+d.divElement.id+"-expandButton").is(":visible")&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp;&nbsp;&nbsp;<strong>Concept Details: "+d.defaultTerm+"</strong>"),"undefined"==typeof i18n_drag_this&&(i18n_drag_this="Drag this"),$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),d.descsPId=a.id+"-descriptions-panel";var k="";"900000000000508004"==d.options.langRefset?k="(GB)":"900000000000509007"==d.options.langRefset?k="(US)":"450828004"==d.options.langRefset?k="(ES)":"554461000005103"==d.options.langRefset?k="(DA)":"46011000052107"==d.options.langRefset?k="(SV)":"32570271000036106"==d.options.langRefset?k="(AU)":"999001251000000103"==d.options.langRefset&&(k="(UK)");var l=f.descriptions.slice(0);l.sort(function(a,b){if(a.type.conceptId<b.type.conceptId)return-1;if(a.type.conceptId>b.type.conceptId)return 1;if(a.type.conceptId==b.type.conceptId){if(a.term<b.term)return-1;if(a.term>b.term)return 1}return 0});var m="";$.each(l,function(a,b){(d.options.displayInactiveDescriptions||1==b.active)&&1==b.active&&(""!=m&&(m+="<br>"),m=m+"&nbsp;&nbsp;&nbsp;&nbsp;"+b.term)}),Handlebars.registerHelper("removeSemtag",function(a){return d.removeSemtag(a)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("preferred",function(a,b){return"get"==a?d.preferred?b.fn(this):b.inverse(this):void(d.preferred=a)}),Handlebars.registerHelper("acceptable",function(a,b){return"get"==a?d.acceptable?b.fn(this):b.inverse(this):void(d.acceptable=a)}),Handlebars.registerHelper("included",function(a,b){return"get"==a?d.included?b.fn(this):b.inverse(this):void(d.included=a)});var j={options:d.options,languageName:k,divElementId:d.divElement.id,allDescriptions:l};$("#"+d.descsPId).html(JST["views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs"](j)),d.options.displaySynonyms&&$("#home-descriptions-"+d.divElement.id).html(m),1!=d.options.displaySynonyms&&($("#"+d.descsPId).find(".synonym-row").each(function(a,b){$(b).toggle()}),$(this).toggleClass("glyphicon-plus"),$(this).toggleClass("glyphicon-minus")),$("#"+d.descsPId+"-descButton").disableTextSelect(),$("#"+d.descsPId+"-descButton").click(function(){table=$(this).closest("table").first(),$(this).toggleClass("glyphicon-plus"),$(this).toggleClass("glyphicon-minus"),table.find(".synonym-row").each(function(a,b){$(b).toggle()})}),$("#"+d.descsPId).find("[rel=tooltip-right]").tooltip({placement:"right"}),"inferred"==d.options.selectedView?($("#home-"+d.divElement.id+"-viewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"),$("#home-"+d.divElement.id+"-diagram-viewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>")):($("#home-"+d.divElement.id+"-viewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),$("#home-"+d.divElement.id+"-diagram-viewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>")),d.relsPId=a.id+"-rels-panel",d.statedParents=[],d.inferredParents=[],d.statedRoles=[],d.inferredRoles=[],f.relationships&&f.relationships.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),f.statedRelationships&&f.statedRelationships.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),Handlebars.registerHelper("push",function(a,b){b.push(a)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0});var j={firstMatch:f,inferredParents:d.inferredParents,inferredRoles:d.inferredRoles,statedParents:d.statedParents,statedRoles:d.statedRoles};$("#"+d.relsPId).html(JST["views/conceptDetailsPlugin/tabs/details/rels-panel.hbs"](j)),d.inferredParents.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),d.statedParents.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),d.inferredRoles.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),d.statedRoles.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),Handlebars.registerHelper("substr",function(a,b){var c=a.lastIndexOf("(")-1;return a.substr(b,c)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a){var d=a.lastIndexOf("(");return d>b?c.fn(this):c.inverse(this)}}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var j={divElementId:d.divElement.id,statedParents:d.statedParents,inferredParents:d.inferredParents,options:d.options};$("#home-parents-"+d.divElement.id).html(JST["views/conceptDetailsPlugin/tabs/home/parents.hbs"](j)),d.options.diagrammingMarkupEnabled||$("#home-parents-"+d.divElement.id).html(d.stripDiagrammingMarkup($("#home-parents-"+d.divElement.id).html())),$(".treeButton").disableTextSelect(),$("#home-parents-"+d.divElement.id).unbind(),$("#home-parents-"+d.divElement.id).click(function(a){if($(a.target).hasClass("treeButton")){var b=$(a.target).closest("li").attr("data-concept-id");a.preventDefault(),$(a.target).hasClass("glyphicon-chevron-up")?($(a.target).closest("li").find("ul").remove(),$(a.target).removeClass("glyphicon-chevron-up"),$(a.target).addClass("glyphicon-chevron-right")):$(a.target).hasClass("glyphicon-chevron-right")?($(a.target).removeClass("glyphicon-chevron-right"),$(a.target).addClass("glyphicon-refresh"),$(a.target).addClass("icon-spin"),d.getParent(b,a.target)):$(a.target).hasClass("glyphicon-minus")}else if($(a.target).hasClass("treeLabel")){var c=$(a.target).attr("data-concept-id");"undefined"!=typeof c&&channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:c,source:d.divElement.id})}}),Handlebars.registerHelper("eqLastGroup",function(a,b){return!a==d.lastGroup?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("removeSemtag",function(a){return d.removeSemtag(a)}),Handlebars.registerHelper("setLastGroup",function(a){d.lastGroup=a}),Handlebars.registerHelper("lastColor",function(a){return"get"==a?d.color:void(d.color=a)}),Handlebars.registerHelper("getRandomColor",function(){return getRandomColor()});var j={options:c,statedRoles:d.statedRoles,inferredRoles:d.inferredRoles};$("#home-roles-"+d.divElement.id).html(JST["views/conceptDetailsPlugin/tabs/home/roles.hbs"](j)),d.options.diagrammingMarkupEnabled||$("#home-roles-"+d.divElement.id).html(d.stripDiagrammingMarkup($("#home-roles-"+d.divElement.id).html())),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("refset",function(a,b,c){return"get"==b?d.refset[a]?c.fn(this):c.inverse(this):void(d.refset[a]=b)});var j={firstMatch:f};$("#refsets-"+d.divElement.id).html(JST["views/conceptDetailsPlugin/tabs/refset.hbs"](j)),$.each($("#refsets-"+d.divElement.id).find(".refset-simplemap"),function(a,b){"467614008"==$(b).attr("data-refsetId")&&channel.publish("refsetSubscription-467614008",{conceptId:$(b).attr("data-conceptId")})}),"diagram-tab"==$("ul#details-tabs-"+d.divElement.id+" li.active").attr("id")&&($("#diagram-canvas-"+d.divElement.id).html(""),drawConceptDiagram(f,$("#diagram-canvas-"+d.divElement.id),d.options)),$("#diagram-tab-link-"+d.divElement.id).unbind(),$("#diagram-tab-link-"+d.divElement.id).click(function(){$("#diagram-canvas-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),setTimeout(function(){$("#diagram-canvas-"+d.divElement.id).html(""),drawConceptDiagram(f,$("#diagram-canvas-"+d.divElement.id),d.options)},1e3)}),$(".more-fields-button").disableTextSelect(),$(".more-fields-button").popover(),navigator.userAgent.indexOf("Firefox")>-1&&($(".more-fields-button").optionsPopover({contents:"",disableBackButton:!0}),$(".more-fields-button").click(function(a){var b=$(a.target).attr("data-content");$("#popoverContent").html(b)})),"stated"==d.options.selectedView?$("#"+d.relsPId).find(".inferred-rel").each(function(a,b){$(b).toggle()}):"inferred"==d.options.selectedView?$("#"+d.relsPId).find(".stated-rel").each(function(a,b){$(b).toggle()}):"all"!=d.options.selectedView,$("[draggable='true']").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),"function"==typeof switchLanguage&&switchLanguage(selectedLanguage,selectedFlag,!1),g=0}).fail(function(){$("#"+d.attributesPId).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#"+d.descsPId).html(""),$("#"+d.relsPId).html(""),$("#"+d.relsPId).html("")}),d.options.displayChildren);null!=f&&(f.abort(),console.log("aborting children call...")),f=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+d.conceptId+"/children?form="+d.options.selectedView,function(){}).done(function(b){f=null,d.childrenPId=a.id+"-children-panel";var c={displayChildren:d.options.displayChildren,divElementId:d.divElement.id,childrenResult:b,selectedView:d.options.selectedView};$("#"+d.childrenPId).html(JST["views/conceptDetailsPlugin/tabs/details/children-panel.hbs"](c)),$("#home-children-"+d.divElement.id+"-body").html(JST["views/conceptDetailsPlugin/tabs/home/children.hbs"](c)),$(".treeButton").disableTextSelect(),$("#home-children-"+d.divElement.id+"-body").click(function(a){if($(a.target).hasClass("treeButton")){var b=$(a.target).closest("li").attr("data-concept-id"),c=d.divElement.id+"-treeicon-"+b;a.preventDefault(),$("#"+c).hasClass("glyphicon-chevron-down")?($(a.target).closest("li").find("ul").remove(),$("#"+c).removeClass("glyphicon-chevron-down"),$("#"+c).addClass("glyphicon-chevron-right")):$("#"+c).hasClass("glyphicon-chevron-right")?($("#"+c).removeClass("glyphicon-chevron-right"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.getChildren($(a.target).closest("li").attr("data-concept-id"))):$("#"+c).hasClass("glyphicon-minus")}else if($(a.target).hasClass("treeLabel")){var e=$(a.target).attr("data-concept-id");"undefined"!=typeof e&&channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:e,source:d.divElement.id})}}),$("#"+d.divElement.id+"-showChildren").tooltip({placement:"right",trigger:"hover",title:"Click here to display the children",animation:!0,delay:500}),$("#"+d.divElement.id+"-showChildren").click(function(){d.options.displayChildren=!0,d.updateCanvas()})}).fail(function(){$("#"+d.childrenPId).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")}),d.loadMembers(50,0)}},this.getChildren=function(a){"undefined"==typeof d.options.selectedView&&(d.options.selectedView="inferred"),$("#"+d.divElement.id+"-txViewLabel").html("inferred"==d.options.selectedView?"<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>":"<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/children?form="+d.options.selectedView,function(){}).done(function(b){b.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0});var c=[],e={displayChildren:d.options.displayChildren,childrenResult:b,divElementId:d.divElement.id,selectedView:d.options.selectedView};Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("push",function(a){c.push(a)}),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass(b.length>0?"glyphicon-chevron-down":"glyphicon-minus"),$("#"+d.divElement.id+"-treenode-"+a).after(JST["views/conceptDetailsPlugin/tabs/home/children.hbs"](e)),$(".treeButton").disableTextSelect()}).fail(function(){$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus")})},this.getParent=function(a,b){e=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/parents",function(){}).done(function(c){var e="",f=$(b).attr("data-ind");c.length>0&&(e=$(b).attr("data-firstt")?"<ul style='margin-left: 95px; list-style-type: none; padding-left: 15px'>":"<ul style='list-style-type: none; padding-left: 15px'>",$.each(c,function(a,b){e=e+"<li class='treeLabel' data-module='"+b.module+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'><button class='btn btn-link btn-xs treeButton' style='padding:2px'>",e=e+"<i class='glyphicon glyphicon-chevron-right treeButton' data-ind='"+f+"'></i></button>",e="Primitive"==b.definitionStatus?e+"<span class='badge alert-warning' draggable='true' ondragstart='drag(event)' data-module='"+b.module+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'>&nbsp;</span>&nbsp;&nbsp":e+"<span class='badge alert-warning' draggable='true' ondragstart='drag(event)' data-module='"+b.module+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'>&equiv;</span>&nbsp;&nbsp",countryIcons[b.module]&&(e=e+"<div class='phoca-flagbox' style='width:26px;height:26px'><span class='phoca-flag "+countryIcons[b.module]+"'></span></div>&nbsp"),e=e+"<a id='"+f+d.divElement.id+"-treeicon-"+b.conceptId+"' href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'>",e=e+"<span class='treeLabel selectable-row' data-module='"+b.module+"' data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"'>"+b.defaultTerm+"</span></a></li>"}),e+="</ul>"),$(b).removeClass("glyphicon-refresh"),$(b).removeClass("icon-spin"),$(b).addClass(c.length>0?"glyphicon-chevron-up":"glyphicon-minus"),$("#"+f+d.divElement.id+"-treeicon-"+a).after(e),$(".treeButton").disableTextSelect()}).fail(function(){})},this.loadMembers=function(a,b){var e=c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+d.conceptId+"/members?limit="+a;b>0?e=e+"&skip="+b:$("#members-"+d.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'><i class='glyphicon glyphicon-refresh icon-spin'></i></td></tr>"),$.getJSON(e,function(){}).done(function(c){var e;e=c.details.total==b?0:c.details.total>b+a?c.details.total-(b+a):c.details.total<a&&0==b?0:c.details.total;var f={result:c,returnLimit:a,remaining:e,divElementId:d.divElement.id,skipTo:b};Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gr",function(a,b,c){return a?a>b?c.fn(this):c.inverse(this):void 0}),0!=c.details.total?($("#"+d.divElement.id+"-moreMembers").remove(),$("#members-"+d.divElement.id+"-resultsTable").find(".more-row").remove(),0==b?$("#members-"+d.divElement.id+"-resultsTable").html(JST["views/conceptDetailsPlugin/tabs/members.hbs"](f)):$("#members-"+d.divElement.id+"-resultsTable").append(JST["views/conceptDetailsPlugin/tabs/members.hbs"](f)),$("#"+d.divElement.id+"-moreMembers").click(function(){$("#"+d.divElement.id+"-moreMembers").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),d.loadMembers(a,b+50)})):$("#members-"+d.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'>This concept has no members</td></tr>")}).fail(function(){$("#members-"+d.divElement.id+"-resultsTable").html("<tr><td class='text-muted' colspan='2'>This concept has no members</td></tr>")})},this.stripDiagrammingMarkup=function(a){return a=a.replace(new RegExp(d.escapeRegExp("sct-primitive-concept-compact"),"g"),""),a=a.replace(new RegExp(d.escapeRegExp("sct-defined-concept-compact"),"g"),""),a=a.replace(new RegExp(d.escapeRegExp("sct-attribute-compact"),"g"),"")},this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.removeSemtag=function(a){return a.lastIndexOf("(")>0?a.substr(0,a.lastIndexOf("(")-1):a},this.loadMarkers=function(){var a="",b=0,c=0,e=!1,f=!1;$.each(componentsRegistry,function(a,b){var c=b.divElement.id;$("#"+c+"-subscribersMarker").is(":visible")&&(f=!0)}),0==d.subscribers.length?(b=14,$("#"+d.divElement.id+"-ownMarker").hide()):(f||$("#"+d.divElement.id+"-ownMarker").hide(),e=!0),$("#"+d.divElement.id+"-subscribersMarker").is(":visible")&&($("#"+d.divElement.id+"-panelTitle").html($("#"+d.divElement.id+"-panelTitle").html().replace(/&nbsp;/g,"")),e&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),$.each(d.subscriptionsColor,function(e,f){a=a+"<i class='glyphicon glyphicon-bookmark' style='color: "+f+"; top:"+c+"px; right: "+b+"px;'></i>",$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),c+=5,b+=10}),$("#"+d.divElement.id+"-subscribersMarker").html(a))},this.subscribe=function(a){var b=a.divElement.id,c=!1;if($.each(d.subscriptionsColor,function(b,d){d==a.markerColor&&(c=!0)}),!c){var e=channel.subscribe(b,function(a){d.conceptId=a.conceptId,d.updateCanvas()});d.subscriptions.push(e),a.subscribers.push(d.divElement.id),d.subscriptionsColor.push(a.markerColor)}$("#"+b+"-ownMarker").show(),$("#"+d.divElement.id+"-subscribersMarker").show(),$("#"+b+"-ownMarker").show()},this.unsubscribe=function(a){var b=[],c=[],e=!0;$.each(d.subscriptionsColor,function(b,d){d!=a.markerColor?c.push(d):e=!1}),e||(d.subscriptionsColor=c,c=[],$.each(a.subscribers,function(a,c){c!=d.divElement.id&&b.push(c)}),a.subscribers=b,$.each(a.subscriptionsColor,function(a,b){c.push(b)}),0==a.subscribers.length&&0==a.subscriptions.length&&$("#"+a.divElement.id+"-subscribersMarker").hide(),a.subscriptionsColor=c,b=[],$.each(d.subscriptions,function(c,d){a.divElement.id==d.topic?d.unsubscribe():b.push(d)}),d.subscriptions=b,0==d.subscriptions.length&&0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide())},this.setupOptionsPanel=function(){var a=[];$.each(componentsRegistry,function(b,c){if(c.divElement.id!=d.divElement.id){var e={};e.subscriptions=c.subscriptions,e.id=c.divElement.id,a.push(e)}});var b=!1;$.each(a,function(a,c){b=!1,$.each(d.subscriptions,function(a,d){c.id==d.topic&&(b=!0)}),c.subscribed=b,b=!1,$.each(c.subscriptions,function(a,c){c.topic==d.divElement.id&&(b=!0)}),c.subscriptor=b}),d.options.possibleSubscribers=a;var c={options:d.options,divElementId:d.divElement.id};Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),$("#"+d.divElement.id+"-modal-body").html(JST["views/conceptDetailsPlugin/options.hbs"](c))},this.readOptionsPanel=function(){d.options.displaySynonyms=$("#"+d.divElement.id+"-displaySynonymsOption").is(":checked"),d.options.showIds=$("#"+d.divElement.id+"-displayIdsOption").is(":checked"),d.options.displayChildren=$("#"+d.divElement.id+"-childrenOption").is(":checked"),d.options.hideNotAcceptable=$("#"+d.divElement.id+"-hideNotAcceptableOption").is(":checked"),d.options.displayInactiveDescriptions=$("#"+d.divElement.id+"-displayInactiveDescriptionsOption").is(":checked"),d.options.diagrammingMarkupEnabled=$("#"+d.divElement.id+"-diagrammingMarkupEnabledOption").is(":checked"),d.options.selectedView=$("#"+d.divElement.id+"-relsViewOption").val(),d.options.langRefset=$("#"+d.divElement.id+"-langRefsetOption").val(),d.options.displayChildren=$("#"+d.divElement.id+"-displayChildren").is(":checked"),$.each(d.options.possibleSubscribers,function(a,b){b.subscribed=$("#"+d.divElement.id+"-subscribeTo-"+b.id).is(":checked"),b.subscriptor=$("#"+d.divElement.id+"-subscriptor-"+b.id).is(":checked");var c={};$.each(componentsRegistry,function(a,d){d.divElement.id==b.id&&(c=d)}),b.subscribed?d.subscribe(c):d.unsubscribe(c),b.subscriptor?c.subscribe(d):c.unsubscribe(d)}),$.each(componentsRegistry,function(a,b){b.loadMarkers()}),d.updateCanvas()}}function updateCD(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(d.conceptId=b,d.updateCanvas(),channel.publish(d.divElement.id,{term:d.term,conceptId:d.conceptId,module:d.module,source:d.divElement.id}))}),$(".history-button").popover("hide")}function getRandomColor(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.round(15*Math.random())];return b}function drawConceptDiagram(a,b,c){var d=[],e=[];"stated"==c.selectedView?$.each(a.statedRelationships,function(a,b){1==b.active&&(116680003==b.type.conceptId?d.push(b):e.push(b))}):a.relationships&&$.each(a.relationships,function(a,b){1==b.active&&(116680003==b.type.conceptId?d.push(b):e.push(b))});var f={divElementId:b.attr("id")};console.log(f),b.html(JST["views/conceptDetailsPlugin/tabs/details/diagram.hbs"](f));var g=$("#"+b.attr("id")+"-diagram-body");g.svg("destroy"),g.svg({settings:{width:"1000px",height:"2000px"}});var h=g.svg("get");loadDefs(h);var i=10,j=10,k=10,l="";l="Primitive"==a.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var m=drawSctBox(h,i,j,a.defaultTerm,a.conceptId,l);i+=90,j=j+m.getBBox().height+40;var n;n="Primitive"==a.definitionStatus?drawSubsumedByNode(h,i,j):drawEquivalentNode(h,i,j),connectElements(h,m,n,"bottom-50","left"),i+=55;var o=drawConjunctionNode(h,i,j);connectElements(h,n,o,"right","left","LineMarker"),i+=40,j-=18,k=i>k?i:k,l="sct-defined-concept",$.each(d,function(a,b){l="Primitive"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(h,i,j,b.target.defaultTerm,b.target.conceptId,l);connectElements(h,o,c,"center","left","ClearTriangle"),j=j+c.getBBox().height+25,k=k<i+c.getBBox().width+50?i+c.getBBox().width+50:k});var p=0;$.each(e,function(a,b){if(l="Primitive"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept",0==b.groupId){var c=drawSctBox(h,i,j,b.type.defaultTerm,b.type.conceptId,"sct-attribute");connectElements(h,o,c,"center","left");var d=drawSctBox(h,i+c.getBBox().width+50,j,b.target.defaultTerm,b.target.conceptId,l);connectElements(h,c,d,"right","left"),j=j+d.getBBox().height+25,k=k<i+c.getBBox().width+50+d.getBBox().width+50?i+c.getBBox().width+50+d.getBBox().width+50:k}else b.groupId>p&&(p=b.groupId)}),j+=15;for(var q=1;p>=q;q++){var r=drawAttributeGroupNode(h,i,j);connectElements(h,o,r,"center","left");var s=drawConjunctionNode(h,i+55,j);connectElements(h,r,s,"right","left"),$.each(e,function(a,b){if(b.groupId==q){l="Primitive"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(h,i+85,j-18,b.type.defaultTerm,b.type.conceptId,"sct-attribute");connectElements(h,s,c,"center","left");var d=drawSctBox(h,i+85+c.getBBox().width+30,j-18,b.target.defaultTerm,b.target.conceptId,l);connectElements(h,c,d,"right","left"),j=j+d.getBBox().height+25,k=k<i+85+c.getBBox().width+30+d.getBBox().width+50?i+85+c.getBBox().width+30+d.getBBox().width+50:k}})}var t='<?xml version="1.0" encoding="UTF-8" standalone="no"?>'+g.html();t=t.substr(0,t.indexOf("svg")+4)+' xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://web.resource.org/cc/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" '+t.substr(t.indexOf("svg")+5),t=t.replace('width="1000px" height="2000px"','width="'+k+'" height="'+j+'"');Base64.encode(t);$("#"+b.attr("id")+"-download-button").disableTextSelect(),$("#"+b.attr("id")+"-progress-button").disableTextSelect(),$("#"+b.attr("id")+"-png-button").disableTextSelect(),$("#"+b.attr("id")+"-svg-button").disableTextSelect(),$("#"+b.attr("id")+"-download-button").removeClass("disabled"),$("#"+b.attr("id")+"-download-button").unbind().click(function(){$("#"+b.attr("id")+"-download-button").hide(),$("#"+b.attr("id")+"-progress-button").show(),$.post(c.serverUrl.replace("snomed","")+"util/svg2png",{svgContent:t}).done(function(a){$("#"+b.attr("id")+"-progress-button").hide(),$("#"+b.attr("id")+"-png-button").show(),$("#"+b.attr("id")+"-svg-button").show(),$("#"+b.attr("id")+"-png-button").unbind().click(function(){window.open(c.serverUrl.replace("snomed","")+a)
}),$("#"+b.attr("id")+"-svg-button").unbind().click(function(){window.open(c.serverUrl.replace("snomed","")+a.replace(".png",".svg"))})}).fail(function(){console.log("Error")})})}function saveAsPng(a){var b=document.createElement("canvas");b.id="canvas",document.body.appendChild(b),canvg(document.getElementById("canvas"),a),Canvas2Image.saveAsPNG(b),b.width=b.width}function searchPanel(a,b){var c=null,d=this,e="",f=null;"undefined"==typeof componentsRegistry&&(componentsRegistry=[]),this.markerColor="black","undefined"==typeof globalMarkerColor&&(globalMarkerColor="black"),this.type="search",this.divElement=a,this.options=jQuery.extend(!0,{},b);var g=!1;d.shown0=!1,$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(g=!0)}),0==g&&componentsRegistry.push(d),d.subscribers=[],d.subscriptions=[],d.subscriptionsColor=[],this.history=[],this.setupCanvas=function(){var f={divElementId:d.divElement.id};$(a).html(JST["views/searchPlugin/main.hbs"](f)),$("#"+d.divElement.id+"-searchBox").keyup(function(){clearTimeout(c);var a=$(this);c=setTimeout(function(){d.search(a.val(),0,100,!1)},500)}),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-clearButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id).find(".semtag-button").click(function(){console.log("Semtag click: "+$(this).html())}),"fullText"!=b.searchMode&&$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),$("#"+d.divElement.id+"-configButton").click(function(){d.setupOptionsPanel()}),"undefined"!=typeof d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),"undefined"!=typeof d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),"undefined"!=typeof d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show()}),$("#"+d.divElement.id+"-collapseButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide()}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Panel options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel()}),$("#"+d.divElement.id+"-clearButton").click(function(){d.options.semTagFilter="none",d.options.langFilter="none",d.options.moduleFilter="none",$("#"+d.divElement.id+"-searchBox").val(""),$("#"+d.divElement.id+"-searchFilters").html(""),$("#"+d.divElement.id+"-resultsTable").html(""),$("#"+d.divElement.id+"-searchBar").html(""),$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-success"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").addClass("text-danger"),e=""}),$("#"+d.divElement.id+"-historyButton").click(function(){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){historyHtml='<div style="height:100px;overflow:auto;">',"undefined"==typeof i18n_no_search_terms&&(i18n_no_search_terms="No search terms"),0==d.history.length&&(historyHtml=historyHtml+'<div class="text-center text-muted" style="width:100%"><em>'+i18n_no_search_terms+"</span>...</em></div>"),historyHtml+="<table>";var a=d.history.slice(0);return a.reverse(),$.each(a,function(a,b){var c=new Date,e=c.getTime(),f=e-b.time,g="";6e4>f?g=1==Math.round(f/1e3)?Math.round(f/1e3)+" second ago":Math.round(f/1e3)+" seconds ago":36e5>f?g=1==Math.round(f/1e3/60)?Math.round(f/1e3/60)+" minute ago":Math.round(f/1e3/60)+" minutes ago":216e6>f&&(g=1==Math.round(f/1e3/60/60)?Math.round(f/1e3/60/60)+" hour ago":Math.round(f/1e3/60/60)+" hours ago"),historyHtml=historyHtml+'<tr><td><a href="javascript:void(0);" onclick="searchInPanel(\''+d.divElement.id+"','"+b.searchTerm+"');\">"+b.searchTerm+"</a>",historyHtml=historyHtml+' <span class="text-muted" style="font-size: 80%"><em>'+g+"<em></span>",historyHtml+="</td></tr>"}),historyHtml+="</table>",historyHtml+="</div>"}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),$("#"+d.divElement.id+"-fullTextButton").click(function(){d.options.searchMode="fullText",d.updateSearchLabel();var a=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").show(),"^"==a.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val(a.slice(1)),a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-partialMatchingButton").click(function(){d.options.searchMode="partialMatching",d.updateSearchLabel();var a=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),"^"==a.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val(a.slice(1)),a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-regexButton").click(function(){d.options.searchMode="regex",d.updateSearchLabel();var a=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),"^"!=a.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val("^"+a),a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-danishLangButton").click(function(){d.options.searchLang="danish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_danish_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-englishLangButton").click(function(){d.options.searchLang="english",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_english_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-spanishLangButton").click(function(){d.options.searchLang="spanish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_spanish_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-swedishLangButton").click(function(){d.options.searchLang="swedish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_swedish_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),d.updateStatusFilterLabel(),$("#"+d.divElement.id+"-activeOnlyButton").click(function(){d.options.statusSearchFilter="activeOnly",d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-activeInactiveButton").click(function(){d.options.statusSearchFilter="activeAndInactive",d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-inactiveOnlyButton").click(function(){d.options.statusSearchFilter="inactiveOnly",d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-partialMatchingButton").click(),$("#"+d.divElement.id+"-ownMarker").css("color",d.markerColor)},this.setupOptionsPanel=function(){var a=[];$.each(componentsRegistry,function(b,c){if(c.divElement.id!=d.divElement.id){var e={};e.subscriptions=c.subscriptions,e.id=c.divElement.id,a.push(e)}});var b=!1;$.each(a,function(a,c){b=!1,$.each(d.subscriptions,function(a,d){c.id==d.topic&&(b=!0)}),c.subscribed=b,b=!1,$.each(c.subscriptions,function(a,c){c.topic==d.divElement.id&&(b=!0)}),c.subscriptor=b}),d.options.possibleSubscribers=a;var c={options:d.options,divElementId:d.divElement.id};$("#"+d.divElement.id+"-modal-body").html(JST["views/taxonomyPlugin/options.hbs"](c))},this.readOptionsPanel=function(){$.each(d.options.possibleSubscribers,function(a,b){b.subscribed=$("#"+d.divElement.id+"-subscribeTo-"+b.id).is(":checked"),b.subscriptor=$("#"+d.divElement.id+"-subscriptor-"+b.id).is(":checked");var c={};$.each(componentsRegistry,function(a,d){d.divElement.id==b.id&&(c=d)}),b.subscribed?d.subscribe(c):d.unsubscribe(c),b.subscriptor?c.subscribe(d):c.unsubscribe(d)}),$.each(componentsRegistry,function(a,b){b.loadMarkers()})},this.updateStatusFilterLabel=function(){"undefined"==typeof i18n_active_and_inactive&&(i18n_active_and_inactive="Active and Inactive"),"undefined"==typeof i18n_inactive_only&&(i18n_inactive_only="Inactive Only"),"undefined"==typeof i18n_active_only&&(i18n_active_only="Active Only"),"activeAndInactive"==d.options.statusSearchFilter?$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_active_and_inactive):"inactiveOnly"==d.options.statusSearchFilter?$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_inactive_only):(d.options.statusSearchFilter="activeOnly",$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_active_only));var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)},this.search=function(a,c,g,h){if("undefined"==typeof d.options.searchMode&&(d.options.searchMode="partialMatching"),"undefined"==typeof d.options.semTagFilter&&(d.options.semTagFilter="none"),"undefined"==typeof d.options.langFilter&&(d.options.langFilter="none"),"undefined"==typeof d.options.moduleFilter&&(d.options.moduleFilter="none"),"undefined"==typeof h&&(h=!1),""!=a&&(a!=e||h))if(a.length<3)$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-success"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").addClass("text-danger");else{$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-danger"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").addClass("text-success"),a!=e&&(d.options.semTagFilter="none",d.options.langFilter="none",d.options.moduleFilter="none"),e=a;var i=new Date,j=i.getTime();d.history.push({searchTerm:a,time:j}),$("#"+d.divElement.id+"-searchFilters").html(""),0==c?$("#"+d.divElement.id+"-resultsTable").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"):$("#"+d.divElement.id+"-resultsTable").find(".more-row").html("<td colspan='2' class='text-center'><i class='glyphicon glyphicon-refresh icon-spin'></i>&nbsp;&nbsp;</td>");var k="";if(null!=f&&(f.abort(),console.log("aborting call...")),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'>Searching..</span>"),a=a.trim(),isNumber(a))"0"==a.substr(-2,1)?f=$.getJSON(b.serverUrl+"/"+b.edition+"/"+b.release+"/concepts/"+a,function(){}).done(function(a){Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var b=[];$.each(a.descriptions,function(a,c){var e=c;c.active?("activeOnly"==d.options.statusSearchFilter&&b.push(e),"activeAndInactive"==d.options.statusSearchFilter&&b.push(e)):(e.danger=!0,"inactiveOnly"==d.options.statusSearchFilter&&b.push(e),"activeAndInactive"==d.options.statusSearchFilter&&b.push(e))}),a.descriptions=b;var c={result:a};$("#"+d.divElement.id+"-resultsTable").html(JST["views/searchPlugin/body/0.hbs"](c)),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:d.divElement.id})})}):"1"==a.substr(-2,1)?f=$.getJSON(b.serverUrl+"/"+b.edition+"/"+b.release+"/descriptions/"+a,function(){}).done(function(a){Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var b={result:a};$("#"+d.divElement.id+"-resultsTable").html(JST["views/searchPlugin/body/1.hbs"](b)),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:d.divElement.id})})}):(k+="<tr><td class='text-muted'>No results</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(k),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"));else{"partialMatching"==d.options.searchMode&&(a=a.toLowerCase());var l=Date.now(),m=b.serverUrl+"/"+b.edition+"/"+b.release+"/descriptions?query="+a+"&limit=50&searchMode="+d.options.searchMode+"&lang="+d.options.searchLang+"&statusFilter="+d.options.statusSearchFilter+"&skipTo="+c+"&returnLimit="+g;"none"!=d.options.semTagFilter&&(m=m+"&semanticFilter="+d.options.semTagFilter),"none"!=d.options.langFilter&&(m=m+"&langFilter="+d.options.langFilter),"none"!=d.options.moduleFilter&&(m=m+"&moduleFilter="+d.options.moduleFilter),f=$.getJSON(m,function(){}).done(function(b){$("#"+d.divElement.id+"-resultsTable").find(".more-row").remove();var e=Date.now(),h=(e-l)/1e3;Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var i={result:b,elapsed:h,divElementId:d.divElement.id,options:d.options};if($("#"+d.divElement.id+"-searchBar").html(JST["views/searchPlugin/body/bar.hbs"](i)),$("#"+d.divElement.id+"-searchBar").find(".semtag-link").click(function(b){d.options.semTagFilter=$(b.target).attr("data-semtag"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".module-link").click(function(b){d.options.moduleFilter=$(b.target).attr("data-module"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".lang-link").click(function(b){d.options.langFilter=$(b.target).attr("data-lang"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-semtag").click(function(){d.options.semTagFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-lang").click(function(){d.options.langFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-module").click(function(){d.options.moduleFilter="none",d.search(a,0,g,!0)}),b.details){"<span class='text-muted'>"+b.details.total+" matches found in "+h+" seconds.</span>"}f=null;var j=(b.matches,b.details.total-(c+g));"regex"==d.options.searchMode&&b.matches.sort(function(a,b){return a.term.length<b.term.length?-1:a.term.length>b.term.length?1:0}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gr",function(a,b,c){return a?a>parseInt(b)?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gre",function(a,b,c){return a?parseInt(a)>=b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)});var i={result:b,divElementId:d.divElement.id,remaining:j,returnLimit:g};0==c?$("#"+d.divElement.id+"-resultsTable").html(JST["views/searchPlugin/body/default.hbs"](i)):$("#"+d.divElement.id+"-resultsTable").append(JST["views/searchPlugin/body/default.hbs"](i)),$("#"+d.divElement.id+"-more").click(function(){d.search(a,parseInt(c)+parseInt(g),g,!0)}),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:$(a.target).attr("data-concept-id"),source:d.divElement.id})})}).fail(function(){k+="<tr><td class='text-muted'>No results</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(k)})}}},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},d.markerColor=d.getNextMarkerColor(globalMarkerColor),this.subscribe=function(a){var b=a.divElement.id,c=!1;if($.each(d.subscriptionsColor,function(b,d){d==a.markerColor&&(c=!0)}),!c){var e=channel.subscribe(b,function(a){d.options.searchMode="fullText",d.search(a.conceptId,0,100,!1),$("#"+d.divElement.id+"-searchBox").val(a.term)});d.subscriptions.push(e),a.subscribers.push(d.divElement.id),d.subscriptionsColor.push(a.markerColor)}$("#"+b+"-ownMarker").show(),$("#"+d.divElement.id+"-subscribersMarker").show(),$("#"+b+"-subscribersMarker").show()},this.unsubscribe=function(a){var b=[],c=[],e=!0;$.each(d.subscriptionsColor,function(b,d){d!=a.markerColor?c.push(d):e=!1}),e||(d.subscriptionsColor=c,c=[],$.each(a.subscribers,function(a,c){c!=d.divElement.id&&b.push(c)}),a.subscribers=b,$.each(a.subscriptionsColor,function(a,b){c.push(b)}),0==a.subscribers.length&&0==a.subscriptions.length&&$("#"+a.divElement.id+"-subscribersMarker").hide(),a.subscriptionsColor=c,b=[],$.each(d.subscriptions,function(c,d){a.divElement.id==d.topic?d.unsubscribe():b.push(d)}),d.subscriptions=b,0==d.subscriptions.length&&0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide())},this.loadMarkers=function(){var a="",b=0,c=0,e=!1,f=!1;$.each(componentsRegistry,function(a,b){var c=b.divElement.id;$("#"+c+"-subscribersMarker").is(":visible")&&(f=!0)}),0==d.subscribers.length?(b=14,$("#"+d.divElement.id+"-ownMarker").hide()):(f||$("#"+d.divElement.id+"-ownMarker").hide(),e=!0),$("#"+d.divElement.id+"-subscribersMarker").is(":visible")&&($("#"+d.divElement.id+"-panelTitle").html($("#"+d.divElement.id+"-panelTitle").html().replace(/&nbsp;/g,"")),e&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),$.each(d.subscriptionsColor,function(e,f){a=a+"<i class='glyphicon glyphicon-bookmark' style='color: "+f+"; top:"+c+"px; right: "+b+"px;'></i>",$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),c+=5,b+=10}),$("#"+d.divElement.id+"-subscribersMarker").html(a))},this.updateSearchLabel=function(){"undefined"==typeof d.options.searchMode&&(d.options.searchMode="partialMatching"),"undefined"==typeof i18n_search_examp_1&&(i18n_search_examp_1="Example 1"),"undefined"==typeof i18n_search_examp_2&&(i18n_search_examp_2="Example 2"),"undefined"==typeof i18n_search_examp_3&&(i18n_search_examp_3="Example 3"),"undefined"==typeof i18n_regex_search_mode&&(i18n_regex_search_mode="Regex"),"undefined"==typeof i18n_partial_match_search_mode&&(i18n_partial_match_search_mode="Partial"),"undefined"==typeof i18n_full_text_search_mode&&(i18n_full_text_search_mode="Full"),"regex"==d.options.searchMode?($("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_1'>"+i18n_search_examp_1+"</span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_regex_search_mode'>"+i18n_regex_search_mode+"</span>")):"fullText"==d.options.searchMode?($("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_2'>"+i18n_search_examp_2+"</em></span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_full_text_search_mode'>"+i18n_full_text_search_mode+"</span>")):"partialMatching"==d.options.searchMode&&($("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_3'>"+i18n_search_examp_3+"</span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>"+i18n_partial_match_search_mode+"</span>")),"undefined"==typeof d.options.searchLang&&(d.options.searchLang="english"),"undefined"==typeof i18n_danish_stemmer&&(i18n_danish_stemmer="Danish Stemmer"),"undefined"==typeof i18n_english_stemmer&&(i18n_english_stemmer="English Stemmer"),"undefined"==typeof i18n_spanish_stemmer&&(i18n_spanish_stemmer="Spanish Stemmer"),"danish"==d.options.searchLang?$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_danish_stemmer'>"+i18n_danish_stemmer+"</span>"):"english"==d.options.searchLang?$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_english_stemmer'>"+i18n_english_stemmer+"</span>"):"spanish"==d.options.searchLang&&$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_spanish_stemmer'>"+i18n_spanish_stemmer+"</span>")},this.setupCanvas(),this.updateSearchLabel()}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function clearSearchPanelSubscriptions(a){var b;$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(b=d)}),b.unsubscribeAll(),$("#"+a).find(".linker-button").popover("toggle")}function searchInPanel(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&($("#"+a+"-searchBox").val(b),d.search(b,0,100,!1))}),$(".history-button").popover("hide")}function drawSctBox(a,b,c,d,e,f){var g="Test";d&&e?g=d.length>e.toString().length?d:e.toString():d?g=d:e&&(g=e.toString());var h='"Helvetica Neue",Helvetica,Arial,sans-serif',i=a.text(b,c,g,{fontFamily:h,fontSize:"12",fill:"black"}),j=i.getBBox().height,k=i.getBBox().width;k=Math.round(1.2*k),a.remove(i);var l=null,m=20,n=25;if(e&&d||(n=15),"sct-primitive-concept"==f)l=a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"#99ccff",stroke:"#333",strokeWidth:2});else if("sct-defined-concept"==f){l=a.rect(b-2,c-2,k+m+4,j+n+4,{fill:"white",stroke:"#333",strokeWidth:1});{a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"#ccccff",stroke:"#333",strokeWidth:1})}}else if("sct-attribute"==f){l=a.rect(b-2,c-2,k+m+4,j+n+4,18,18,{fill:"white",stroke:"#333",strokeWidth:1});{a.rect(b,c,k+m,j+n,18,18,{id:"rect"+idSequence,fill:"#ffffcc",stroke:"#333",strokeWidth:1})}}else l="sct-slot"==f?a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"#99ccff",stroke:"#333",strokeWidth:2}):a.rect(b,c,k+m,j+n,{id:"rect"+idSequence,fill:"white",stroke:"black",strokeWidth:1});return e&&d?(a.text(b+10,c+16,e.toString(),{fontFamily:h,fontSize:"10",fill:"black"}),a.text(b+10,c+31,d,{fontFamily:h,fontSize:"12",fill:"black"})):d?a.text(b+10,c+18,d,{fontFamily:h,fontSize:"12",fill:"black"}):e&&a.text(b+10,c+18,e.toString(),{fontFamily:h,fontSize:"12",fill:"black"}),idSequence++,$("rect").click(function(a){console.log(a.target)}),l}function connectElements(a,b,c,d,e,f){var g=b.getBBox().x,h=b.getBBox().y,i=b.getBBox().width,j=b.getBBox().height,k=c.getBBox().x,l=c.getBBox().y,m=c.getBBox().width,n=c.getBBox().height,o=15,p=15;switch(d){case"top":originY=h,originX=g+i/2;break;case"bottom":originY=h+j,originX=g+i/2;break;case"left":originX=g-o,originY=h+j/2;break;case"right":originX=g+i,originY=h+j/2;break;case"bottom-50":originY=h+j,originX=g+40;break;default:originX=g+i/2,originY=h+j/2}switch(e){case"top":destinationY=l,destinationX=k+m/2;break;case"bottom":destinationY=l+n,destinationX=k+m/2;break;case"left":destinationX=k-p,destinationY=l+n/2;break;case"right":destinationX=k+m,destinationY=l+n/2;break;case"bottom-50":destinationY=l+n,destinationX=k+50;break;default:destinationX=k+m/2,destinationY=l+n/2}null==f&&(f="BlackTriangle"),polyline1=a.polyline([[originX,originY],[originX,destinationY],[destinationX,destinationY]],{id:"poly1",fill:"none",stroke:"black",strokeWidth:2,"marker-end":"url(#"+f+")"})}function loadDefs(a){var b=a.defs("SctDiagramsDefs");blackTriangle=a.marker(b,"BlackTriangle",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",fill:"black",stroke:"black",strokeWidth:2}),a.path(blackTriangle,"M 0 0 L 20 10 L 0 20 z"),clearTriangle=a.marker(b,"ClearTriangle",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",fill:"white",stroke:"black",strokeWidth:2}),a.path(clearTriangle,"M 0 0 L 20 10 L 0 20 z"),lineMarker=a.marker(b,"LineMarker",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",fill:"white",stroke:"black",strokeWidth:2}),a.path(lineMarker,"M 0 10 L 20 10")}function drawAttributeGroupNode(a,b,c){return circle=a.circle(b,c,20,{fill:"white",stroke:"black",strokeWidth:2})}function drawConjunctionNode(a,b,c){return circle=a.circle(b,c,10,{fill:"black",stroke:"black",strokeWidth:2})}function drawEquivalentNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-5,b+7,c-5,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c,b+7,c,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+5,b+7,c+5,{stroke:"black",strokeWidth:2}),g}function drawSubsumedByNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-8,b+7,c-8,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+3,b+7,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-6,c-8,b-6,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+7,b+7,c+7,{stroke:"black",strokeWidth:2}),g}function drawSubsumesNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-8,b+7,c-8,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+3,b+7,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b+6,c-8,b+6,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+7,b+7,c+7,{stroke:"black",strokeWidth:2}),g}function taxonomyPanel(a,b,c){var d=this,e=null;"undefined"==typeof componentsRegistry&&(componentsRegistry=[]),this.markerColor="black","undefined"==typeof globalMarkerColor&&(globalMarkerColor="black"),this.type="taxonomy",this.divElement=a,this.options=jQuery.extend(!0,{},c);var f=!1;$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(f=!0)}),0==f&&componentsRegistry.push(d),d.default={},d.default.conceptId=b,d.subscribers=[],d.subscriptions=[],d.subscriptionsColor=[],this.history=[],this.setupCanvas=function(){var b={divElementId:d.divElement.id};$(a).html(JST["views/taxonomyPlugin/main.hbs"](b)),$("#"+d.divElement.id+"-resetButton").disableTextSelect(),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id+"-closeButton").click(function(){$(a).remove()}),$("#"+d.divElement.id+"-configButton").click(function(){d.setupOptionsPanel()}),"undefined"!=typeof d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),"undefined"!=typeof d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),"undefined"!=typeof d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show()}),$("#"+d.divElement.id+"-collapseButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide()}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_reset&&(i18n_reset="Reset"),$("#"+d.divElement.id+"-resetButton").tooltip({placement:"left",trigger:"hover",title:i18n_reset,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-resetButton").click(function(){d.setToConcept(d.default.conceptId)}),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel()}),$("#"+d.divElement.id+"-historyButton").click(function(){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){historyHtml='<div style="height:100px;overflow:auto;">',"undefined"==typeof i18n_no_terms&&(i18n_no_terms="No terms"),0==d.history.length&&(historyHtml=historyHtml+'<div class="text-center text-muted" style="width:100%"><em>'+i18n_no_terms+"</span>...</em></div>"),historyHtml+="<table>";var a=d.history.slice(0);return a.reverse(),$.each(a,function(a,b){var c=new Date,e=c.getTime(),f=e-b.time,g="";6e4>f?g=1==Math.round(f/1e3)?Math.round(f/1e3)+" second ago":Math.round(f/1e3)+" seconds ago":36e5>f?g=1==Math.round(f/1e3/60)?Math.round(f/1e3/60)+" minute ago":Math.round(f/1e3/60)+" minutes ago":216e6>f&&(g=1==Math.round(f/1e3/60/60)?Math.round(f/1e3/60/60)+" hour ago":Math.round(f/1e3/60/60)+" hours ago"),historyHtml=historyHtml+'<tr><td><a href="javascript:void(0);" onclick="historyInTaxPanel(\''+d.divElement.id+"','"+b.conceptId+"');\">"+b.term+"</a>",historyHtml=historyHtml+' <span class="text-muted" style="font-size: 80%"><em>'+g+"<em></span>",historyHtml+="</td></tr>"}),historyHtml+="</table>",historyHtml+="</div>"}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),$("#"+d.divElement.id+"-inferredViewButton").click(function(){d.options.selectedView="inferred",$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"),d.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}),$("#"+d.divElement.id+"-statedViewButton").click(function(){d.options.selectedView="stated",$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),d.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}),$("#"+d.divElement.id+"-ownMarker").css("color",d.markerColor)},this.setupOptionsPanel=function(){var a=[];$.each(componentsRegistry,function(b,c){if(c.divElement.id!=d.divElement.id){var e={};e.subscriptions=c.subscriptions,e.id=c.divElement.id,a.push(e)}});var b=!1;$.each(a,function(a,c){b=!1,$.each(d.subscriptions,function(a,d){c.id==d.topic&&(b=!0)}),c.subscribed=b,b=!1,$.each(c.subscriptions,function(a,c){c.topic==d.divElement.id&&(b=!0)}),c.subscriptor=b}),d.options.possibleSubscribers=a;var c={options:d.options,divElementId:d.divElement.id};$("#"+d.divElement.id+"-modal-body").html(JST["views/taxonomyPlugin/options.hbs"](c))},this.readOptionsPanel=function(){$.each(d.options.possibleSubscribers,function(a,b){b.subscribed=$("#"+d.divElement.id+"-subscribeTo-"+b.id).is(":checked"),b.subscriptor=$("#"+d.divElement.id+"-subscriptor-"+b.id).is(":checked");var c={};$.each(componentsRegistry,function(a,d){d.divElement.id==b.id&&(c=d)}),b.subscribed?d.subscribe(c):d.unsubscribe(c),b.subscriptor?c.subscribe(d):c.unsubscribe(d)}),$.each(componentsRegistry,function(a,b){b.loadMarkers()})},this.setupParents=function(a,b){var e;$.each(a,function(a,b){e=b}),Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)
}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gr",function(a,b,c){return a>b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("if_def",function(a,b){return a==d.default.conceptId?b.fn(this):b.inverse(this)});var f={parents:a,focusConcept:b,divElementId:d.divElement.id};Handlebars.registerHelper("slice",function(a,b){$("#"+d.divElement.id+"-panelBody").html($("#"+d.divElement.id+"-panelBody").html().slice(a,b))}),$("#"+d.divElement.id+"-panelBody").html(JST["views/taxonomyPlugin/body/parents.hbs"](f)),$(".treeButton").disableTextSelect(),$("#"+d.divElement.id+"-panelBody").unbind("dblclick"),$("#"+d.divElement.id+"-panelBody").dblclick(function(a){if($(a.target).hasClass("treeLabel")){var b=new Date,e=b.getTime(),f=$(a.target).attr("data-module"),g=$(a.target).attr("data-concept-id"),h=$(a.target).attr("data-term");d.history.push({term:h,conceptId:g,time:e}),"undefined"!=typeof g&&$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+g+"/parents?form="+d.options.selectedView,function(){}).done(function(a){d.setupParents(a,{conceptId:g,defaultTerm:h,definitionStatus:"Primitive",module:f})}).fail(function(){})}}),$("#"+d.divElement.id+"-panelBody").unbind("click"),$("#"+d.divElement.id+"-panelBody").click(function(a){if($(a.target).hasClass("treeButton")){var b=$(a.target).closest("li").attr("data-concept-id"),c=d.divElement.id+"-treeicon-"+b;a.preventDefault(),$("#"+c).hasClass("glyphicon-chevron-down")?($(a.target).closest("li").find("ul").remove(),$("#"+c).removeClass("glyphicon-chevron-down"),$("#"+c).addClass("glyphicon-chevron-right")):$("#"+c).hasClass("glyphicon-chevron-right")?($("#"+c).removeClass("glyphicon-chevron-right"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.getChildren($(a.target).closest("li").attr("data-concept-id"))):$("#"+c).hasClass("glyphicon-chevron-up")?($("#"+c).removeClass("glyphicon-chevron-up"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.wrapInParents($(a.target).closest("li").attr("data-concept-id"),$(a.target).closest("li"))):$("#"+c).hasClass("glyphicon-minus")}else if($(a.target).hasClass("treeLabel")){var e=$(a.target).attr("data-concept-id");"undefined"!=typeof e&&channel.publish(d.divElement.id,{term:$(a.target).attr("data-term"),module:$(a.target).attr("data-module"),conceptId:e,source:d.divElement.id})}});var g=d.divElement.id+"-treeicon-"+b.conceptId;$("#"+g).removeClass("glyphicon-chevron-right"),$("#"+g).addClass("glyphicon-refresh"),$("#"+g).addClass("icon-spin"),d.getChildren(b.conceptId)},this.getChildren=function(a){"undefined"==typeof d.options.selectedView&&(d.options.selectedView="inferred"),$("#"+d.divElement.id+"-txViewLabel").html("inferred"==d.options.selectedView?"<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>":"<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/children?form="+d.options.selectedView,function(){}).done(function(b){b.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0});var c=[],e={result:b,divElementId:d.divElement.id,selectedView:d.options.selectedView};Handlebars.registerHelper("hasCountryIcon",function(a,b){return countryIcons[a]?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("push",function(a){c.push(a)}),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass(b.length>0?"glyphicon-chevron-down":"glyphicon-minus"),$("#"+d.divElement.id+"-treenode-"+a).after(JST["views/taxonomyPlugin/body/children.hbs"](e)),$(".treeButton").disableTextSelect()}).fail(function(){$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus")})},this.wrapInParents=function(a){var b=$("#"+d.divElement.id+"-panelBody").find("ul:first");$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/parents?form="+d.options.selectedView,function(){}).done(function(c){if(c.length>0){var e="empty",f=[];$.each(c,function(a,b){var c="<li data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"' class='treeLabel'>";c+="<button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-",c+=b.conceptId==d.default.conceptId?"down":"up",c=c+" treeButton'  id='"+d.divElement.id+"-treeicon-"+b.conceptId+"'></i></button>",c+="Primitive"==b.definitionStatus?'<span class="badge alert-warning">&nbsp;</span>&nbsp;&nbsp;':'<span class="badge alert-warning">&equiv;</span>&nbsp;&nbsp;',countryIcons[b.module]&&(c=c+"<div class='phoca-flagbox' style='width:33px;height:33px'><span class='phoca-flag "+countryIcons[b.module]+"'></span></div> "),c=c+'<a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span data-concept-id="'+b.conceptId+'" data-term="'+b.defaultTerm+'" draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" id="'+d.divElement.id+"-treenode-"+b.conceptId+'"> '+b.defaultTerm+"</span></a>",c+="</li>",f.push(c),"empty"==e&&(e=b.conceptId)});var g=b.children().slice(0);b.append(f[0]),$("#"+d.divElement.id+"-treenode-"+e).closest("li").append("<ul id='parent-ul-id-"+e+"' style='list-style-type: none; padding-left: 15px;'></ul>");var h;$.each(g,function(b,c){if($(c).attr("data-concept-id")==a){h=$(c);var f=$("#"+d.divElement.id+"-treenode-"+e).closest("li").find("ul:first");f.append($(c)),$(c).find("i:first").removeClass("glyphicon-chevron-up"),$(c).find("i:first").addClass("glyphicon-chevron-down")}}),$.each(g,function(b,c){$(c).attr("data-concept-id")!=a&&($.each($(c).children(),function(a,b){$(b).is("ul")&&h.append(b)}),$("#"+d.divElement.id+"-treenode-"+$(c).attr("data-concept-id")).closest("li").remove())}),$.each(f,function(a,c){c!=f[0]&&b.prepend(c)}),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-down")}else $("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-up")}).fail(function(){})},this.setToConcept=function(a,b,e,f){$("#"+d.divElement.id+"-panelBody").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/parents?form="+d.options.selectedView,function(){}).done(function(g){"Primitive"!=e&&"Fully defined"!=e&&(e="Primitive"),"undefined"==typeof b?$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a,function(c){b=c.defaultTerm,d.setupParents(g,{conceptId:a,defaultTerm:b,definitionStatus:e,module:f})}):d.setupParents(g,{conceptId:a,defaultTerm:b,definitionStatus:e,module:f})}).fail(function(){})},this.subscribe=function(a){var b=a.divElement.id,c=!1;if($.each(d.subscriptionsColor,function(b,d){d==a.markerColor&&(c=!0)}),!c){var e=channel.subscribe(b,function(a){d.setToConcept(a.conceptId,a.term,a.definitionStatus,a.module)});d.subscriptions.push(e),a.subscribers.push(d.divElement.id),d.subscriptionsColor.push(a.markerColor)}$("#"+b+"-ownMarker").show(),$("#"+d.divElement.id+"-subscribersMarker").show(),$("#"+b+"-subscribersMarker").show()},this.refsetSubscribe=function(a){channel.subscribe("refsetSubscription-"+a,function(a){d.setToConcept(a.conceptId)})},this.unsubscribe=function(a){var b=[],c=[],e=!0;$.each(d.subscriptionsColor,function(b,d){d!=a.markerColor?c.push(d):e=!1}),e||(d.subscriptionsColor=c,c=[],$.each(a.subscribers,function(a,c){c!=d.divElement.id&&b.push(c)}),a.subscribers=b,$.each(a.subscriptionsColor,function(a,b){c.push(b)}),0==a.subscribers.length&&0==a.subscriptions.length&&$("#"+a.divElement.id+"-subscribersMarker").hide(),a.subscriptionsColor=c,b=[],$.each(d.subscriptions,function(c,d){a.divElement.id==d.topic?d.unsubscribe():b.push(d)}),d.subscriptions=b,0==d.subscriptions.length&&0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide())},this.loadMarkers=function(){var a="",b=0,c=0,e=!1,f=!1;$.each(componentsRegistry,function(a,b){var c=b.divElement.id;$("#"+c+"-subscribersMarker").is(":visible")&&(f=!0)}),0==d.subscribers.length?(b=14,$("#"+d.divElement.id+"-ownMarker").hide()):(f||$("#"+d.divElement.id+"-ownMarker").hide(),e=!0),$("#"+d.divElement.id+"-subscribersMarker").is(":visible")&&($("#"+d.divElement.id+"-panelTitle").html($("#"+d.divElement.id+"-panelTitle").html().replace(/&nbsp;/g,"")),e&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),$.each(d.subscriptionsColor,function(e,f){a=a+"<i class='glyphicon glyphicon-bookmark' style='color: "+f+"; top:"+c+"px; right: "+b+"px;'></i>",$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp"+$("#"+d.divElement.id+"-panelTitle").html()),c+=5,b+=10}),$("#"+d.divElement.id+"-subscribersMarker").html(a))},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},d.markerColor=d.getNextMarkerColor(globalMarkerColor),this.setupCanvas(),b&&138875005!=b?(null!=e&&(e.abort(),console.log("aborting call...")),e=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+b,function(){}).done(function(a){d.setToConcept(b,a.defaultTerm)}).fail(function(){console.log("Error")})):this.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}function clearTaxonomyPanelSubscriptions(a){var b;$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(b=d)}),b.unsubscribeAll(),$("#"+a).find(".linker-button").popover("toggle")}function historyInTaxPanel(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&d.setToConcept(b)}),$(".history-button").popover("hide")}function removeHighlight(){$(document).find(".drop-highlighted").removeClass("drop-highlighted")}function allowDrop(a){a.preventDefault();var b=$(a.target).closest("div");$(b).addClass("drop-highlighted")}function iconToDrag(a){var b=document.createElement("canvas"),c=b.getContext("2d");b.width=300,b.height=300,c.font="15px sans-serif",c.strokeText(a,10,20);var d=document.createElement("img");return d.src=b.toDataURL(),d}function drag(a,b){var c="",d="",e="";$.each(a.target.attributes,function(){"data"==this.name.substr(0,4)&&(a.dataTransfer.setData(this.name.substr(5),this.value),"concept-id"==this.name.substr(5)&&(e=this.value),"term"==this.name.substr(5)&&(d=this.value))});var f=iconToDrag(d);a.dataTransfer.setDragImage(f,0,0),c=e+"|"+d,a.dataTransfer.setData("Text",c),a.dataTransfer.setData("divElementId",b)}function dropC(a,b){$(document).find(".drop-highlighted").removeClass("drop-highlighted"),a.preventDefault();var c=a.dataTransfer.getData("Text");if("javascript:void(0);"!=c){for(var d=0;"|"!=c.charAt(d);)d++;var e=a.dataTransfer.getData("concept-id");"undefined"==typeof e&&(e=c.substr(0,d));var f=a.dataTransfer.getData("term");"undefined"==typeof f&&(f=c.substr(d));var g,h=a.dataTransfer.getData("panel"),i=b;$.each(componentsRegistry,function(a,b){b.divElement.id==i&&(g=b)}),e?g.conceptId!=e&&(g.conceptId=e,g.updateCanvas(),channel.publish(g.divElement.id,{term:f,conceptId:g.conceptId,source:g.divElement.id})):h&&$.each(componentsRegistry,function(a,b){b.divElement.id==h&&("search"==b.type||"taxonomy"==b.type)&&(g.subscribe(b),g.setupOptionsPanel())})}}function dropT(a,b){$(document).find(".drop-highlighted").removeClass("drop-highlighted"),a.preventDefault();var c=a.dataTransfer.getData("Text");if("javascript:void(0);"!=c){for(var d=0;"|"!=c.charAt(d);)d++;var e,f=b,g=a.dataTransfer.getData("panel"),h=a.dataTransfer.getData("concept-id");"undefined"==typeof h&&(h=c.substr(0,d));var i=a.dataTransfer.getData("term");"undefined"==typeof i&&(i=c.substr(d));var j=a.dataTransfer.getData("def-status"),k=a.dataTransfer.getData("module");if($.each(componentsRegistry,function(a,b){b.divElement.id==f&&(e=b)}),h){if("undefined"==e.options.selectedView&&(e.options.selectedView="inferred"),"undefined"!=typeof h){var l=new Date,m=l.getTime();e.history.push({term:i,conceptId:h,time:m}),e.setToConcept(h,i,j,k),channel.publish(e.divElement.id,{term:i,conceptId:h,source:e.divElement.id})}}else;g&&$.each(componentsRegistry,function(a,b){b.divElement.id==g&&"concept-details"==b.type&&(e.subscribe(b),b.setupOptionsPanel())})}}function alertEvent(a,b){$.notify(a,b)}$(function(){$.extend($.fn.disableTextSelect=function(){return this.each(function(){$(this).mousedown(function(){return!1})})}),$(".noSelect").disableTextSelect()}),function(a){a.fn.addConceptDetails=function(a,b){this.filter("div").each(function(){var c=new conceptDetails(this,a,b);c.setupCanvas()})}}(jQuery),$(document).keypress(function(a){"13"==a.which&&a.preventDefault()}),countryIcons={"999000041000000102":"gb","999000011000000103":"gb","999000021000000109":"gb","999000031000000106":"gb",450829007:"es",731000124108:"us",5991000124107:"us",161771000036108:"au","32570231000036109":"au","32506021000036107":"au","32570491000036106":"au",9999999998:"gmdn",466707005:"mdp"},Handlebars.registerHelper("countryIcon",function(a){return countryIcons[a]}),!function(a){function b(c){this.constructor=b,this.popoverNumber=++b.popoverNum,this.popoverListenerID="popoverListener"+this.popoverNumber,this.isHeaderDisabled=!0,this.isDataKept=!1,this.hasBeenOpened=!1;var d=this,e=a(c);e.addClass(this.popoverListenerID),e.css("cursor","pointer"),e.click(function(b){d.toggleVisible(b,a(this)),a(document).trigger("popover.listenerClicked")})}function c(a){b.apply(this,[a]),this.constructor=c,this.superConstructor=b,this.isHeaderDisabled=!1,this.isBackEnabled=!0,c.hasRun||(this.init(),c.hasRun=!0)}var d={_init:function(a,c){"undefined"!=typeof a.backgroundColor&&b.setBackgroundColor(a.backgroundColor),"undefined"!=typeof a.fontColor&&b.setFontColor(a.fontColor),"undefined"!=typeof a.borderColor&&b.setBorderColor(a.borderColor),"undefined"!=typeof a.disableBackButton&&(a.disableBackButton===!0?c.disableBackButton():a.disableBackButton===!1&&c.enableBackButton()),"undefined"!=typeof a.enableBackButton&&(a.enableBackButton===!0?c.enableBackButton():a.enableBackButton===!1&&c.disableBackButton()),"undefined"!=typeof a.disableHeader&&(a.disableHeader===!0?c.disableHeader():a.disableHeader===!1&&c.enableHeader()),"undefined"!=typeof a.keepData&&c.keepData(a.keepData),"undefined"!=typeof a.childToAppend&&(c.childToAppend=a.childToAppend),"undefined"!=typeof a.onCreate&&(c._onCreate=a.onCreate),"undefined"!=typeof a.onVisible&&(c._onVisible=a.onVisible),b.addMenu(a.id,a.title,a.contents)},_popoverInit:function(a){var c=new b(this.selector);return d._init(a,c),c},_optionsPopoverInit:function(a){var b=new c(this.selector);return d._init(a,b),b},disableHeader:function(a){a.disableHeader()},enableHeader:function(a){a.enableHeader()},lockPopover:function(){b.lockPopover()},unlockPopover:function(){b.unlockPopover()},addMenu:function(a){b.addMenu(a.id,a.title,a.contents)},closePopover:function(){b.closePopover()},_getPopoverClass:function(){return b}};a.fn.optionsPopover=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.optionsPopover"),this.each(function(){})):d._optionsPopoverInit.apply(this,arguments)},a.fn.ppopover=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.popover"),this.each(function(){})):d._popoverInit.apply(this,arguments)},b.prototype.disableHeader=function(){this.isHeaderDisabled=!0},b.prototype.enableHeader=function(){this.isHeaderDisabled=!1},b.prototype.disablePopover=function(){this.isDisabled=!0},b.prototype.enablePopover=function(){this.isDisabled=!1},b.prototype.keepData=function(a){this.isDataKept=a},b.prototype.appendChild=function(){var b=this.childToAppend;b&&a("#popoverContent")[0].appendChild(b)},b.prototype.toggleVisible=function(c,d){b.lastPopoverClicked=this;var e=a(d);if(!e)return void console.log("ERROR: No element clicked!");var f=a("#popoverWrapper");if(0===f.length&&(f=this.createPopover(),0===f.length))return void console.log("ERROR: Failed to create Popover!");var g=e.attr("id"),h=e.attr("class").split(/\s+/);if(h.push(g),a("#popover").is(":visible")&&b.lastElementClick){if(e.is("#"+b.lastElementClick))return console.log("Clicked on same element!"),console.log("Last clicked: "+b.lastElementClick),void b.closePopover();console.log("Clicked on different element!"),b.closePopover()}if(a("#popover").promise().done(function(){}),!b.isLocked&&!this.isDisabled){if(this.populate(h),e.trigger("popover.action",e),b.backgroundColor&&(a("#popoverHeader").css("backgroundColor",b.backgroundColor),a("#popoverContent").css("backgroundColor",b.backgroundColor)),b.fontColor&&(a("#popover").css("color",b.fontColor),a("#popover a").css("color",b.fontColor)),b.borderColor&&(a("#popoverHeader").css("border-color",b.borderColor),a("#popoverContent").css("border-color",b.borderColor),a(".popoverContentRow").css("border-color",b.borderColor)),a("#popover").stop(!1,!0).fadeIn("fast"),a("#popoverWrapper").css("visibility","visible"),a("#popover").promise().done(function(){}),f.trigger("popover.visible"),this._onVisible&&this._onVisible(),this.isDataKept&&!this.hasBeenOpened||!this.isDataKept){var i=this.childToAppend;i&&this.appendChild(i)}this.hasBeenOpened=!0,b.updatePositions(e),b.lastElementClick=e.attr("id")}},b.updatePositions=function(c){b.updateTopPosition(c),b.updateLeftPosition(c),a(document).trigger("popover.updatePositions")},b.updateTopPosition=function(c){var d=b.getTop(c);a("#popoverWrapper").css("padding-top",d+"px")},b.updateLeftPosition=function(c){var d=b.getLeft(c);a("#popoverWrapper").css("left",d.popoverLeft),b.setCaretPosition(d.targetLeft-d.popoverLeft+b.padding)},b.getLeft=function(c){var d=a("#popoverWrapper");b.currentTarget=c;var e=c.offset().left+c.outerWidth()/2,f=e+d.outerWidth()/2,g=e-d.outerWidth()/2+b.padding+1,h=a(window).width();return b.offScreenX=!1,0>g?(b.offScreenX=!0,g=b.padding):f>h&&(b.offScreenX=!0,g=h-d.outerWidth()),{targetLeft:e,popoverLeft:g}},b.getTop=function(c){var d=a("#popoverArrow").height(),e="absolute"===a("#popoverWrapper").css("position")?0:a(window).scrollTop(),f=c.offset().top-e,g=f+c.outerHeight(),h=g+d,i=a(window).height(),j=a("#popoverContent").height(),k=j+a("#popoverHeader").outerHeight()+d;return b.above=!1,b.offScreenY=!1,g+k>i?(b.offScreenY=!0,f>=k?(h=f-k,b.above=!0):h=i-k):0>h&&(b.offScreenY=!0,h=b.padding+d),h},b.setCaretPosition=function(c){var d="50%",e=a("#popoverArrow");if(b.offScreenX&&(d=c),e.css("left",d),b.above){var f=a("#popoverContent").outerHeight()-4;a("#popoverArrow").css("margin-top",f+"px").addClass("flipArrow").html("")}else a("#popoverArrow").css("margin-top","").removeClass("flipArrow").html("");b.caretLeftOffset=d},b.prototype.createPopover=function(){var c=a(document.createElement("div"));c.attr("id","popoverWrapper");var d="<div id='popover'><div id='popoverArrow'></div><div id='currentPopoverAction' style='display: none;'></div><div id='popoverContentWrapper'><div id='popoverContent'></div></div></div>";c.html(d),c.find("#popover").css("display","none"),a("body").prepend(c),a(window).on("resize",function(){a("#popover").is(":visible")&&b.updatePositions(b.currentTarget);var c=a("#popoverWrapper");"absolute"===c.css("position")?c.css("height",a(document).height()):c.css("height","")}),a("html").on("click touchend",function(c){var d=a(c.target),e=d.parents("#popoverHeader").length+d.is("#popoverHeader")?1:0,f=d.parents("#popoverContentWrapper").length&&!d.parent().is("#popoverContentWrapper")?1:0,g=d.parents("."+b.lastPopoverClicked.popoverListenerID).length+d.is("."+b.lastPopoverClicked.popoverListenerID)?1:0;0===e&&0===f&&0===g&&b.closePopover()});var e,f=a("#popoverContentWrapper");return a(window).bind("resize",function(){a.browser.msie?e||(e=setTimeout(function(){f.trigger("popover.resize"),e=null},50)):f.trigger("popover.resize")}),f.trigger("popover.created"),this._onCreate&&this._onCreate(),c},b.closePopover=function(){b.isLocked||(b.lastElementClick=null,a(document).trigger("popover.closing"),b.history=[],a("#popover").stop(!1,!0).fadeOut("fast"),a("#popoverWrapper").css("visibility","hidden"))},b.getAction=function(){return a("#currentPopoverAction").html()},b.setAction=function(b){a("#currentPopoverAction").html(b)},b.prototype.disableBackButton=function(){this.isBackEnabled=!1},b.prototype.enableBackButton=function(){this.isBackEnabled=!0},b.prototype.previousPopover=function(){if(b.history.pop(),b.history.length<=0)return void b.closePopover();var a=b.history[b.history.length-1];this.populateByMenu(a)},b.setTitle=function(c){b.title=c,a("#popoverTitle").html(c)},b.getMenu=function(a){var c;for(c=0;c<b.menus.length;c+=1)if(b.menus[c].id===a)return b.menus[c];return null},b.addMenu=function(a,c,d){b.menus.push({id:a,title:c,contents:d})},b.prototype.populateByMenu=function(c){a(document).trigger("popover.populating"),this.lastContentHeight=b.getPopoverContentHeight(),this.isDataKept||this.clearData(),this.isHeaderDisabled||this.isDataKept?this.removeHeader():this.insertHeader();var d=a("#popover").css("display");if(this.isDataKept&&this.hasBeenOpened||this.setData(c),this.currentContentHeight=b.getPopoverContentHeight(),b.above&&"none"!==d){var e=parseInt(a("#popoverWrapper").css("padding-top"),10),f=this.currentContentHeight-this.lastContentHeight,g=e-f;a("#popoverWrapper").css("padding-top",g+"px"),b.setCaretPosition(b.caretLeftOffset)}return!0},b.prototype.populate=function(a){var c=null,d=0;for(d;d<a.length&&!(c=b.getMenu(a[d]));d++);return c?(b.history.push(c),this.populateByMenu(c)):(console.log("ID not found."),!1)},b.getPopoverContentHeight=function(){var b=a("#popover").css("display");a("#popover").show();var c=a("#popoverContent").height();return a("#popover").css("display",b),c},b.prototype.insertHeader=function(){var c="<div id='popoverHeader'><div id='popoverTitle'></div><a id='popoverClose'><span id='popoverCloseIcon'></span></a></div>";if(a("#popoverContentWrapper").before(c),this.isBackEnabled){var d=this;a("#popoverHeader").prepend("<a id='popoverBack'><span id='popoverBackIcon'></span></a>"),a("#popoverBack").on("click",function(){d.previousPopover()})}a("#popoverClose").on("click",function(){b.closePopover()}),a("#popoverContent").css("paddingTop","47px")},b.prototype.removeHeader=function(){a("#popoverBack").off("click"),a("#popoverClose").off("click"),a("#popoverHeader").remove(),a("#popoverContent").css("paddingTop","")},b.prototype.clearData=function(){this.removeHeader(),a("#popoverTitle").html(""),a("#popoverContent").html("")},b.prototype.setData=function(a){b.setAction(a.id),b.setTitle(a.title),b.setContent(a.contents)},b.prototype.replaceMenu=function(a,b){var c;for(c in a)delete a[c];for(c in b)a[c]=b[c]},b.setContent=function(c){b.content=c,a("#popoverContent").html(c),a("#popoverContentWrapper").trigger("popover.setContent")},b.popoverNum=0,b.lastElementClick=null,b.currentTarget=null,b.title="",b.content="",b.menus=[],b.history=[],b.backgroundColor=null,b.fontColor=null,b.borderColor=null,b.padding=3,b.offScreenX=!1,b.offScreenY=!1,b.isLocked=!1,b.above=!1,b.caretLeftOffset="50%",b.lastPopoverClicked=null,b.setBackgroundColor=function(a){b.backgroundColor=a},b.setFontColor=function(a){b.fontColor=a},b.setBorderColor=function(a){b.borderColor=a},b.lockPopover=function(){b.isLocked=!0},b.unlockPopover=function(){b.isLocked=!1},c.prototype=new b,c.constructor=c,c.hasRun=!1,c.prototype.init=function(){a(document).on("touchstart mousedown","#popover a",function(){a(this).css({backgroundColor:"#488FCD"})}).on("touchend mouseup mouseout","#popover a",function(){a(this).css({backgroundColor:""})}).on("click",".popoverContentRow",function(){var c=[];c.push(a(this).attr("id")),a(this).hasClass("popoverEvent")&&a(this).trigger("popover.action",a(this));var d=b.lastPopoverClicked.populate(c);d||b.closePopover()})},c.prototype.setData=function(a){var c,d=a.contents,e="";for(c=0;c<d.length;c++){var f="",g="",h="",i="";c===d.length-1&&(f=" last"),"undefined"!=typeof d[c].id&&(h=" id='"+d[c].id+"'"),"undefined"!=typeof d[c].url?i=" href='"+d[c].url+"'":g=" popoverEvent",e+="<a"+i+h+" class='popoverContentRow"+g+f+"'>"+d[c].name+"</a>"}b.setAction(a.id),b.setTitle(a.title),b.setContent(e)}}(window.jQuery),$(document).keypress(function(a){"13"==a.which&&a.preventDefault()}),function(a){a.fn.addSearch=function(a){this.filter("div").each(function(){new conceptDetails(this,a)})}}(jQuery);var idSequence=0;!function(a){a.fn.addTaxonomy=function(a){this.filter("div").each(function(){new conceptDetails(this,a)})}}(jQuery),channel=postal.channel("Selections"),$(document).on("dragend",function(){removeHighlight()}),this.JST=this.JST||{},this.JST["views/conceptDetailsPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='margin: 5px; height:98%; overflow:auto;' class='panel panel-default'>\n    <div class='panel-heading' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading' ondrop=\"dropC(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)">\n        <button id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding:2px;position: absolute;top: 1px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_concept_details'>Concept Details</span></strong></div>\n            <div class='col-md-4 text-right'>\n                <!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-linkerButton\' draggable = "true" ondragstart = "drag(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>-->\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-panelBody\'>\n        <!-- Nav tabs -->\n        <ul class="nav nav-tabs" id="details-tabs-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n            <li class="active"><a href="#home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_summary">Summary</span></a></li>\n            <li><a href="#details-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_details">Details</span></a></li>\n            <li id="diagram-tab"><a href="#diagram-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;" id="diagram-tab-link-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"><span class="i18n" data-i18n-id="i18n_diagram">Diagram</span></a></li>\n            <li><a href="#refsets-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_refsets">Refsets</span></a></li>\n            <li id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-members-tab"><a href="#members-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_members">Members</span></a></li>\n        </ul>\n        <!-- Tab panes -->\n        <div class="tab-content" id="details-tab-content-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n            <div class="tab-pane fade in active" id="home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" style="padding: 5px;">\n                <div class="row" style="margin-right: 20px"><span class="pull-right text-muted" id="home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-viewLabel"></span></div>\n                <div style="margin-left: 0%; margin-bottom: 10px; margin-top: 10px; width: 80%;border: 2px solid forestgreen; border-radius: 4px; padding: 5px;">\n                    <div class="panel-heading">\n                        <h4>Parents</h4>\n                    </div>\n                    <div class="panel-body" id="home-parents-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n                        No parents\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-md-offset-1 col-md-4" style="color: #ffffff;background-color: #1e90ff;display: inline-block; border: 2px solid #357ebd; border-radius: 4px; padding: 5px;" id="home-attributes-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" ondrop="dropC(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)">Attributes</div>\n                    <div class="col-md-4" style="background-color: #c2effd; display: inline-block; min-height: 100%; margin-left: 10px; border: 2px solid darkslateblue; border-radius: 4px; padding: 5px;" id="home-roles-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">Relationships</div>\n                </div>\n                <div style="margin-left: 0%; margin-bottom: 10px; margin-top: 10px; width: 80%;border: 2px solid chartreuse; border-radius: 4px; padding: 5px;" id="home-children-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n                    <div class="panel-heading">\n                        <h4>Children</h4>\n                    </div>\n                    <div class="panel-body" id="home-children-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-body"></div>\n                </div>\n                <div><span class="text-muted pull-right" id="footer-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></span></div>\n            </div>\n            <div class="tab-pane fade" id="details-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"\">\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-attributes-panel' class='panel panel-default'>\n                </div>\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-descriptions-panel' class='panel panel-default'>\n                </div>\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-rels-panel' class='panel panel-default'>\n                </div>\n                <!--<div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-children-panel' class='panel panel-default' style='height:100px;overflow:auto;margin-bottom: 15px;'>-->\n                <!--</div>-->\n            </div>\n            <div class=\"tab-pane fade\" id=\"diagram-",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n                <div class="row" style="margin-right: 20px"><span class="pull-right text-muted" id="home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-diagram-viewLabel"></span></div>\n                <div id="diagram-canvas-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></div>\n            </div>\n            <div class="tab-pane fade" id="refsets-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n            </div>\n            <div class="tab-pane fade" id="members-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n                <br>\n                <table id="members-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsTable\" class=\"table table-hover table-bordered\">\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n<div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>\n    <div class='modal-dialog'>\n        <div class='modal-content'>\n            <div class='modal-header'>\n                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>\n            </div>\n            <div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>\n                <p></p>\n            </div>\n            <div class='modal-footer'>\n                <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n            </div>\n        </div>\n    </div>\n</div>\n        "
}),this.JST["views/conceptDetailsPlugin/options.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-displaySynonymsOption" checked> <span class="i18n" data-i18n-id="i18n_display_synonyms2">Display Synonyms along with FSN and preferred terms</span>\n                '}function g(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-displaySynonymsOption"> <span class="i18n" data-i18n-id="i18n_display_synonyms2">Display Synonyms along with FSN and preferred terms</span>\n                '}function h(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-displayIdsOption" checked> <span class="i18n" data-i18n-id="i18n_display_ids">Display Ids</span>\n                '}function i(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-displayIdsOption"> <span class="i18n" data-i18n-id="i18n_display_ids">Display Ids</span>\n                '}function j(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-displayInactiveDescriptionsOption" checked> <span class="i18n" data-i18n-id="i18n_display_inactive_descriptions">Display inactive descriptions</span>\n                '}function k(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-displayInactiveDescriptionsOption"> <span class="i18n" data-i18n-id="i18n_display_inactive_descriptions">Display inactive descriptions</span>\n                '}function l(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-hideNotAcceptableOption" checked> <span class="i18n" data-i18n-id="i18n_hide_not_acceptable">Hide descriptions with no acceptability</span>\n                '}function m(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-hideNotAcceptableOption"> <span class="i18n" data-i18n-id="i18n_hide_not_acceptable">Hide descriptions with no acceptability</span>\n                '}function n(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-diagrammingMarkupEnabledOption" checked> <span class="i18n" data-i18n-id="i18n_diagramming_markup_enabled">Diagramming Guideline colors enabled</span>\n                '}function o(a,b){var d,e,f="";return f+='\n                    <input type="checkbox" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===P?e.call(a,{hash:{},data:b}):e),f+=Q(d)+'-diagrammingMarkupEnabledOption"> <span class="i18n" data-i18n-id="i18n_diagramming_markup_enabled">Diagramming Guideline colors enabled</span>\n                '}function p(){return"checked"}function q(){return'\n                <option value="stated" selected>Stated</option>\n            '}function r(){return'\n                <option value="stated">Stated</option>\n            '}function s(){return'\n                <option value="inferred" selected>Inferred</option>\n            '}function t(){return'\n                <option value="inferred">Inferred</option>\n            '}function u(){return'\n                <option value="all" selected>All</option>\n            '}function v(){return'\n                <option value="all">All</option>\n            '}function w(){return'\n                <option value="900000000000508004" selected>GB Language Refset</option>\n            '}function x(){return'\n                <option value="900000000000508004">GB Language Refset</option>\n            '}function y(){return'\n                <option value="900000000000509007" selected>US Language Refset</option>\n            '}function z(){return'\n                <option value="900000000000509007">US Language Refset</option>\n            '}function A(){return'\n                <option value="450828004" selected>ES Language Refset</option>\n            '}function B(){return'\n                <option value="450828004">ES Language Refset</option>\n            '}function C(){return'\n                <option value="554461000005103" selected>DA Language Refset</option>\n            '}function D(){return'\n                <option value="554461000005103">DA Language Refset</option>\n            '}function E(){return'\n                <option value="46011000052107" selected>SV Language Refset</option>\n            '}function F(){return'\n                <option value="46011000052107">SV Language Refset</option>\n            '}function G(){return'\n                <option value="32570271000036106" selected>AU Language Refset</option>\n            '}function H(){return'\n                <option value="32570271000036106">AU Language Refset</option>\n            '}function I(){return'\n                <option value="999001251000000103" selected>UK Language Refset</option>\n            '}function J(){return'\n                <option value="999001251000000103">UK Language Refset</option>\n            '}function K(a,b,d){var e,f,g="";return g+="\n                    <tr>\n                        <td>",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===P?f.call(a,{hash:{},data:b}):f),g+=Q(e)+'</td>\n                        <td>\n                            <div class="checkbox">\n                                <label>\n                                    <input type="checkbox" id="'+Q((e=d&&d.divElementId,typeof e===P?e.apply(a):e))+"-subscribeTo-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===P?f.call(a,{hash:{},data:b}):f),g+=Q(e)+'" ',e=c["if"].call(a,a&&a.subscribed,{hash:{},inverse:R.noop,fn:R.program(21,p,b),data:b}),(e||0===e)&&(g+=e),g+='> <span class="i18n"></span>\n                                </label>\n                            </div>\n                        </td>\n                        <td>\n                            <div class="checkbox">\n                                <label>\n                                    <input type="checkbox" id="'+Q((e=d&&d.divElementId,typeof e===P?e.apply(a):e))+"-subscriptor-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===P?f.call(a,{hash:{},data:b}):f),g+=Q(e)+'" ',e=c["if"].call(a,a&&a.subscriptor,{hash:{},inverse:R.noop,fn:R.program(21,p,b),data:b}),(e||0===e)&&(g+=e),g+='> <span class="i18n"></span>\n                                </label>\n                            </div>\n                        </td>\n                    </tr>\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var L,M,N,O="",P="function",Q=this.escapeExpression,R=this,S=c.helperMissing;return O+='<form role="form" id="',(M=c.divElementId)?L=M.call(b,{hash:{},data:e}):(M=b&&b.divElementId,L=typeof M===P?M.call(b,{hash:{},data:e}):M),O+=Q(L)+'-options-form">\n    <div class="form-group">\n        <div class="checkbox">\n            <label>\n                ',L=c["if"].call(b,(L=b&&b.options,null==L||L===!1?L:L.displaySynonyms),{hash:{},inverse:R.program(3,g,e),fn:R.program(1,f,e),data:e}),(L||0===L)&&(O+=L),O+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',L=c["if"].call(b,(L=b&&b.options,null==L||L===!1?L:L.showIds),{hash:{},inverse:R.program(7,i,e),fn:R.program(5,h,e),data:e}),(L||0===L)&&(O+=L),O+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',L=c["if"].call(b,(L=b&&b.options,null==L||L===!1?L:L.displayInactiveDescriptions),{hash:{},inverse:R.program(11,k,e),fn:R.program(9,j,e),data:e}),(L||0===L)&&(O+=L),O+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',L=c["if"].call(b,(L=b&&b.options,null==L||L===!1?L:L.hideNotAcceptable),{hash:{},inverse:R.program(15,m,e),fn:R.program(13,l,e),data:e}),(L||0===L)&&(O+=L),O+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                ',L=c["if"].call(b,(L=b&&b.options,null==L||L===!1?L:L.diagrammingMarkupEnabled),{hash:{},inverse:R.program(19,o,e),fn:R.program(17,n,e),data:e}),(L||0===L)&&(O+=L),O+='\n            </label>\n        </div>\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" id="',(M=c.divElementId)?L=M.call(b,{hash:{},data:e}):(M=b&&b.divElementId,L=typeof M===P?M.call(b,{hash:{},data:e}):M),O+=Q(L)+'-displayChildren" ',L=c["if"].call(b,(L=b&&b.options,null==L||L===!1?L:L.displayChildren),{hash:{},inverse:R.noop,fn:R.program(21,p,e),data:e}),(L||0===L)&&(O+=L),O+='> <span class="i18n" data-i18n-id="i18n_display_children">Display Children</span>\n            </label>\n        </div>\n    </div>\n    <div class="form-group">\n        <label for="selectedRelsView"><span class="i18n" data-i18n-id="i18n_rels_view">Relationships View</span></label>\n        <select class="form-control" id="',(M=c.divElementId)?L=M.call(b,{hash:{},data:e}):(M=b&&b.divElementId,L=typeof M===P?M.call(b,{hash:{},data:e}):M),O+=Q(L)+'-relsViewOption">\n            ',M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(25,r,e),fn:R.program(23,q,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.selectedView),"stated",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.selectedView),"stated",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(29,t,e),fn:R.program(27,s,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.selectedView),"inferred",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.selectedView),"inferred",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(33,v,e),fn:R.program(31,u,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.selectedView),"all",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.selectedView),"all",N),(L||0===L)&&(O+=L),O+='\n        </select>\n    </div>\n    <div class="form-group">\n        <label for="',(M=c.divElementId)?L=M.call(b,{hash:{},data:e}):(M=b&&b.divElementId,L=typeof M===P?M.call(b,{hash:{},data:e}):M),O+=Q(L)+'-langRefsetOption"><span class="i18n" data-i18n-id="i18n_language_refset">Language Refset</span></label>\n        <select class="form-control" id="',(M=c.divElementId)?L=M.call(b,{hash:{},data:e}):(M=b&&b.divElementId,L=typeof M===P?M.call(b,{hash:{},data:e}):M),O+=Q(L)+'-langRefsetOption">\n            ',M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(37,x,e),fn:R.program(35,w,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"900000000000508004",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"900000000000508004",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(41,z,e),fn:R.program(39,y,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"900000000000509007",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"900000000000509007",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(45,B,e),fn:R.program(43,A,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"450828004",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"450828004",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(49,D,e),fn:R.program(47,C,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"554461000005103",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"554461000005103",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(53,F,e),fn:R.program(51,E,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"46011000052107",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"46011000052107",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(57,H,e),fn:R.program(55,G,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"32570271000036106",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"32570271000036106",N),(L||0===L)&&(O+=L),O+="\n            ",M=c.if_eq||b&&b.if_eq,N={hash:{},inverse:R.program(61,J,e),fn:R.program(59,I,e),data:e},L=M?M.call(b,(L=b&&b.options,null==L||L===!1?L:L.langRefset),"999001251000000103",N):S.call(b,"if_eq",(L=b&&b.options,null==L||L===!1?L:L.langRefset),"999001251000000103",N),(L||0===L)&&(O+=L),O+="\n        </select>\n    </div>\n    <div class=\"form-group\">\n        <table class='table table-bordered table-hover'>\n            <thead>\n                <tr>\n                    <th>Panel</th>\n                    <th>Subscribed</th>\n                    <th>Subscriptor</th>\n                </tr>\n            </thead>\n            <tbody>\n                ",L=c.each.call(b,(L=b&&b.options,null==L||L===!1?L:L.possibleSubscribers),{hash:{},inverse:R.noop,fn:R.programWithDepth(63,K,e,b),data:e}),(L||0===L)&&(O+=L),O+="\n            </tbody>\n        </table>\n    </div>\n</form>"}),this.JST["views/conceptDetailsPlugin/tabs/details/attributes-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n        class = 'highlightEffectiveTime'\n        "}function g(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'\')" data-module="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.module,typeof d===q?d.apply(a):d))+'" data-concept-id="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.conceptId,typeof d===q?d.apply(a):d))+'" data-term="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.defaultTerm,typeof d===q?d.apply(a):d))+'" data-def-status="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.definitionStatus,typeof d===q?d.apply(a):d))+'" style="color: inherit;text-decoration: inherit;"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function h(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+'\')" data-module="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.module,typeof d===q?d.apply(a):d))+'" data-concept-id="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.conceptId,typeof d===q?d.apply(a):d))+'" data-term="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.defaultTerm,typeof d===q?d.apply(a):d))+'" data-def-status="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.definitionStatus,typeof d===q?d.apply(a):d))+'" style="color: inherit;text-decoration: inherit;"><span class="badge alert-warning" >&equiv;</span></a>&nbsp;&nbsp;\n                '}function i(){return"\n                , <span class='i18n' data-i18n-id='i18n_primitive'>Primitive</span>\n            "}function j(){return"\n                , <span class='i18n' data-i18n-id='i18n_fully_defined'>Fully defined</span>\n            "}function k(){return"\n                , <span class='i18n' data-i18n-id='i18n_active'>Active</span>\n            "}function l(){return"\n                , <span class='i18n' data-i18n-id='i18n_inactive'>Inactive</span>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return p+="<table class='table table-default' >\n    <tr\n        ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.effectiveTime),(m=b&&b.options,null==m||m===!1?m:m.highlightByEffectiveTime),o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.effectiveTime),(m=b&&b.options,null==m||m===!1?m:m.highlightByEffectiveTime),o),(m||0===m)&&(p+=m),p+="\n            >\n        <td>\n            <h4>\n                ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(5,h,e),fn:s.program(3,g,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o),(m||0===m)&&(p+=m),p+="\n\n                <span ondrop=\"dropC(event, '",(n=c.divElementId)?m=n.call(b,{hash:{},data:e}):(n=b&&b.divElementId,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)">'+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.defaultTerm,typeof m===q?m.apply(b):m))+"</span>\n            </h4>\n            <br>SCTID: "+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.conceptId,typeof m===q?m.apply(b):m))+"\n\n            ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(9,j,e),fn:s.program(7,i,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o),(m||0===m)&&(p+=m),p+="\n\n            ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(13,l,e),fn:s.program(11,k,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.active),!0,o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.active),!0,o),(m||0===m)&&(p+=m),p+='\n        </td>\n        <td>\n            <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                <table border=\'1\'><tr><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr><tr><td style=\'padding: 3px;\'>'+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.effectiveTime,typeof m===q?m.apply(b):m))+"</td><td style='padding: 3px;'>"+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.module,typeof m===q?m.apply(b):m))+'</td></tr></table>\n                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n            &nbsp;\n            <button type="button" id="share-link-',(n=c.divElementId)?m=n.call(b,{hash:{},data:e}):(n=b&&b.divElementId,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+'" class="btn btn-link more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <form><input class=\'form-control\' id=\'share-field-',(n=c.divElementId)?m=n.call(b,{hash:{},data:e}):(n=b&&b.divElementId,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+"' value='",(n=c.dataContentValue)?m=n.call(b,{hash:{},data:e}):(n=b&&b.dataContentValue,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+"?perspective=full&conceptId1="+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.conceptId,typeof m===q?m.apply(b):m))+'\'></form><br>Copy the concept link (e.g. CTRL-C) to save and share a reference to this concept.\n                    " data-html="true"><i class="glyphicon glyphicon-share-alt"></i></button>\n            <span class="pull-right">\n               <div class="phoca-flagbox" style="width:40px;height:40px">\n                   <span class="phoca-flag '+r((n=c.countryIcon||b&&b.countryIcon,o={hash:{},data:e},n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.module),o):t.call(b,"countryIcon",(m=b&&b.firstMatch,null==m||m===!1?m:m.module),o)))+'"></span>\n               </div>\n            </span>\n        </td>\n\n    </tr>\n</table>'}),this.JST["views/conceptDetailsPlugin/tabs/details/children-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n    ",d=c["if"].call(a,a&&a.active,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f="";return f+='\n        <tr><td draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"\" data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"' data-term='",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"'>",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</td></tr>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+="<div>\n    <table class='table table-bordered'>\n        <thead>\n        <tr>\n            <th>\n                <span class='i18n' data-i18n-id='i18n_children'>Children</span>\n            </th>\n        </tr>\n        </thead>\n        <tbody>\n</div>\n",h=c.each.call(b,b&&b.childrenResult,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n</tbody>\n</table>"}),this.JST["views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n            <th>SCTID</th>\n        "}function g(a,b,d){var e,f,g,i="";return i+="\n            "+uc((f=c.included||a&&a.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(4,h,b,d),data:b}),(e||0===e)&&(i+=e),i+="\n            ",f=c.included||a&&a.included,g={hash:{},inverse:vc.programWithDepth(57,O,b,a,d),fn:vc.programWithDepth(7,j,b,d),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(i+=e),i+="\n        "}function h(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(5,i,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n            "}function i(a,b){var d,e,f="";return f+="\n                    "+uc((d=c.included||a&&a.included,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"included",!0,e)))+"\n                "}function j(a,b,d){var e,f,g,h="";return h+="\n                <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(e||0===e)&&(h+=e),f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):tc.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(20,q,b),fn:vc.program(18,p,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),h+="\n\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(28,v,b,d),fn:vc.program(26,u,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n                        ",f=c.preferred||a&&a.preferred,g={hash:{},inverse:vc.program(41,E,b),fn:vc.program(36,B,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"preferred","get",g),(e||0===e)&&(h+=e),h+="\n\n                        &nbsp;&nbsp;&nbsp;",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td>\n                    ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.showIds),{hash:{},inverse:vc.noop,fn:vc.program(46,H,b),data:b}),(e||0===e)&&(h+=e),h+="\n\n                    <td>\n                        "+uc((f=c.included||d&&d.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(48,I,b,d),fn:vc.program(26,u,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n\n                        ",f=c.included||a&&a.included,g={hash:{},inverse:vc.program(55,N,b),fn:vc.program(26,u,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(h+=e),h+="\n                        <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                        <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                <tr><td style='padding: 3px;'>",(f=c.descriptionId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.descriptionId,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.lang)?e=f.call(a,{hash:{},data:b}):(f=a&&a.lang,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+'</td></tr>\n                        </table>\n                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                    </td>\n                </tr>\n                <!--descDetailsHtml = descDetailsHtml + row;-->\n            '}function k(){return" fsn-row"}function l(){return" synonym-row"}function m(){var a="";return a}function n(){return" danger"}function o(){return" highlightEffectiveTime"}function p(){return'\n                            <span rel="tooltip-right" title="F">F</span>\n                        '}function q(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(23,s,b),fn:vc.program(21,r,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                        "}function r(){return'\n                                <span rel="tooltip-right" title="S">S</span>\n                            '}function s(a,b){var d,e,f,g="";return g+="\n                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(24,t,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                            "}function t(){return'\n                                    <span rel="tooltip-right" title="D">D</span>\n                                '}function u(){return"\n                        "}function v(a,b,d){var e,f="";return f+="\n                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(29,w,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                        "}function w(a,b,d){var e,f,g,h="";return h+="\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(30,x,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                            "}function x(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(33,z,b),fn:vc.program(31,y,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                "}function y(a,b){var d,e,f="";return f+="\n                                        <!--isPreferred = true;-->\n                                        "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                    "}function z(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(34,A,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                    "}function A(a,b){var d,e,f="";return f+="\n                                            <!--isAcceptable = true;-->\n                                            "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                        "}function B(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(39,D,b),fn:vc.program(37,C,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                        "}function C(){return'\n                                &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                            '}function D(){return'\n                                &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                            '}function E(a,b){var d,e,f,g="";return g+="\n                            ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(44,G,b),fn:vc.program(42,F,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                        "
}function F(){return'\n                                &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                            '}function G(){return"\n                                &nbsp;&nbsp;&nbsp;\n                            "}function H(a,b){var d,e,f="";return f+="\n                        <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                    "}function I(a,b,d){var e,f="";return f+="\n                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(49,J,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                        "}function J(a,b,d){var e,f,g,h="";return h+="\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(50,K,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                            "}function K(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(53,M,b),fn:vc.program(51,L,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                    "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                "}function L(){return"\n                                        <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                    "}function M(){return"\n                                        <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                    "}function N(){return"\n                            <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                        "}function O(a,b,d,e){var f,g="";return g+="\n                ",f=c["if"].call(a,(f=e&&e.options,null==f||f===!1?f:f.hideNotAcceptable),{hash:{},inverse:vc.programWithDepth(141,Qb,b,e),fn:vc.programWithDepth(58,P,b,d,e),data:b}),(f||0===f)&&(g+=f),g+="\n            "}function P(a,b,d,e){var f,g="";return g+="\n                    ",f=c["if"].call(a,(f=e&&e.options,null==f||f===!1?f:f.displayInactiveDescriptions),{hash:{},inverse:vc.noop,fn:vc.programWithDepth(59,Q,b,d,e),data:b}),(f||0===f)&&(g+=f),g+="\n                "}function Q(a,b,d,e){var f,g="";return g+="\n                        ",f=c["if"].call(a,(f=e&&e.options,null==f||f===!1?f:f.displayInactiveDescriptions),{hash:{},inverse:vc.programWithDepth(100,pb,b,d,e),fn:vc.programWithDepth(60,R,b,e),data:b}),(f||0===f)&&(g+=f),g+="\n                        <!--descDetailsHtml = descDetailsHtml + row;-->\n                    "}function R(a,b,d){var e,f,g,h="";return h+="\n                            <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(e||0===e)&&(h+=e),f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):tc.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                                <td>\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(63,T,b),fn:vc.program(61,S,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),h+="\n\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(71,Y,b,d),fn:vc.program(69,X,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n                                    ",f=c.preferred||a&&a.preferred,g={hash:{},inverse:vc.program(84,fb,b),fn:vc.program(79,cb,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"preferred","get",g),(e||0===e)&&(h+=e),h+="\n\n                                    &nbsp;&nbsp;&nbsp;",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td>\n                                ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.showIds),{hash:{},inverse:vc.noop,fn:vc.program(89,ib,b),data:b}),(e||0===e)&&(h+=e),h+="\n\n                                <td>\n                                    "+uc((f=c.included||d&&d.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(91,jb,b,d),fn:vc.program(69,X,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n\n                                    ",f=c.included||a&&a.included,g={hash:{},inverse:vc.program(98,ob,b),fn:vc.program(69,X,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(h+=e),h+="\n                                    <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                    <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                            <tr><td style='padding: 3px;'>",(f=c.descriptionId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.descriptionId,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.lang)?e=f.call(a,{hash:{},data:b}):(f=a&&a.lang,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+'</td></tr>\n                                    </table>\n                                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                </td>\n                            </tr>\n                        '}function S(){return'\n                                        <span rel="tooltip-right" title="F">F</span>\n                                    '}function T(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(66,V,b),fn:vc.program(64,U,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                                    "}function U(){return'\n                                            <span rel="tooltip-right" title="S">S</span>\n                                        '}function V(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(67,W,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                                        "}function W(){return'\n                                                <span rel="tooltip-right" title="D">D</span>\n                                            '}function X(){return"\n                                    "}function Y(a,b,d){var e,f="";return f+="\n                                        ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(72,Z,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                    "}function Z(a,b,d){var e,f,g,h="";return h+="\n                                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(73,$,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                        "}function $(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(76,ab,b),fn:vc.program(74,_,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                            "}function _(a,b){var d,e,f="";return f+="\n                                                    <!--isPreferred = true;-->\n                                                    "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                                "}function ab(a,b){var d,e,f,g="";return g+="\n                                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(77,bb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                                "}function bb(a,b){var d,e,f="";return f+="\n                                                        <!--isAcceptable = true;-->\n                                                        "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                                    "}function cb(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(82,eb,b),fn:vc.program(80,db,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                                    "}function db(){return'\n                                            &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                                        '}function eb(){return'\n                                            &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                                        '}function fb(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(87,hb,b),fn:vc.program(85,gb,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                                    "}function gb(){return'\n                                            &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                                        '}function hb(){return"\n                                            &nbsp;&nbsp;&nbsp;\n                                        "}function ib(a,b){var d,e,f="";return f+="\n                                    <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                                "}function jb(a,b,d){var e,f="";return f+="\n                                        ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(92,kb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                    "}function kb(a,b,d){var e,f,g,h="";return h+="\n                                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(93,lb,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                        "}function lb(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(96,nb,b),fn:vc.program(94,mb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                                "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                            "}function mb(){return"\n                                                    <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                                "}function nb(){return"\n                                                    <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                                "}function ob(){return"\n                                        <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                                    "}function pb(a,b,d,e){var f,g="";return g+="\n                            ",f=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(101,qb,b,d,e),data:b}),(f||0===f)&&(g+=f),g+="\n                        "}function qb(a,b,d,e){var f,g,h,i="";return i+="\n                                <tr class='",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},f=g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h):tc.call(a,"if_eq",(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h),(f||0===f)&&(i+=f),f=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(f||0===f)&&(i+=f),g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},f=g?g.call(a,a&&a.effectiveTime,(f=e&&e.options,null==f||f===!1?f:f.highlightByEffectiveTime),h):tc.call(a,"if_eq",a&&a.effectiveTime,(f=e&&e.options,null==f||f===!1?f:f.highlightByEffectiveTime),h),(f||0===f)&&(i+=f),i+="'>\n                                    <td>\n                                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.program(104,sb,b),fn:vc.program(102,rb,b),data:b},f=g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h):tc.call(a,"if_eq",(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h),(f||0===f)&&(i+=f),i+="\n\n                                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.programWithDepth(112,xb,b,e),fn:vc.program(110,wb,b),data:b},f=g?g.call(a,a&&a.langMemberships,"undefined",h):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",h),(f||0===f)&&(i+=f),i+="\n                                        ",g=c.preferred||a&&a.preferred,h={hash:{},inverse:vc.program(125,Gb,b),fn:vc.program(120,Db,b),data:b},f=g?g.call(a,"get",h):tc.call(a,"preferred","get",h),(f||0===f)&&(i+=f),i+="\n\n                                        &nbsp;&nbsp;&nbsp;",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td>\n                                    ",f=c["if"].call(a,(f=d&&d.options,null==f||f===!1?f:f.showIds),{hash:{},inverse:vc.noop,fn:vc.program(130,Jb,b),data:b}),(f||0===f)&&(i+=f),i+="\n\n                                    <td>\n                                        "+uc((g=c.included||d&&d.included,h={hash:{},data:b},g?g.call(a,!1,h):tc.call(a,"included",!1,h)))+"\n                                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.programWithDepth(132,Kb,b,e),fn:vc.program(110,wb,b),data:b},f=g?g.call(a,a&&a.langMemberships,"undefined",h):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",h),(f||0===f)&&(i+=f),i+="\n\n                                        ",g=c.included||a&&a.included,h={hash:{},inverse:vc.program(139,Pb,b),fn:vc.program(110,wb,b),data:b},f=g?g.call(a,"get",h):tc.call(a,"included","get",h),(f||0===f)&&(i+=f),i+="\n                                        <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                        <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                                <tr><td style='padding: 3px;'>",(g=c.descriptionId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descriptionId,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td><td style='padding: 3px;'>"+uc((g=c.removeSemtag||a&&a.removeSemtag,h={hash:{},data:b},g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.defaultTerm),h):tc.call(a,"removeSemtag",(f=a&&a.type,null==f||f===!1?f:f.defaultTerm),h)))+"</td><td style='padding: 3px;'>",(g=c.lang)?f=g.call(a,{hash:{},data:b}):(g=a&&a.lang,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td><td style='padding: 3px;'>"+uc((g=c.removeSemtag||a&&a.removeSemtag,h={hash:{},data:b},g?g.call(a,(f=a&&a.ics,null==f||f===!1?f:f.defaultTerm),h):tc.call(a,"removeSemtag",(f=a&&a.ics,null==f||f===!1?f:f.defaultTerm),h)))+"</td><td style='padding: 3px;'>",(g=c.effectiveTime)?f=g.call(a,{hash:{},data:b}):(g=a&&a.effectiveTime,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td><td style='padding: 3px;'>",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+'</td></tr>\n                                        </table>\n                                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                    </td>\n                                </tr>\n                            '}function rb(){return'\n                                            <span rel="tooltip-right" title="F">F</span>\n                                        '}function sb(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(107,ub,b),fn:vc.program(105,tb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                                        "}function tb(){return'\n                                                <span rel="tooltip-right" title="S">S</span>\n                                            '}function ub(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(108,vb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                                            "}function vb(){return'\n                                                    <span rel="tooltip-right" title="D">D</span>\n                                                '}function wb(){return"\n                                        "}function xb(a,b,d){var e,f="";return f+="\n                                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(113,yb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                        "}function yb(a,b,d){var e,f,g,h="";return h+="\n                                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(114,zb,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                            "}function zb(a,b){var d,e,f,g="";return g+="\n                                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(117,Bb,b),fn:vc.program(115,Ab,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                                "}function Ab(a,b){var d,e,f="";return f+="\n                                                        <!--isPreferred = true;-->\n                                                        "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                                    "}function Bb(a,b){var d,e,f,g="";return g+="\n                                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(118,Cb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                                    "}function Cb(a,b){var d,e,f="";return f+="\n                                                            <!--isAcceptable = true;-->\n                                                            "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                                        "}function Db(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(123,Fb,b),fn:vc.program(121,Eb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                                        "}function Eb(){return'\n                                                &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                                            '}function Fb(){return'\n                                                &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                                            '}function Gb(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(128,Ib,b),fn:vc.program(126,Hb,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                                        "}function Hb(){return'\n                                                &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                                            '}function Ib(){return"\n                                                &nbsp;&nbsp;&nbsp;\n                                            "}function Jb(a,b){var d,e,f="";return f+="\n                                        <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                                    "}function Kb(a,b,d){var e,f="";return f+="\n                                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(133,Lb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                        "}function Lb(a,b,d){var e,f,g,h="";return h+="\n                                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(134,Mb,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                            "}function Mb(a,b){var d,e,f,g="";return g+="\n                                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(137,Ob,b),fn:vc.program(135,Nb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                                    "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                                "}function Nb(){return"\n                                                        <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                                    "}function Ob(){return"\n                                                        <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                                    "}function Pb(){return"\n                                            <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                                        "}function Qb(a,b,d){var e,f="";return f+="\n                    ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.displayInactiveDescriptions),{hash:{},inverse:vc.programWithDepth(182,pc,b,d),fn:vc.programWithDepth(142,Rb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                    <!--descDetailsHtml = descDetailsHtml + row;-->\n                "}function Rb(a,b,d){var e,f,g,h="";return h+="\n                        <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(e||0===e)&&(h+=e),f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):tc.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                            <td>\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(145,Tb,b),fn:vc.program(143,Sb,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),h+="\n\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(153,Yb,b,d),fn:vc.program(151,Xb,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n                                ",f=c.preferred||a&&a.preferred,g={hash:{},inverse:vc.program(166,fc,b),fn:vc.program(161,cc,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"preferred","get",g),(e||0===e)&&(h+=e),h+="\n\n                                &nbsp;&nbsp;&nbsp;",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td>\n                            ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.showIds),{hash:{},inverse:vc.noop,fn:vc.program(171,ic,b),data:b}),(e||0===e)&&(h+=e),h+="\n\n                            <td>\n                                "+uc((f=c.included||d&&d.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(173,jc,b,d),fn:vc.program(151,Xb,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n\n                                ",f=c.included||a&&a.included,g={hash:{},inverse:vc.program(180,oc,b),fn:vc.program(151,Xb,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(h+=e),h+="\n                                <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                        <tr><td style='padding: 3px;'>",(f=c.descriptionId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.descriptionId,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.lang)?e=f.call(a,{hash:{},data:b}):(f=a&&a.lang,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+'</td></tr>\n                                </table>\n                                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                            </td>\n                        </tr>\n                    '}function Sb(){return'\n                                    <span rel="tooltip-right" title="F">F</span>\n                                '
}function Tb(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(148,Vb,b),fn:vc.program(146,Ub,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                                "}function Ub(){return'\n                                        <span rel="tooltip-right" title="S">S</span>\n                                    '}function Vb(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(149,Wb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                                    "}function Wb(){return'\n                                            <span rel="tooltip-right" title="D">D</span>\n                                        '}function Xb(){return"\n                                "}function Yb(a,b,d){var e,f="";return f+="\n                                    ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(154,Zb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                "}function Zb(a,b,d){var e,f,g,h="";return h+="\n                                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(155,$b,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                    "}function $b(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(158,ac,b),fn:vc.program(156,_b,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                        "}function _b(a,b){var d,e,f="";return f+="\n                                                <!--isPreferred = true;-->\n                                                "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                            "}function ac(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(159,bc,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                            "}function bc(a,b){var d,e,f="";return f+="\n                                                    <!--isAcceptable = true;-->\n                                                    "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                                "}function cc(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(164,ec,b),fn:vc.program(162,dc,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                                "}function dc(){return'\n                                        &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                                    '}function ec(){return'\n                                        &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                                    '}function fc(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(169,hc,b),fn:vc.program(167,gc,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                                "}function gc(){return'\n                                        &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                                    '}function hc(){return"\n                                        &nbsp;&nbsp;&nbsp;\n                                    "}function ic(a,b){var d,e,f="";return f+="\n                                <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                            "}function jc(a,b,d){var e,f="";return f+="\n                                    ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(174,kc,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                "}function kc(a,b,d){var e,f,g,h="";return h+="\n                                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(175,lc,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                    "}function lc(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(178,nc,b),fn:vc.program(176,mc,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                            "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                        "}function mc(){return"\n                                                <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                            "}function nc(){return"\n                                                <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                            "}function oc(){return"\n                                    <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                                "}function pc(a,b,d){var e,f="";return f+="\n                        ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(60,R,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var qc,rc,sc="",tc=c.helperMissing,uc=this.escapeExpression,vc=this,wc="function";return sc+="<table class='table table-bordered' id = '",(rc=c.divElementId)?qc=rc.call(b,{hash:{},data:e}):(rc=b&&b.divElementId,qc=typeof rc===wc?rc.call(b,{hash:{},data:e}):rc),sc+=uc(qc)+"-descriptions-panel-table'>\n    <thead><tr>\n        <th><span class='i18n' data-i18n-id='i18n_term'>Term</span></th>\n        ",qc=c["if"].call(b,(qc=b&&b.options,null==qc||qc===!1?qc:qc.showIds),{hash:{},inverse:vc.noop,fn:vc.program(1,f,e),data:e}),(qc||0===qc)&&(sc+=qc),sc+="\n        <th><span class='i18n' data-i18n-id='i18n_acceptability'>Acceptability</span>",(rc=c.languageName)?qc=rc.call(b,{hash:{},data:e}):(rc=b&&b.languageName,qc=typeof rc===wc?rc.call(b,{hash:{},data:e}):rc),sc+=uc(qc)+"</th>\n        </tr>\n    </thead>\n    <tbody>\n        ",qc=c.each.call(b,b&&b.allDescriptions,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(3,g,e,b),data:e}),(qc||0===qc)&&(sc+=qc),sc+="\n    </tbody>\n</table>"}),this.JST["views/conceptDetailsPlugin/tabs/details/diagram.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="container" style="max-width: 100%;">\n    <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-diagram-toolbar" class="row">\n        <div class="row" style="margin: 15px;">\n            <div class="btn-toolbar pull-right" role="toolbar">\n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-download-button" type="button" class="btn btn-primary btn-sm disabled" style="display: block;">Download</button>\n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-progress-button" type="button" class="btn btn-warning btn-sm disabled" style="display: none;">Generating downloadable files <span class=\'glyphicon glyphicon-refresh icon-spin\'></span></button>\n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-png-button" type="button" class="btn btn-success btn-sm" style="display: none;"><span class="glyphicon glyphicon-picture"></span> PNG</button>\n                <button id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-svg-button" type="button" class="btn btn-success btn-sm" style="display: none;"><span class="glyphicon glyphicon-tint"></span> SVG</button>\n            </div>\n        </div>\n    </div>\n    <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-diagram-body" class="row" style="overflow: auto; width: 1000;">\n\n    </div>\n</div>'}),this.JST["views/conceptDetailsPlugin/tabs/details/rels-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:H.noop,fn:H.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.statedRelationships),"undefined",f):I.call(a,"if_eq",(d=a&&a.firstMatch,null==d||d===!1?d:d.statedRelationships),"undefined",f),(d||0===d)&&(h+=d),h+="\n    "}function g(){return"\n            <tr><td colspan='4'><span class='text-muted'>No relationships</span></td></tr>\n        "}function h(a,b){var d,e="";return e+="\n\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.relationships),{hash:{},inverse:H.noop,fn:H.programWithDepth(5,i,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function i(a,b,d){var e,f="";return f+="\n            ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:H.noop,fn:H.programWithDepth(6,j,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n        "}function j(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.programWithDepth(9,l,b,d),fn:H.programWithDepth(7,k,b,d),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g):I.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g),(e||0===e)&&(h+=e),h+="\n                <tr class='inferred-rel\n                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.noop,fn:H.program(11,m,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):I.call(a,"if_eq",a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="\n                            '>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.program(15,o,b),fn:H.program(13,n,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g):I.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+J((e=a&&a.type,e=null==e||e===!1?e:e.defaultTerm,typeof e===K?e.apply(a):e))+"\n                    </td>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.program(19,q,b),fn:H.program(17,p,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g):I.call(a,"if_eq",(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+J((e=a&&a.target,e=null==e||e===!1?e:e.defaultTerm,typeof e===K?e.apply(a):e))+"</td>\n                    <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+"</td>\n                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.program(23,s,b),fn:H.program(21,r,b),data:b},e=f?f.call(a,(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g):I.call(a,"if_eq",(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g),(e||0===e)&&(h+=e),h+="\n                    <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                <table border='1'><tr><th style='padding: 3px;'>TypeId</th><th style='padding: 3px;'>TargetId</th><th style='padding: 3px;'>Modifier</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                    <tr><td style='padding: 3px;'>"+J((e=a&&a.type,e=null==e||e===!1?e:e.conceptId,typeof e===K?e.apply(a):e))+"</td><td style='padding: 3px;'>"+J((e=a&&a.target,e=null==e||e===!1?e:e.conceptId,typeof e===K?e.apply(a):e))+"</td><td style='padding: 3px;'>",(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+'</td></tr>\n                                </table>\n                                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                </td>\n                </tr>\n            '}function k(a,b,d){var e,f,g="";return g+="\n                    "+J((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.inferredParents,f):I.call(a,"push",a,d&&d.inferredParents,f)))+"\n                "}function l(a,b,d){var e,f,g="";return g+="\n                    "+J((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.inferredRoles,f):I.call(a,"push",a,d&&d.inferredRoles,f)))+"\n                "}function m(){return"\n                                 highlightEffectiveTime\n                            "}function n(a,b){var d,e,f="";return f+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'\')"  data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'" data-concept-id="'+J((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+'" data-term="'+J((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'" data-def-status="'+J((d=a&&a.type,d=null==d||d===!1?d:d.definitionStatus,typeof d===K?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function o(a,b){var d,e,f="";return f+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'\')"  data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'" data-concept-id="'+J((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+'" data-term="'+J((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'" data-def-status="'+J((d=a&&a.type,d=null==d||d===!1?d:d.definitionStatus,typeof d===K?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                        '}function p(a,b){var d,e,f="";return f+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'\')"  data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'" data-concept-id="'+J((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+'" data-term="'+J((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'" data-def-status="'+J((d=a&&a.target,d=null==d||d===!1?d:d.definitionStatus,typeof d===K?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function q(a,b){var d,e,f="";return f+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'\')"  data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'" data-concept-id="'+J((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+'" data-term="'+J((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'" data-def-status="'+J((d=a&&a.target,d=null==d||d===!1?d:d.definitionStatus,typeof d===K?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                        '}function r(){return"\n                    <td><span class='i18n' data-i18n-id='i18n_stated'>Stated</span>\n                    "}function s(a,b){var d,e,f,g="";return g+="\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:H.program(26,u,b),fn:H.program(24,t,b),data:b},d=e?e.call(a,(d=a&&a.charType,null==d||d===!1?d:d.conceptId),"900000000000011006",f):I.call(a,"if_eq",(d=a&&a.charType,null==d||d===!1?d:d.conceptId),"900000000000011006",f),(d||0===d)&&(g+=d),g+="\n                    "}function t(){return"\n                        <td><span class='i18n' data-i18n-id='i18n_inferred'>Inferred</span>\n                        "}function u(){return"\n                        <td><span class='i18n' data-i18n-id='i18n_other'>Other</span>\n                        "}function v(){return"\n    "}function w(a,b){var d,e="";return e+="\n\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.statedRelationships),{hash:{},inverse:H.noop,fn:H.programWithDepth(31,x,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function x(a,b,d){var e,f="";return f+="\n            ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:H.noop,fn:H.programWithDepth(32,y,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n        "}function y(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.programWithDepth(35,A,b,d),fn:H.programWithDepth(33,z,b,d),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g):I.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g),(e||0===e)&&(h+=e),h+="\n                <tr class='stated-rel\n                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.noop,fn:H.program(11,m,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):I.call(a,"if_eq",a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="\n                            '>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.program(39,C,b),fn:H.program(37,B,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g):I.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+J((e=a&&a.type,e=null==e||e===!1?e:e.defaultTerm,typeof e===K?e.apply(a):e))+"</td>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.program(19,q,b),fn:H.program(17,p,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g):I.call(a,"if_eq",(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+J((e=a&&a.target,e=null==e||e===!1?e:e.defaultTerm,typeof e===K?e.apply(a):e))+"</td>\n                    <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+"</td>\n                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:H.program(23,s,b),fn:H.program(21,r,b),data:b},e=f?f.call(a,(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g):I.call(a,"if_eq",(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g),(e||0===e)&&(h+=e),h+='\n                    <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                        <table border=\'1\'><tr><th style=\'padding: 3px;\'>Modifier</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                            <tr><td style=\'padding: 3px;\'>',(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===K?f.call(a,{hash:{},data:b}):f),h+=J(e)+'</td></tr>\n                        </table>\n                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                </td>\n                </tr>\n            '}function z(a,b,d){var e,f,g="";return g+="\n                    "+J((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.statedParents,f):I.call(a,"push",a,d&&d.statedParents,f)))+"\n                "}function A(a,b,d){var e,f,g="";return g+="\n                    "+J((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.statedRoles,f):I.call(a,"push",a,d&&d.statedRoles,f)))+"\n                "}function B(a,b){var d,e,f="";return f+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'" data-concept-id="'+J((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+'" data-term="'+J((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'" data-def-status="'+J((d=a&&a.type,d=null==d||d===!1?d:d.definitionStatus,typeof d===K?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function C(a,b){var d,e,f="";return f+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'\')" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),f+=J(d)+'" data-concept-id="'+J((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+'" data-term="'+J((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'" data-def-status="'+J((d=a&&a.type,d=null==d||d===!1?d:d.definitionStatus,typeof d===K?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var D,E,F,G="",H=this,I=c.helperMissing,J=this.escapeExpression,K="function";return G+="<table class='table table-bordered'>\n    <thead>\n    <tr>\n        <th><span class='i18n' data-i18n-id='i18n_type'>Type</span></th>\n        <th><span class='i18n' data-i18n-id='i18n_destination'>Destination</span></th>\n        <th><span class='i18n' data-i18n-id='i18n_group'>Group</span></th>\n        <th><span class='i18n' data-i18n-id='i18n_char_type'>CharType</span></th>\n    </tr>\n    </thead>\n    <tbody>\n    ",E=c.if_eq||b&&b.if_eq,F={hash:{},inverse:H.program(4,h,e),fn:H.program(1,f,e),data:e},D=E?E.call(b,(D=b&&b.firstMatch,null==D||D===!1?D:D.relationships),"undefined",F):I.call(b,"if_eq",(D=b&&b.firstMatch,null==D||D===!1?D:D.relationships),"undefined",F),(D||0===D)&&(G+=D),G+="\n    ",E=c.if_eq||b&&b.if_eq,F={hash:{},inverse:H.program(30,w,e),fn:H.program(28,v,e),data:e},D=E?E.call(b,(D=b&&b.firstMatch,null==D||D===!1?D:D.statedRelationships),"undefined",F):I.call(b,"if_eq",(D=b&&b.firstMatch,null==D||D===!1?D:D.statedRelationships),"undefined",F),(D||0===D)&&(G+=D),G+="\n\n    </tbody>\n</table>"}),this.JST["views/conceptDetailsPlugin/tabs/home/attributes.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n            &nbsp;\n        "}function g(){return"\n            &equiv;\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return k+='<h4>\n    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"  draggable = "true" ondragstart="drag(event, \'',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===l?i.call(b,{hash:{},data:e}):i),k+=m(h)+'\')" data-module="'+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.module,typeof h===l?h.apply(b):h))+'" data-concept-id="'+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.conceptId,typeof h===l?h.apply(b):h))+'" data-term="'+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.defaultTerm,typeof h===l?h.apply(b):h))+'" data-def-status="'+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.definitionStatus,typeof h===l?h.apply(b):h))+'">\n        <span class="badge alert-warning">&nbsp;\n        ',i=c.if_eq||b&&b.if_eq,j={hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e},h=i?i.call(b,(h=b&&b.firstMatch,null==h||h===!1?h:h.definitionStatus),"Primitive",j):o.call(b,"if_eq",(h=b&&b.firstMatch,null==h||h===!1?h:h.definitionStatus),"Primitive",j),(h||0===h)&&(k+=h),k+="\n        </span>\n    </a>\n    &nbsp;&nbsp;\n    "+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.defaultTerm,typeof h===l?h.apply(b):h))+'\n    <span class="pull-right">\n       <div class="phoca-flagbox" style="width:40px;height:40px">\n           <span class="phoca-flag '+m((i=c.countryIcon||b&&b.countryIcon,j={hash:{},data:e},i?i.call(b,(h=b&&b.firstMatch,null==h||h===!1?h:h.module),j):o.call(b,"countryIcon",(h=b&&b.firstMatch,null==h||h===!1?h:h.module),j)))+'"></span>\n       </div>\n    </span>\n</h4>\n\n<h5>SCTID: '+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.conceptId,typeof h===l?h.apply(b):h))+'</h5>\n<div id="home-descriptions-',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===l?i.call(b,{hash:{},data:e}):i),k+=m(h)+'"></div>'}),this.JST["views/conceptDetailsPlugin/tabs/home/children.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(4,h,b),fn:v.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.childrenResult,null==d||d===!1?d:d.length),0,f):w.call(a,"if_eq",(d=a&&a.childrenResult,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(){return'\n        <span class="text-muted">No children</span>\n    '}function h(a,b){var d,e="";return e+="\n        <ul style='list-style-type: none; padding-left: 15px;'>\n            ",d=c.each.call(a,a&&a.childrenResult,{hash:{},inverse:v.noop,fn:v.programWithDepth(5,i,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n        </ul>\n    "}function i(a,b,d){var e,f="";return f+="\n                ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:v.noop,fn:v.programWithDepth(6,j,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n            "}function j(a,b,d,e){var f,g,h,i="";return i+='\n                    <li data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+"' data-term='",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+"' class='treeLabel'>\n                        <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-",g=c.if_eq||e&&e.if_eq,h={hash:{},inverse:v.program(12,n,b),fn:v.program(7,k,b),data:b},f=g?g.call(a,e&&e.selectedView,"inferred",h):w.call(a,"if_eq",e&&e.selectedView,"inferred",h),(f||0===f)&&(i+=f),i+=" treeButton' id='"+y((f=e&&e.divElementId,typeof f===x?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+"'></i></button>\n                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:v.programWithDepth(16,p,b,d),fn:v.programWithDepth(14,o,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"Primitive",h):w.call(a,"if_eq",a&&a.definitionStatus,"Primitive",h),(f||0===f)&&(i+=f),i+="\n                        ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:v.noop,fn:v.program(18,q,b),data:b},f=g?g.call(a,a&&a.module,h):w.call(a,"hasCountryIcon",a&&a.module,h),(f||0===f)&&(i+=f),i+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                            <span class="treeLabel selectable-row" data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+'" id="'+y((f=e&&e.divElementId,typeof f===x?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===x?g.call(a,{hash:{},data:b}):g),i+=y(f)+"</span>\n                        </a>\n                    </li>\n                "}function k(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(10,m,b),fn:v.program(8,l,b),data:b},d=e?e.call(a,a&&a.isLeafInferred,!0,f):w.call(a,"if_eq",a&&a.isLeafInferred,!0,f),d||0===d?d:""}function l(){return"minus"
}function m(){return"chevron-right"}function n(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(10,m,b),fn:v.program(8,l,b),data:b},d=e?e.call(a,a&&a.isLeafStated,!0,f):w.call(a,"if_eq",a&&a.isLeafStated,!0,f),d||0===d?d:""}function o(a,b,d){var e,f,g="";return g+='\n                            <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+y((e=d&&d.divElementId,typeof e===x?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===x?f.call(a,{hash:{},data:b}):f),g+=y(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===x?f.call(a,{hash:{},data:b}):f),g+=y(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===x?f.call(a,{hash:{},data:b}):f),g+=y(e)+'">&nbsp;</span>&nbsp;&nbsp;\n                        '}function p(a,b,d){var e,f,g="";return g+='\n                            <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+y((e=d&&d.divElementId,typeof e===x?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===x?f.call(a,{hash:{},data:b}):f),g+=y(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===x?f.call(a,{hash:{},data:b}):f),g+=y(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===x?f.call(a,{hash:{},data:b}):f),g+=y(e)+'">&equiv;</span>&nbsp;&nbsp;\n                        '}function q(a,b){var d,e,f="";return f+='\n                            <div class="phoca-flagbox" style="width:26px;height:26px">\n                                <span class="phoca-flag '+y((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):w.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                            </div>\n                        '}function r(a,b){var d,e,f,h="";return h+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:v.program(21,s,b),fn:v.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.childrenResult,null==d||d===!1?d:d.length),0,f):w.call(a,"if_eq",(d=a&&a.childrenResult,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n"}function s(a,b){var d,e,f="";return f+='\n        <button id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=y(d)+'-showChildren" class="btn btn-link">'+y((d=a&&a.childrenResult,d=null==d||d===!1?d:d.length,typeof d===x?d.apply(a):d))+" children</button>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var t,u="",v=this,w=c.helperMissing,x="function",y=this.escapeExpression;return t=c["if"].call(b,b&&b.displayChildren,{hash:{},inverse:v.program(20,r,e),fn:v.program(1,f,e),data:e}),(t||0===t)&&(u+=t),u+="\n\n\n"}),this.JST["views/conceptDetailsPlugin/tabs/home/parents.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.programWithDepth(4,h,b,a),fn:B.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.statedParents,null==d||d===!1?d:d.length),0,f):y.call(a,"if_eq",(d=a&&a.statedParents,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(i+=d),i+="\n"}function g(){return"\n        <span class='text-muted'>No parents</span>\n    "}function h(a,b,d){var e,f="";return f+="\n        <ul style='list-style-type: none; padding-left: 2px;'>\n            ",e=c.each.call(a,a&&a.statedParents,{hash:{},inverse:B.noop,fn:B.programWithDepth(5,i,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n        </ul>\n    "}function i(a,b,d,e){var f,g,h,i="";return i+="\n                <li data-concept-id='"+z((f=a&&a.target,f=null==f||f===!1?f:f.conceptId,typeof f===A?f.apply(a):f))+'\'>\n                <!--<span draggable = "true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.divElementId,f=typeof g===A?g.call(a,{hash:{},data:b}):g),i+=z(f)+"')\" class='text-warning' data-module=\""+z((f=a&&a.target,f=null==f||f===!1?f:f.module,typeof f===A?f.apply(a):f))+"\" data-concept-id='"+z((f=a&&a.type,f=null==f||f===!1?f:f.conceptId,typeof f===A?f.apply(a):f))+"' data-term='"+z((f=a&&a.type,f=null==f||f===!1?f:f.defaultTerm,typeof f===A?f.apply(a):f))+"'>-->\n                    <!--",g=c.if_gr||a&&a.if_gr,h={hash:{},inverse:B.program(8,k,b),fn:B.program(6,j,b),data:b},f=g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.defaultTerm),0,h):y.call(a,"if_gr",(f=a&&a.type,null==f||f===!1?f:f.defaultTerm),0,h),(f||0===f)&&(i+=f),i+="-->\n                <!--</span>&nbsp;&rArr;&nbsp;-->\n                    <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton' data-first=\"true\" data-ind=\""+z((f=null==b||b===!1?b:b.index,typeof f===A?f.apply(a):f))+'"></i></button>\n                    ',g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:B.programWithDepth(12,m,b,d),fn:B.programWithDepth(10,l,b,d),data:b},f=g?g.call(a,(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h):y.call(a,"if_eq",(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h),(f||0===f)&&(i+=f),i+="\n                    ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:B.noop,fn:B.program(14,n,b),data:b},f=g?g.call(a,a&&a.module,h):y.call(a,"hasCountryIcon",a&&a.module,h),(f||0===f)&&(i+=f),i+="\n                    ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:B.programWithDepth(18,p,b,e),fn:B.programWithDepth(16,o,b,e),data:b},f=g?g.call(a,(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h):y.call(a,"if_eq",(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h),(f||0===f)&&(i+=f),i+="\n                    "+z((f=a&&a.target,f=null==f||f===!1?f:f.defaultTerm,typeof f===A?f.apply(a):f))+"\n                    </span>\n                </li>\n            "}function j(a,b){var d,e,f,g="";return g+="-->\n                        <!--"+z((e=c.substr||a&&a.substr,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f):y.call(a,"substr",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f)))+"-->\n                    <!--"}function k(a){var b,c="";return c+="-->\n                        <!--"+z((b=a&&a.type,b=null==b||b===!1?b:b.defaultTerm,typeof b===A?b.apply(a):b))+"-->\n                    <!--"}function l(a,b,c){var d,e="";return e+='\n                        <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+z((d=c&&c.divElementId,typeof d===A?d.apply(a):d))+'\')" data-module="'+z((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===A?d.apply(a):d))+'" data-concept-id="'+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+'" data-term="'+z((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===A?d.apply(a):d))+'">&nbsp;</span>&nbsp;&nbsp;\n                    '}function m(a,b,c){var d,e="";return e+='\n                        <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+z((d=c&&c.divElementId,typeof d===A?d.apply(a):d))+'\')" data-module="'+z((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===A?d.apply(a):d))+'" data-concept-id="'+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+'" data-term="'+z((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===A?d.apply(a):d))+'">&equiv;</span>&nbsp;&nbsp;\n                    '}function n(a,b){var d,e,f="";return f+='\n                        <div class="phoca-flagbox" style="width:26px;height:26px">\n                            <span class="phoca-flag '+z((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):y.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                        </div>\n                    '}function o(a,b,c){var d,e="";return e+="\n                    <span id='"+z((d=null==b||b===!1?b:b.index,typeof d===A?d.apply(a):d))+z((d=c&&c.divElementId,typeof d===A?d.apply(a):d))+"-treeicon-"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' class='sct-primitive-concept-compact' data-module=\""+z((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===A?d.apply(a):d))+"\" data-concept-id='"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' data-term='"+z((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===A?d.apply(a):d))+"'>\n                    "}function p(a,b,c){var d,e="";return e+="\n                    <span id='"+z((d=null==b||b===!1?b:b.index,typeof d===A?d.apply(a):d))+z((d=c&&c.divElementId,typeof d===A?d.apply(a):d))+"-treeicon-"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' class='sct-defined-concept-compact' data-module=\""+z((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===A?d.apply(a):d))+"\" data-concept-id='"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' data-term='"+z((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===A?d.apply(a):d))+"'>\n                    "}function q(a,b){var d,e,f,h="";return h+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:B.programWithDepth(21,r,b,a),fn:B.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.inferredParents,null==d||d===!1?d:d.length),0,f):y.call(a,"if_eq",(d=a&&a.inferredParents,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n"}function r(a,b,d){var e,f="";return f+="\n        <ul style='list-style-type: none; padding-left: 2px; padding-top: 0px;'>\n            ",e=c.each.call(a,a&&a.inferredParents,{hash:{},inverse:B.noop,fn:B.programWithDepth(22,s,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n        </ul>\n    "}function s(a,b,d,e){var f,g,h,i="";return i+="\n                <li data-concept-id='"+z((f=a&&a.target,f=null==f||f===!1?f:f.conceptId,typeof f===A?f.apply(a):f))+'\'>\n                <!--<span draggable = "true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.divElementId,f=typeof g===A?g.call(a,{hash:{},data:b}):g),i+=z(f)+"')\" class='text-warning' data-module=\""+z((f=a&&a.target,f=null==f||f===!1?f:f.module,typeof f===A?f.apply(a):f))+"\" data-concept-id='"+z((f=a&&a.type,f=null==f||f===!1?f:f.conceptId,typeof f===A?f.apply(a):f))+"' data-term='"+z((f=a&&a.type,f=null==f||f===!1?f:f.defaultTerm,typeof f===A?f.apply(a):f))+"'>-->\n                    <!--"+z((f=a&&a.type,f=null==f||f===!1?f:f.defaultTerm,typeof f===A?f.apply(a):f))+"-->\n                <!--</span>&nbsp;&rArr;&nbsp;-->\n                    <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton' data-first=\"true\" data-ind=\""+z((f=null==b||b===!1?b:b.index,typeof f===A?f.apply(a):f))+'"></i></button>\n                    ',g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:B.programWithDepth(12,m,b,d),fn:B.programWithDepth(10,l,b,d),data:b},f=g?g.call(a,(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h):y.call(a,"if_eq",(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h),(f||0===f)&&(i+=f),i+="\n                    ",g=c.hasCountryIcon||a&&a.hasCountryIcon,h={hash:{},inverse:B.noop,fn:B.program(14,n,b),data:b},f=g?g.call(a,a&&a.module,h):y.call(a,"hasCountryIcon",a&&a.module,h),(f||0===f)&&(i+=f),i+="\n                    ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:B.programWithDepth(25,u,b,e),fn:B.programWithDepth(23,t,b,e),data:b},f=g?g.call(a,(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h):y.call(a,"if_eq",(f=a&&a.target,null==f||f===!1?f:f.definitionStatus),"Primitive",h),(f||0===f)&&(i+=f),i+="\n                    "+z((f=a&&a.target,f=null==f||f===!1?f:f.defaultTerm,typeof f===A?f.apply(a):f))+"\n                </span>\n                </li>\n            "}function t(a,b,c){var d,e="";return e+="\n                        <span id='"+z((d=null==b||b===!1?b:b.index,typeof d===A?d.apply(a):d))+z((d=c&&c.divElementId,typeof d===A?d.apply(a):d))+"-treeicon-"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' class='sct-primitive-concept-compact' data-module=\""+z((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===A?d.apply(a):d))+"\" data-concept-id='"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' data-term='"+z((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===A?d.apply(a):d))+"'>\n                    "}function u(a,b,c){var d,e="";return e+="\n                        <span id='"+z((d=null==b||b===!1?b:b.index,typeof d===A?d.apply(a):d))+z((d=c&&c.divElementId,typeof d===A?d.apply(a):d))+"-treeicon-"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' class='sct-defined-concept-compact' data-module=\""+z((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===A?d.apply(a):d))+"\" data-concept-id='"+z((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===A?d.apply(a):d))+"' data-term='"+z((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===A?d.apply(a):d))+"'>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var v,w,x,y=c.helperMissing,z=this.escapeExpression,A="function",B=this;return w=c.if_eq||b&&b.if_eq,x={hash:{},inverse:B.program(20,q,e),fn:B.program(1,f,e),data:e},v=w?w.call(b,(v=b&&b.options,null==v||v===!1?v:v.selectedView),"stated",x):y.call(b,"if_eq",(v=b&&b.options,null==v||v===!1?v:v.selectedView),"stated",x),v||0===v?v:""}),this.JST["views/conceptDetailsPlugin/tabs/home/roles.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n        ",d=c.each.call(a,a&&a.statedRoles,{hash:{},inverse:y.noop,fn:y.program(2,g,b),data:b}),(d||0===d)&&(h+=d),h+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:y.noop,fn:y.program(11,l,b),data:b},d=e?e.call(a,(d=a&&a.statedRoles,null==d||d===!1?d:d.length),0,f):v.call(a,"if_eq",(d=a&&a.statedRoles,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n    "}function g(a,b){var d,e,f,g="";return g+="\n            <!--<br>-->\n            ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:y.program(5,i,b),fn:y.program(3,h,b),data:b},d=e?e.call(a,a&&a.groupId,f):v.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+='\n            &nbsp;<span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===x?e.call(a,{hash:{},data:b}):e),g+=w(d)+"')\" class='sct-attribute-compact' data-module=\""+w((d=a&&a.type,d=null==d||d===!1?d:d.module,typeof d===x?d.apply(a):d))+"\" data-concept-id='"+w((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===x?d.apply(a):d))+"' data-term='"+w((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===x?d.apply(a):d))+"'>\n                "+w((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f):v.call(a,"removeSemtag",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f)))+"</span>&nbsp;&rarr;&nbsp;\n\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:y.program(9,k,b),fn:y.program(7,j,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f):v.call(a,"if_eq",(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n            "+w((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f):v.call(a,"removeSemtag",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f)))+"\n        </span><br>\n        "}function h(a,b){var d,e,f="";return f+="\n                "+w((d=c.setLastGroup||a&&a.setLastGroup,e={hash:{},data:b},d?d.call(a,a&&a.groupId,e):v.call(a,"setLastGroup",a&&a.groupId,e)))+"\n                "+w((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,a&&a.getRandomColor,e):v.call(a,"lastColor",a&&a.getRandomColor,e)))+"\n                <span style='background-color: "+w((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):v.call(a,"lastColor","get",e)))+"'></span>\n            "}function i(a,b){var d,e,f="";return f+="\n                <span style='background-color: "+w((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):v.call(a,"lastColor","get",e)))+"'></span>\n            "}function j(a,b){var d,e,f="";return f+='\n                <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=w(d)+"')\" class='sct-primitive-concept-compact' data-module=\""+w((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===x?d.apply(a):d))+"\" data-concept-id='"+w((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===x?d.apply(a):d))+"' data-term='"+w((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===x?d.apply(a):d))+"'>\n            "}function k(a,b){var d,e,f="";return f+='\n                <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===x?e.call(a,{hash:{},data:b}):e),f+=w(d)+"')\" class='sct-defined-concept-compact' data-module=\""+w((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===x?d.apply(a):d))+"\" data-concept-id='"+w((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===x?d.apply(a):d))+"' data-term='"+w((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===x?d.apply(a):d))+"'>\n            "}function l(){return"\n            <span class='i18n text-muted' data-i18n-id='i18n_no_relationships'>No relationships</span>\n        "}function m(a,b){var d,e,f,g="";return g+="\n        ",d=c.each.call(a,a&&a.inferredRoles,{hash:{},inverse:y.noop,fn:y.program(14,n,b),data:b}),(d||0===d)&&(g+=d),g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:y.noop,fn:y.program(19,q,b),data:b},d=e?e.call(a,(d=a&&a.inferredRoles,null==d||d===!1?d:d.length),0,f):v.call(a,"if_eq",(d=a&&a.inferredRoles,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n    "}function n(a,b){var d,e,f,g="";return g+="\n            <!--<br>-->\n            ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:y.program(5,i,b),fn:y.program(3,h,b),data:b},d=e?e.call(a,a&&a.groupId,f):v.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+='\n            &nbsp;<span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===x?e.call(a,{hash:{},data:b}):e),g+=w(d)+"')\" class='sct-attribute-compact' data-module=\""+w((d=a&&a.type,d=null==d||d===!1?d:d.module,typeof d===x?d.apply(a):d))+"\" data-concept-id='"+w((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===x?d.apply(a):d))+"' data-term='"+w((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===x?d.apply(a):d))+"'>\n                "+w((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f):v.call(a,"removeSemtag",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f)))+'</span>&nbsp;&rarr;&nbsp;\n            <span draggable = "true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===x?e.call(a,{hash:{},data:b}):e),g+=w(d)+"')\" class='\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:y.program(17,p,b),fn:y.program(15,o,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f):v.call(a,"if_eq",(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                ' data-module=\""+w((d=a&&a.target,d=null==d||d===!1?d:d.module,typeof d===x?d.apply(a):d))+"\" data-concept-id='"+w((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===x?d.apply(a):d))+"' data-term='"+w((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===x?d.apply(a):d))+"'>\n                "+w((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f):v.call(a,"removeSemtag",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f)))+"</span><br>\n        "}function o(){return"\n                     sct-primitive-concept-compact\n                "}function p(){return"\n                     sct-defined-concept-compact\n                "}function q(){return"\n            <span class='i18n text-muted' data-i18n-id='i18n_no_relationships'>No attributes</span>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s,t,u="",v=c.helperMissing,w=this.escapeExpression,x="function",y=this;return u+="<div style='line-height: 100%;'>\n    ",s=c.if_eq||b&&b.if_eq,t={hash:{},inverse:y.program(13,m,e),fn:y.program(1,f,e),data:e},r=s?s.call(b,(r=b&&b.options,null==r||r===!1?r:r.selectedView),"stated",t):v.call(b,"if_eq",(r=b&&b.options,null==r||r===!1?r:r.selectedView),"stated",t),(r||0===r)&&(u+=r),u+="\n</div>"}),this.JST["views/conceptDetailsPlugin/tabs/members.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n    <thead>\n        <tr>\n            <th>Term</th>\n            <th>Concept Id</th>\n        </tr>\n    </thead>\n"}function g(a,b,d){var e,f,g="";return g+="\n        <tr>\n            <td>\n                <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+q((e=d&&d.divElementId,typeof e===p?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===p?f.call(a,{hash:{},data:b}):f),g+=q(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),g+=q(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===p?f.call(a,{hash:{},data:b}):f),g+=q(e)+"'>&nbsp;</span>\n                ",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===p?f.call(a,{hash:{},data:b}):f),g+=q(e)+"\n            </td>\n            <td>",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),g+=q(e)+"</td>\n        </tr>\n    "}function h(a){var b,c="";return c+='\n            <td class="text-muted" class="text-center" colspan="2">'+q((b=a&&a.result,b=null==b||b===!1?b:b.details,b=null==b||b===!1?b:b.total,typeof b===p?b.apply(a):b))+" members</td>\n        "}function i(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:r.program(10,k,b),fn:r.program(8,j,b),data:b},d=e?e.call(a,a&&a.remaining,a&&a.returnLimit,f):s.call(a,"if_gr",a&&a.remaining,a&&a.returnLimit,f),(d||0===d)&&(g+=d),g+="\n        "}function j(a,b){var d,e,f="";return f+='\n                <td class="text-center" id="',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"-moreMembers\" colspan=\"2\">\n                    <button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"-moreMembers'>Load ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+" more (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+" remaining)</button>\n                </td>\n            "}function k(a,b){var d,e,f="";return f+='\n                <td class="text-center" colspan="2">\n                    <button class=\'btn btn-link\' id=\'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+"-moreMembers'>Load ",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+" more (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+" remaining)</button>\n                </td>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e},l=m?m.call(b,b&&b.skipTo,0,n):s.call(b,"if_eq",b&&b.skipTo,0,n),(l||0===l)&&(o+=l),o+="\n<tbody>\n    ",l=c.each.call(b,(l=b&&b.result,null==l||l===!1?l:l.members),{hash:{},inverse:r.noop,fn:r.programWithDepth(3,g,e,b),data:e}),(l||0===l)&&(o+=l),o+='\n\n    <tr class="more-row">\n        ',m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:r.program(7,i,e),fn:r.program(5,h,e),data:e},l=m?m.call(b,b&&b.remaining,0,n):s.call(b,"if_eq",b&&b.remaining,0,n),(l||0===l)&&(o+=l),o+="\n    </tr>\n</tbody>"}),this.JST["views/conceptDetailsPlugin/tabs/refset.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(4,h,b),fn:M.program(2,g,b),data:b},d=e?e.call(a,a&&a.type,"SIMPLE_REFSET",f):K.call(a,"if_eq",a&&a.type,"SIMPLE_REFSET",f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){var d,e,f="";return f+="\n        "+L((d=c.refset||a&&a.refset,e={hash:{},data:b},d?d.call(a,"simple",!0,e):K.call(a,"refset","simple",!0,e)))+"\n    "}function h(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(7,j,b),fn:M.program(5,i,b),data:b},d=e?e.call(a,a&&a.type,"SIMPLEMAP",f):K.call(a,"if_eq",a&&a.type,"SIMPLEMAP",f),(d||0===d)&&(g+=d),g+="\n    "}function i(a,b){var d,e,f="";return f+="\n            "+L((d=c.refset||a&&a.refset,e={hash:{},data:b},d?d.call(a,"simplemap",!0,e):K.call(a,"refset","simplemap",!0,e)))+"\n        "}function j(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(10,l,b),fn:M.program(8,k,b),data:b},d=e?e.call(a,a&&a.type,"ATTRIBUTE_VALUE",f):K.call(a,"if_eq",a&&a.type,"ATTRIBUTE_VALUE",f),(d||0===d)&&(g+=d),g+="\n        "}function k(a,b){var d,e,f="";return f+="\n                "+L((d=c.refset||a&&a.refset,e={hash:{},data:b},d?d.call(a,"attr",!0,e):K.call(a,"refset","attr",!0,e)))+"\n            "}function l(a,b){var d,e,f="";return f+="\n                "+L((d=c.refset||a&&a.refset,e={hash:{},data:b},d?d.call(a,"assoc",!0,e):K.call(a,"refset","assoc",!0,e)))+"\n            "}function m(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.noop,fn:M.program(13,n,b),data:b},d=e?e.call(a,a&&a.type,"SIMPLE_REFSET",f):K.call(a,"if_eq",a&&a.type,"SIMPLE_REFSET",f),(d||0===d)&&(g+=d),g+="\n    "}function n(a,b){var d,e,f,g="";return g+="\n        <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:M.program(16,p,b),fn:M.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(20,r,b),fn:M.program(18,q,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):K.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+"\n            </td>\n            <td>",(e=c.otherValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.otherValue,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td>\n            <td>\n                <div class="phoca-flagbox" style="width:35px;height:35px">\n                    <span class="phoca-flag '+L((e=c.countryIcon||a&&a.countryIcon,f={hash:{},data:b},e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.module),f):K.call(a,"countryIcon",(d=a&&a.refset,null==d||d===!1?d:d.module),f)))+'"></span>\n                </div>\n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'>\n                        <tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td></tr>\n                    </table>"data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n        '}function o(){var a="";return a}function p(){return"danger"}function q(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')" data-module="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'" data-concept-id="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function r(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')" data-module="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'" data-concept-id="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function s(){return"\n        </tbody>\n    "}function t(){return"\n        <tr><td><span class='i18n text-muted' data-i18n-id='i18n_no_memberships'>No memberships</span></td></tr>\n        </tbody>\n    "}function u(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.noop,fn:M.program(27,v,b),data:b},d=e?e.call(a,a&&a.type,"SIMPLEMAP",f):K.call(a,"if_eq",a&&a.type,"SIMPLEMAP",f),(d||0===d)&&(g+=d),g+="\n    "}function v(a,b){var d,e,f,g="";return g+="\n        <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:M.program(16,p,b),fn:M.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(30,x,b),fn:M.program(28,w,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):K.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'\n            </td>\n            <td class="refset-simplemap" data-refsetId="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-conceptId="',(e=c.otherValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.otherValue,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'">',(e=c.otherValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.otherValue,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td>\n            <td>\n                <div class="phoca-flagbox" style="width:35px;height:35px">\n                    <span class="phoca-flag '+L((e=c.countryIcon||a&&a.countryIcon,f={hash:{},data:b},e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.module),f):K.call(a,"countryIcon",(d=a&&a.refset,null==d||d===!1?d:d.module),f)))+'"></span>\n                </div>\n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td></tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n        '
}function w(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')" data-module="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'"  data-concept-id="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function x(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')" data-module="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'"  data-concept-id="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.refset,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function y(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.noop,fn:M.program(33,z,b),data:b},d=e?e.call(a,a&&a.type,"ATTRIBUTE_VALUE",f):K.call(a,"if_eq",a&&a.type,"ATTRIBUTE_VALUE",f),(d||0===d)&&(g+=d),g+="\n    "}function z(a,b){var d,e,f,g="";return g+="\n        <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:M.program(16,p,b),fn:M.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(20,r,b),fn:M.program(18,q,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):K.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+"\n            </td>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(36,B,b),fn:M.program(34,A,b),data:b},d=e?e.call(a,(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f):K.call(a,"if_eq",(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'</td>\n            <td>\n                <div class="phoca-flagbox" style="width:35px;height:35px">\n                    <span class="phoca-flag '+L((e=c.countryIcon||a&&a.countryIcon,f={hash:{},data:b},e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.module),f):K.call(a,"countryIcon",(d=a&&a.refset,null==d||d===!1?d:d.module),f)))+'"></span>\n                </div>\n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td></tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n        '}function A(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')"  data-module="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'" data-concept-id="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span  class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function B(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')"  data-module="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'" data-concept-id="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span  class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}function C(a,b){var d,e,f,g="";return g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.noop,fn:M.program(39,D,b),data:b},d=e?e.call(a,a&&a.type,"ASSOCIATION",f):K.call(a,"if_eq",a&&a.type,"ASSOCIATION",f),(d||0===d)&&(g+=d),g+="\n    "}function D(a,b){var d,e,f,g="";return g+="\n        <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:M.program(16,p,b),fn:M.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(20,r,b),fn:M.program(18,q,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):K.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+"\n            </td>\n            <td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:M.program(42,F,b),fn:M.program(40,E,b),data:b},d=e?e.call(a,(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f):K.call(a,"if_eq",(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'</td>\n            <td>\n                <div class="phoca-flagbox" style="width:35px;height:35px">\n                    <span class="phoca-flag '+L((e=c.countryIcon||a&&a.countryIcon,f={hash:{},data:b},e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.module),f):K.call(a,"countryIcon",(d=a&&a.refset,null==d||d===!1?d:d.module),f)))+'"></span>\n                </div>\n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr>\n                            <td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===N?e.call(a,{hash:{},data:b}):e),g+=L(d)+'\n                            </td>\n                        </tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </td>\n        </tr>\n        '}function E(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')" data-module="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'" data-concept-id="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span class="badge alert-warning">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function F(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;" draggable = "true" ondragstart = "drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===N?e.call(a,{hash:{},data:b}):e),f+=L(d)+'\')" data-module="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.module,typeof d===N?d.apply(a):d))+'" data-concept-id="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.conceptId,typeof d===N?d.apply(a):d))+'" data-term="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===N?d.apply(a):d))+'" data-def-status="'+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.definitionStatus,typeof d===N?d.apply(a):d))+'"><span class="badge alert-warning">&equiv;</span></a>&nbsp;&nbsp;\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var G,H,I,J="",K=c.helperMissing,L=this.escapeExpression,M=this,N="function";return J+=L((H=c.refset||b&&b.refset,I={hash:{},data:e},H?H.call(b,"simple",!1,I):K.call(b,"refset","simple",!1,I)))+"\n"+L((H=c.refset||b&&b.refset,I={hash:{},data:e},H?H.call(b,"simplemap",!1,I):K.call(b,"refset","simplemap",!1,I)))+"\n"+L((H=c.refset||b&&b.refset,I={hash:{},data:e},H?H.call(b,"attr",!1,I):K.call(b,"refset","attr",!1,I)))+"\n"+L((H=c.refset||b&&b.refset,I={hash:{},data:e},H?H.call(b,"assoc",!1,I):K.call(b,"refset","assoc",!1,I)))+"\n\n",G=c.each.call(b,(G=b&&b.firstMatch,null==G||G===!1?G:G.memberships),{hash:{},inverse:M.noop,fn:M.program(1,f,e),data:e}),(G||0===G)&&(J+=G),J+="\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_simple_refset_memberships'>Simple Refsets Memberships</span></th>\n    </tr></thead>\n<tbody>\n    ",G=c.each.call(b,(G=b&&b.firstMatch,null==G||G===!1?G:G.memberships),{hash:{},inverse:M.noop,fn:M.program(12,m,e),data:e}),(G||0===G)&&(J+=G),J+="\n    ",H=c.refset||b&&b.refset,I={hash:{},inverse:M.program(24,t,e),fn:M.program(22,s,e),data:e},G=H?H.call(b,"simple","get",I):K.call(b,"refset","simple","get",I),(G||0===G)&&(J+=G),J+="\n</table>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_simple_map_refset_name'>Simple Map Refset name</span></th>\n    </tr></thead>\n<tbody>\n    ",G=c.each.call(b,(G=b&&b.firstMatch,null==G||G===!1?G:G.memberships),{hash:{},inverse:M.noop,fn:M.program(26,u,e),data:e}),(G||0===G)&&(J+=G),J+="\n    ",H=c.refset||b&&b.refset,I={hash:{},inverse:M.program(24,t,e),fn:M.program(22,s,e),data:e},G=H?H.call(b,"simplemap","get",I):K.call(b,"refset","simplemap","get",I),(G||0===G)&&(J+=G),J+="\n</table>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_attribute_value_refset_name'>Attribute Value Refset name</span></th>\n    </tr></thead>\n<tbody>\n\n    ",G=c.each.call(b,(G=b&&b.firstMatch,null==G||G===!1?G:G.memberships),{hash:{},inverse:M.noop,fn:M.program(32,y,e),data:e}),(G||0===G)&&(J+=G),J+="\n    ",H=c.refset||b&&b.refset,I={hash:{},inverse:M.program(24,t,e),fn:M.program(22,s,e),data:e},G=H?H.call(b,"attr","get",I):K.call(b,"refset","attr","get",I),(G||0===G)&&(J+=G),J+="\n</table>\n\n<table class='table table-hover'>\n    <thead><tr>\n        <th colspan=\"3\"><span class='i18n' data-i18n-id='i18n_association_refset_name'>Association Refset name</span></th>\n    </tr></thead>\n<tbody>\n    ",G=c.each.call(b,(G=b&&b.firstMatch,null==G||G===!1?G:G.memberships),{hash:{},inverse:M.noop,fn:M.program(38,C,e),data:e}),(G||0===G)&&(J+=G),J+="\n    ",H=c.refset||b&&b.refset,I={hash:{},inverse:M.program(24,t,e),fn:M.program(22,s,e),data:e},G=H?H.call(b,"assoc","get",I):K.call(b,"refset","assoc","get",I),(G||0===G)&&(J+=G),J+="\n</table>\n"}),this.JST["views/searchPlugin/body/0.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b,d,e){var f,g,j,k="";return k+="\n    <tr class='resultRow selectable-row ",f=c["if"].call(a,a&&a.danger,{hash:{},inverse:q.noop,fn:q.program(2,h,b),data:b}),(f||0===f)&&(k+=f),k+="'>\n        <td class='col-md-7'>\n            <div class='result-item' data-module=\"",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+'\'>\n                <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.divElementId,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+'\')" data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"'>&nbsp;</span>\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,j={hash:{},inverse:q.noop,fn:q.program(4,i,b),data:b},f=g?g.call(a,a&&a.module,j):o.call(a,"hasCountryIcon",a&&a.module,j),(f||0===f)&&(k+=f),k+="\n                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;' draggable=\"true\" ondragstart=\"drag(event, '"+p((f=e&&e.divElementId,typeof f===r?f.apply(a):f))+"')\" data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"' data-module=\"",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"'>",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"</a>\n            </div>\n        </td>\n        <td class='text-muted small-text col-md-5 result-item' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"' data-module=\"",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"' data-term='",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===r?g.call(a,{hash:{},data:b}):g),k+=p(f)+"'>\n            "+p((f=d&&d.result,f=null==f||f===!1?f:f.defaultTerm,typeof f===r?f.apply(a):f))+"\n        </td>\n    </tr>\n"}function h(){return"danger"}function i(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:35px;height:35px">\n                        <span class="phoca-flag '+p((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):o.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}function j(){return"\n    <tr><td class='text-muted'>No results</td></tr>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m,n="",o=c.helperMissing,p=this.escapeExpression,q=this,r="function";return k=c.each.call(b,(k=b&&b.result,null==k||k===!1?k:k.descriptions),{hash:{},inverse:q.noop,fn:q.programWithDepth(1,g,e,b,f),data:e}),(k||0===k)&&(n+=k),n+="\n\n",l=c.if_eq||b&&b.if_eq,m={hash:{},inverse:q.noop,fn:q.program(6,j,e),data:e},k=l?l.call(b,(k=b&&b.result,k=null==k||k===!1?k:k.descriptions,null==k||k===!1?k:k.length),0,m):o.call(b,"if_eq",(k=b&&b.result,k=null==k||k===!1?k:k.descriptions,null==k||k===!1?k:k.length),0,m),(k||0===k)&&(n+=k),n+="\n"}),this.JST["views/searchPlugin/body/1.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b,d){var e,f,g,k="";return k+="\n    <tr class='resultRow selectable-row",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:m.program(4,i,b),fn:m.program(2,h,b),data:b},e=f?f.call(a,a&&a.active,!1,g):n.call(a,"if_eq",a&&a.active,!1,g),(e||0===e)&&(k+=e),k+="'>\n        <td class='col-md-7'>\n            <div class='result-item' data-module=\"",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+'\'>\n                <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \'',(f=c.divElementId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.divElementId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"'>&nbsp;</span>\n                ",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:m.noop,fn:m.program(6,j,b),data:b},e=f?f.call(a,a&&a.module,g):n.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(k+=e),k+="\n                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;' draggable=\"true\" ondragstart=\"drag(event, '"+o((e=d&&d.divElementId,typeof e===p?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"</a>\n            </div>\n        </td>\n        <td class='text-muted small-text col-md-5 result-item' data-module=\"",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"'>\n            ",(f=c.fsn)?e=f.call(a,{hash:{},data:b}):(f=a&&a.fsn,e=typeof f===p?f.call(a,{hash:{},data:b}):f),k+=o(e)+"\n        </td>\n    </tr>\n"}function h(){return"danger"}function i(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:m.noop,fn:m.program(2,h,b),data:b},d=e?e.call(a,a&&a.conceptActive,!1,f):n.call(a,"if_eq",a&&a.conceptActive,!1,f),d||0===d?d:""}function j(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:35px;height:35px">\n                        <span class="phoca-flag '+o((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):n.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l="",m=this,n=c.helperMissing,o=this.escapeExpression,p="function";return k=c.each.call(b,(k=b&&b.result,null==k||k===!1?k:k.matches),{hash:{},inverse:m.noop,fn:m.programWithDepth(1,g,e,f),data:e}),(k||0===k)&&(l+=k),l+="\n"}),this.JST["views/searchPlugin/body/bar.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n    <span class='text-muted'>"+t((d=a&&a.result,d=null==d||d===!1?d:d.details,d=null==d||d===!1?d:d.total,typeof d===s?d.apply(a):d))+" matches found in ",(e=c.elapsed)?d=e.call(a,{hash:{},data:b}):(e=a&&a.elapsed,d=typeof e===s?e.call(a,{hash:{},data:b}):e),f+=t(d)+" seconds.</span>\n"}function g(){return"\n"}function h(a){var b,c="";return c+="\n    &nbsp;&nbsp;<span class='label label-danger'>"+t((b=a&&a.options,b=null==b||b===!1?b:b.semTagFilter,typeof b===s?b.apply(a):b))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-semtag'>&times;</a></span>&nbsp;&nbsp;\n"}function i(a){var b,c="";return c+="\n    &nbsp;&nbsp;<span class='label label-danger'>"+t((b=a&&a.options,b=null==b||b===!1?b:b.langFilter,typeof b===s?b.apply(a):b))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-lang'>&times;</a></span>&nbsp;&nbsp;\n"}function j(a){var b,c="";return c+="\n    &nbsp;&nbsp;<span class='label label-danger'>"+t((b=a&&a.options,b=null==b||b===!1?b:b.moduleFilter,typeof b===s?b.apply(a):b))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-module'>&times;</a></span>&nbsp;&nbsp;\n"}function k(a,b){var c,d="";return d+="\n                        <li><a class='lang-link' href='javascript:void(0);' data-lang='"+t((c=null==b||b===!1?b:b.key,typeof c===s?c.apply(a):c))+"'>"+t((c=null==b||b===!1?b:b.key,typeof c===s?c.apply(a):c))+" ("+t(typeof a===s?a.apply(a):a)+")</a></li>\n                    "}function l(a,b){var c,d="";return d+="\n                        <li><a class='semtag-link' href='javascript:void(0);' data-semtag='"+t((c=null==b||b===!1?b:b.key,typeof c===s?c.apply(a):c))+"'>"+t((c=null==b||b===!1?b:b.key,typeof c===s?c.apply(a):c))+" ("+t(typeof a===s?a.apply(a):a)+")</a></li>\n                    "}function m(a,b){var d,e,f,g="";return g+="\n                        <li><a class='module-link' href='javascript:void(0);' data-module='"+t((d=null==b||b===!1?b:b.key,typeof d===s?d.apply(a):d))+"'>"+t((d=null==b||b===!1?b:b.key,typeof d===s?d.apply(a):d))+" ("+t(typeof a===s?a.apply(a):a)+")\n                        ",e=c.hasCountryIcon||a&&a.hasCountryIcon,f={hash:{},inverse:v.noop,fn:v.program(16,n,b),data:b},d=e?e.call(a,null==b||b===!1?b:b.key,f):u.call(a,"hasCountryIcon",null==b||b===!1?b:b.key,f),(d||0===d)&&(g+=d),g+="\n                        </a></li>\n                    "}function n(a,b){var d,e,f="";return f+='\n                            <div class="phoca-flagbox" style="width:26px;height:26px">\n                                <span class="phoca-flag '+t((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,null==b||b===!1?b:b.key,e):u.call(a,"countryIcon",null==b||b===!1?b:b.key,e)))+'"></span>\n                            </div>\n                        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p,q,r="",s="function",t=this.escapeExpression,u=c.helperMissing,v=this;return o=c["if"].call(b,(o=b&&b.result,null==o||o===!1?o:o.details),{hash:{},inverse:v.noop,fn:v.program(1,f,e),data:e}),(o||0===o)&&(r+=o),r+="\n<span class='pull right'>\n<a class='btm btn-xs' style='margin: 3px; color: #777; background-color: #fff; border: 1px #ccc solid; margin-left: 25px;' data-toggle='collapse' href='#",(p=c.divElementId)?o=p.call(b,{hash:{},data:e}):(p=b&&b.divElementId,o=typeof p===s?p.call(b,{hash:{},data:e}):p),r+=t(o)+"-searchFiltersPanel'>\n    <span class='i18n' data-i18n-id='i18n_filters'>Filters</span>\n</a>\n",p=c.if_eq||b&&b.if_eq,q={hash:{},inverse:v.program(5,h,e),fn:v.program(3,g,e),data:e},o=p?p.call(b,(o=b&&b.options,null==o||o===!1?o:o.semTagFilter),"none",q):u.call(b,"if_eq",(o=b&&b.options,null==o||o===!1?o:o.semTagFilter),"none",q),(o||0===o)&&(r+=o),r+="\n",p=c.if_eq||b&&b.if_eq,q={hash:{},inverse:v.program(7,i,e),fn:v.program(3,g,e),data:e},o=p?p.call(b,(o=b&&b.options,null==o||o===!1?o:o.langFilter),"none",q):u.call(b,"if_eq",(o=b&&b.options,null==o||o===!1?o:o.langFilter),"none",q),(o||0===o)&&(r+=o),r+="\n",p=c.if_eq||b&&b.if_eq,q={hash:{},inverse:v.program(9,j,e),fn:v.program(3,g,e),data:e},o=p?p.call(b,(o=b&&b.options,null==o||o===!1?o:o.moduleFilter),"none",q):u.call(b,"if_eq",(o=b&&b.options,null==o||o===!1?o:o.moduleFilter),"none",q),(o||0===o)&&(r+=o),r+="\n</span>\n<div id='",(p=c.divElementId)?o=p.call(b,{hash:{},data:e}):(p=b&&b.divElementId,o=typeof p===s?p.call(b,{hash:{},data:e}):p),r+=t(o)+"-searchFiltersPanel' class='panel-collapse collapse'>\n    <div class='tree'>\n        <ul>\n            <li><a>Filter results by Language</a>\n                <ul>\n                    ",o=c.each.call(b,(o=b&&b.result,o=null==o||o===!1?o:o.filters,null==o||o===!1?o:o.lang),{hash:{},inverse:v.noop,fn:v.program(11,k,e),data:e}),(o||0===o)&&(r+=o),r+="\n                </ul>\n            </li>\n        </ul>\n        <ul>\n            <li><a>Filter results by Semantic Tag</a>\n                <ul>\n                    ",o=c.each.call(b,(o=b&&b.result,o=null==o||o===!1?o:o.filters,null==o||o===!1?o:o.semTag),{hash:{},inverse:v.noop,fn:v.program(13,l,e),data:e}),(o||0===o)&&(r+=o),r+="\n                </ul>\n            </li>\n        </ul>\n        <ul>\n            <li><a>Filter results by Module</a>\n                <ul>\n                    ",o=c.each.call(b,(o=b&&b.result,o=null==o||o===!1?o:o.filters,null==o||o===!1?o:o.module),{hash:{},inverse:v.noop,fn:v.program(15,m,e),data:e}),(o||0===o)&&(r+=o),r+="\n                </ul>\n            </li>\n        </ul>\n    </div>\n</div>"}),this.JST["views/searchPlugin/body/default.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_gre||a&&a.if_gre,f={hash:{},inverse:r.program(4,h,b),fn:r.program(2,g,b),data:b},d=e?e.call(a,"0",(d=a&&a.result,d=null==d||d===!1?d:d.matches,null==d||d===!1?d:d.length),f):s.call(a,"if_gre","0",(d=a&&a.result,d=null==d||d===!1?d:d.matches,null==d||d===!1?d:d.length),f),(d||0===d)&&(i+=d),i+="\n"}function g(){return"\n        <tr><td class='text-muted'>No results</td></tr>\n    "}function h(a,b){var d,e,f,g="";return g+="\n        ",d=c.each.call(a,(d=a&&a.result,null==d||d===!1?d:d.matches),{hash:{},inverse:r.noop,fn:r.programWithDepth(5,i,b,a),data:b}),(d||0===d)&&(g+=d),g+="\n        ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:r.program(14,n,b),fn:r.program(12,m,b),data:b},d=e?e.call(a,a&&a.remaining,0,f):s.call(a,"if_gr",a&&a.remaining,0,f),(d||0===d)&&(g+=d),g+="\n    "}function i(a,b,d){var e,f,g,h="";return h+="\n            <tr class='resultRow selectable-row",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:r.program(8,k,b),fn:r.program(6,j,b),data:b},e=f?f.call(a,a&&a.active,!1,g):s.call(a,"if_eq",a&&a.active,!1,g),(e||0===e)&&(h+=e),h+="'>\n                <td class='col-md-6'>\n                    <div class='result-item' data-module=\"",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"'>\n                        <span class=\"badge alert-warning\" draggable='true' ondragstart=\"drag(event, '"+t((e=d&&d.divElementId,typeof e===u?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"'>&nbsp;</span>\n                        ",f=c.hasCountryIcon||a&&a.hasCountryIcon,g={hash:{},inverse:r.noop,fn:r.program(10,l,b),data:b},e=f?f.call(a,a&&a.module,g):s.call(a,"hasCountryIcon",a&&a.module,g),(e||0===e)&&(h+=e),h+="\n                        <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;' data-module=\"",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"</a>\n                    </div>\n                </td>\n                <td class='text-muted small-text col-md-6 result-item' data-module=\"",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"\" data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"'>",(f=c.fsn)?e=f.call(a,{hash:{},data:b}):(f=a&&a.fsn,e=typeof f===u?f.call(a,{hash:{},data:b}):f),h+=t(e)+"\n                </td>\n            </tr>\n        "}function j(){return" danger"}function k(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:r.noop,fn:r.program(6,j,b),data:b},d=e?e.call(a,a&&a.conceptActive,!1,f):s.call(a,"if_eq",a&&a.conceptActive,!1,f),d||0===d?d:""}function l(a,b){var d,e,f="";return f+='\n                            <div class="phoca-flagbox" style="width:35px;height:35px">\n                                <span class="phoca-flag '+t((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):s.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                            </div>\n                        '}function m(a,b){var d,e,f="";return f+="\n            <tr class='more-row'><td colspan='2' class='text-center'><button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=t(d)+"-more'>Load ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=t(d)+" more (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===u?e.call(a,{hash:{},data:b}):e),f+=t(d)+" remaining on server)</button></td></tr>\n        "}function n(a){var b,c="";return c+="\n            <tr class='more-row'><td colspan='2' class='text-center text-muted'>All "+t((b=a&&a.result,b=null==b||b===!1?b:b.details,b=null==b||b===!1?b:b.total,typeof b===u?b.apply(a):b))+" results are displayed</td></tr>\n        "
}function o(){return"\n    <tr><td class='text-muted'>No results</td></tr>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var p,q="",r=this,s=c.helperMissing,t=this.escapeExpression,u="function";return p=c["if"].call(b,(p=b&&b.result,null==p||p===!1?p:p.matches),{hash:{},inverse:r.program(16,o,e),fn:r.program(1,f,e),data:e}),(p||0===p)&&(q+=p),q+="\n"}),this.JST["views/searchPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='margin: 5px; height:95%;' class='panel panel-default'>\n    <div class='panel-heading'>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 15px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_search'>Search</span></span></strong></div>\n            <div class='col-md-4 text-right'>\n                <!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-linkerButton\' draggable="true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>-->\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' style='height:86%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-panelBody\'>\n        <form>\n            <div class="form-group" style="margin-bottom: 2px;">\n                <label for="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBox">\n                    <span class="i18n" data-i18n-id="i18n_type_3_chars">Type at least 3 characters</span> <i class="glyphicon glyphicon-remove text-danger" id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-typeIcon"></i> <span id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchExample"></span></label>\n                <br><div class="btn-group" style="width: 100%;"><input type="search" class="form-control" id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBox" placeholder="Search..." autocomplete="off">\n                <span id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-clearButton" class="searchclear glyphicon glyphicon-remove-circle"></span></div>\n            </div>\n        </form>\n        <div id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-searchConfigBar' style='margin-bottom: 10px;'><nav class='navbar navbar-default' role='navigation' style='min-height: 28px;border-radius: 0px;border-bottom: 1px lightgray solid;'>\n            <ul class='nav navbar-nav navbar-left'>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navSearchModeLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-fullTextButton'><span class='i18n' data-i18n-id='i18n_full_text_search_mode'>Full text search mode</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-partialMatchingButton'><span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>Partial matching search mode</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-regexButton'><span class='i18n' data-i18n-id='i18n_regex_search_mode'>Regular Expressions search mode</span></button></li>\n                    </ul>\n                </li>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navLanguageLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-danishLangButton'><span class='i18n' data-i18n-id='i18n_danish_stemmer'>Danish language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-englishLangButton'><span class='i18n' data-i18n-id='i18n_english_stemmer'>English language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-spanishLangButton'><span class='i18n' data-i18n-id='i18n_spanish_stemmer'>Spanish language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-swedishLangButton'><span class='i18n' data-i18n-id='i18n_swedish_stemmer'>Swedish language stemmer</span></button></li>\n                    </ul>\n                </li>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navStatusFilterLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-activeOnlyButton'><span class='i18n' data-i18n-id='i18n_active_only'>Active components only</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-activeInactiveButton'><span class='i18n' data-i18n-id='i18n_active_and_inactive'>Active and inactive components</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-inactiveOnlyButton'><span class='i18n' data-i18n-id='i18n_inactive_only'>Inactive components only</span></button></li>\n                    </ul>\n                </li>\n            </ul>\n        </nav></div>\n        <div class='panel panel-default' style='height:70%;overflow:auto;margin-bottom: 15px;min-height: 300px;' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsScrollPane'>\n            <div id=\"",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBar"></div>\n            <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-searchFilters\"></div>\n            <table class='table table-bordered'>\n                <tbody  id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsTable'>\n                </tbody>\n            </table>\n        </div>\n        <div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>\n            <div class='modal-dialog'>\n                <div class='modal-content'>\n                    <div class='modal-header'>\n                        <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                        <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>\n                    </div>\n                    <div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>\n                        <p></p>\n                    </div>\n                    <div class='modal-footer'>\n                        <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n        "}),this.JST["views/taxonomyPlugin/body/children.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f="";return f+="\n        ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:q.noop,fn:q.programWithDepth(2,g,b,a,d),data:b}),(e||0===e)&&(f+=e),f+="\n    "}function g(a,b,d,e){var f,g,i,j="";return j+='\n            <li data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"' data-term='",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-",g=c.if_eq||e&&e.if_eq,i={hash:{},inverse:q.program(8,k,b),fn:q.program(3,h,b),data:b},f=g?g.call(a,e&&e.selectedView,"inferred",i):r.call(a,"if_eq",e&&e.selectedView,"inferred",i),(f||0===f)&&(j+=f),j+=" treeButton' id='"+t((f=e&&e.divElementId,typeof f===s?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"'></i></button>\n                ",g=c.if_eq||a&&a.if_eq,i={hash:{},inverse:q.programWithDepth(12,m,b,d),fn:q.programWithDepth(10,l,b,d),data:b},f=g?g.call(a,a&&a.definitionStatus,"Primitive",i):r.call(a,"if_eq",a&&a.definitionStatus,"Primitive",i),(f||0===f)&&(j+=f),j+="\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,i={hash:{},inverse:q.noop,fn:q.program(14,n,b),data:b},f=g?g.call(a,a&&a.module,i):r.call(a,"hasCountryIcon",a&&a.module,i),(f||0===f)&&(j+=f),j+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                    <span class="treeLabel selectable-row" data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'" id="'+t((f=e&&e.divElementId,typeof f===s?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===s?g.call(a,{hash:{},data:b}):g),j+=t(f)+"</span>\n                </a>\n                "+t((g=c.push||a&&a.push,i={hash:{},data:b},g?g.call(a,a&&a.conceptId,i):r.call(a,"push",a&&a.conceptId,i)))+"\n            </li>\n        "}function h(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:q.program(6,j,b),fn:q.program(4,i,b),data:b},d=e?e.call(a,a&&a.isLeafInferred,!0,f):r.call(a,"if_eq",a&&a.isLeafInferred,!0,f),d||0===d?d:""}function i(){return"minus"}function j(){return"chevron-right"}function k(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:q.program(6,j,b),fn:q.program(4,i,b),data:b},d=e?e.call(a,a&&a.isLeafStated,!0,f):r.call(a,"if_eq",a&&a.isLeafStated,!0,f),d||0===d?d:""}function l(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&nbsp;</span>&nbsp;&nbsp;\n                '}function m(a,b,d){var e,f,g="";return g+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \''+t((e=d&&d.divElementId,typeof e===s?e.apply(a):e))+'\')" data-module="',(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===s?f.call(a,{hash:{},data:b}):f),g+=t(e)+'">&equiv;</span>&nbsp;&nbsp;\n                '}function n(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:26px;height:26px">\n                        <span class="phoca-flag '+t((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):r.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="",q=this,r=c.helperMissing,s="function",t=this.escapeExpression;return p+="<ul style='list-style-type: none; padding-left: 15px;'>\n    ",o=c.each.call(b,b&&b.result,{hash:{},inverse:q.noop,fn:q.programWithDepth(1,f,e,b),data:e}),(o||0===o)&&(p+=o),p+="\n</ul>\n"}),this.JST["views/taxonomyPlugin/body/parents.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b,d,e){var f,g,m,n="";return n+='\n            <li data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+"\" data-concept-id='",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+"' data-term='",(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'>\n                    <i class='glyphicon glyphicon-chevron-",g=c.if_def||a&&a.if_def,m={hash:{},inverse:y.program(4,i,b),fn:y.program(2,h,b),data:b},f=g?g.call(a,a&&a.conceptId,m):x.call(a,"if_def",a&&a.conceptId,m),(f||0===f)&&(n+=f),n+=" treeButton' id='"+w((f=d&&d.divElementId,typeof f===v?f.apply(a):f))+"-treeicon-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+"'></i>\n                </button>\n                ",g=c.if_eq||a&&a.if_eq,m={hash:{},inverse:y.program(8,k,b),fn:y.program(6,j,b),data:b},f=g?g.call(a,a&&a.definitionStatus,"Primitive",m):x.call(a,"if_eq",a&&a.definitionStatus,"Primitive",m),(f||0===f)&&(n+=f),n+="\n                ",g=c.hasCountryIcon||a&&a.hasCountryIcon,m={hash:{},inverse:y.noop,fn:y.program(10,l,b),data:b},f=g?g.call(a,a&&a.module,m):x.call(a,"hasCountryIcon",a&&a.module,m),(f||0===f)&&(n+=f),n+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">\n                    <span data-module="',(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+'" data-concept-id="',(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+'" data-term="',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+'" class="treeLabel selectable-row" id="'+w((f=e&&e.divElementId,typeof f===v?f.apply(a):f))+"-treenode-",(g=c.conceptId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.conceptId,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+'">',(g=c.defaultTerm)?f=g.call(a,{hash:{},data:b}):(g=a&&a.defaultTerm,f=typeof g===v?g.call(a,{hash:{},data:b}):g),n+=w(f)+"</span>\n                </a>\n        "}function h(){return"down"}function i(){return"up"}function j(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+"')\">&nbsp;</span>&nbsp;&nbsp;\n                "}function k(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" data-module="',(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+"')\">&equiv;</span>&nbsp;&nbsp;\n                "}function l(a,b){var d,e,f="";return f+='\n                    <div class="phoca-flagbox" style="width:33px;height:33px">\n                        <span class="phoca-flag '+w((d=c.countryIcon||a&&a.countryIcon,e={hash:{},data:b},d?d.call(a,a&&a.module,e):x.call(a,"countryIcon",a&&a.module,e)))+'"></span>\n                    </div>\n                '}function m(a,b){var d,e,f="";return f+="\n            "+w((d=c.slice||a&&a.slice,e={hash:{},data:b},d?d.call(a,0,-5,e):x.call(a,"slice",0,-5,e)))+"\n        "}function n(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'\')" data-module="'+w((d=a&&a.focusConcept,d=null==d||d===!1?d:d.module,typeof d===v?d.apply(a):d))+'" data-concept-id="'+w((d=a&&a.focusConcept,d=null==d||d===!1?d:d.conceptId,typeof d===v?d.apply(a):d))+'" data-term="'+w((d=a&&a.focusConcept,d=null==d||d===!1?d:d.defaultTerm,typeof d===v?d.apply(a):d))+'">&nbsp;</span>&nbsp;&nbsp;\n                '}function o(a,b){var d,e,f="";return f+='\n                    <span class="badge alert-warning" draggable="true" ondragstart="drag(event, \'',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===v?e.call(a,{hash:{},data:b}):e),f+=w(d)+'\')" data-module="'+w((d=a&&a.focusConcept,d=null==d||d===!1?d:d.module,typeof d===v?d.apply(a):d))+'" data-concept-id="'+w((d=a&&a.focusConcept,d=null==d||d===!1?d:d.conceptId,typeof d===v?d.apply(a):d))+'" data-term="'+w((d=a&&a.focusConcept,d=null==d||d===!1?d:d.defaultTerm,typeof d===v?d.apply(a):d))+'">&equiv;</span>&nbsp;&nbsp;\n                '}function p(a,b){var d,e,f,g="";return g+='\n                    <div class="phoca-flagbox" style="width:33px;height:33px">\n                        <span class="phoca-flag '+w((e=c.countryIcon||a&&a.countryIcon,f={hash:{},data:b},e?e.call(a,(d=a&&a.focusConcept,null==d||d===!1?d:d.module),f):x.call(a,"countryIcon",(d=a&&a.focusConcept,null==d||d===!1?d:d.module),f)))+'"></span>\n                    </div>\n                '}function q(){return"\n            </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var r,s,t,u="",v="function",w=this.escapeExpression,x=c.helperMissing,y=this;return u+="<div style='height:100%;margin-bottom: 15px;'>\n    <ul style='list-style-type: none; padding-left: 5px;'>\n        ",r=c.each.call(b,b&&b.parents,{hash:{},inverse:y.noop,fn:y.programWithDepth(1,g,e,b,f),data:e}),(r||0===r)&&(u+=r),u+="\n        ",s=c.if_gr||b&&b.if_gr,t={hash:{},inverse:y.noop,fn:y.program(12,m,e),data:e},r=s?s.call(b,(r=b&&b.parents,null==r||r===!1?r:r.length),0,t):x.call(b,"if_gr",(r=b&&b.parents,null==r||r===!1?r:r.length),0,t),(r||0===r)&&(u+=r),u+="\n        <ul style='list-style-type: none; padding-left: 15px;'>\n            <li data-module=\""+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.module,typeof r===v?r.apply(b):r))+"\" data-concept-id='"+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.conceptId,typeof r===v?r.apply(b):r))+"' data-term='"+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.defaultTerm,typeof r===v?r.apply(b):r))+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton'  id='",(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"-treeicon-"+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.conceptId,typeof r===v?r.apply(b):r))+"'></i></button>\n                ",s=c.if_eq||b&&b.if_eq,t={hash:{},inverse:y.program(16,o,e),fn:y.program(14,n,e),data:e},r=s?s.call(b,(r=b&&b.focusConcept,null==r||r===!1?r:r.definitionStatus),"Primitive",t):x.call(b,"if_eq",(r=b&&b.focusConcept,null==r||r===!1?r:r.definitionStatus),"Primitive",t),(r||0===r)&&(u+=r),u+="\n                ",s=c.hasCountryIcon||b&&b.hasCountryIcon,t={hash:{},inverse:y.noop,fn:y.program(18,p,e),data:e},r=s?s.call(b,(r=b&&b.focusConcept,null==r||r===!1?r:r.module),t):x.call(b,"hasCountryIcon",(r=b&&b.focusConcept,null==r||r===!1?r:r.module),t),(r||0===r)&&(u+=r),u+='\n                <!--<a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;">-->\n                    <span data-module="'+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.module,typeof r===v?r.apply(b):r))+'" data-concept-id="'+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.conceptId,typeof r===v?r.apply(b):r))+'" data-term="'+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.defaultTerm,typeof r===v?r.apply(b):r))+'" class="treeLabel selectable-row" id="',(s=c.divElementId)?r=s.call(b,{hash:{},data:e}):(s=b&&b.divElementId,r=typeof s===v?s.call(b,{hash:{},data:e}):s),u+=w(r)+"-treenode-"+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.conceptId,typeof r===v?r.apply(b):r))+'">'+w((r=b&&b.focusConcept,r=null==r||r===!1?r:r.defaultTerm,typeof r===v?r.apply(b):r))+"</span>\n                <!--</a>-->\n            </li>\n        </ul>\n        ",s=c.if_gr||b&&b.if_gr,t={hash:{},inverse:y.noop,fn:y.program(20,q,e),data:e},r=s?s.call(b,(r=b&&b.parents,null==r||r===!1?r:r.length),0,t):x.call(b,"if_gr",(r=b&&b.parents,null==r||r===!1?r:r.length),0,t),(r||0===r)&&(u+=r),u+="\n    </ul>\n</div>"}),this.JST["views/taxonomyPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='height:100%;margin: 5px; overflow:auto;' class='panel panel-default' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-mainPanel'>\n    <div ondrop=\"dropT(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'\')" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class=\'panel-heading\' id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading'>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-ownMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-book'></i></button>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 15px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-6' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_taxonomy'>Taxonomy</span></strong></div>\n            <div class='col-md-6 text-right'>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resetButton' class='btn btn-link' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-repeat'></i></button>\n                <!--<button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-linkerButton\' draggable="true" ondragstart="drag(event, \'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>-->\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-taxonomyConfigBar' style='margin-bottom: 10px;'><nav class='navbar navbar-default' role='navigation' style='min-height: 28px;border-radius: 0px;border-bottom: 1px lightgray solid;'>\n        <ul class='nav navbar-nav navbar-left'>\n            <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-txViewLabel'></span> <b class='caret'></b></a>\n                <ul class='dropdown-menu' role='menu' style='float: none;'>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-inferredViewButton'><span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span></button></li>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-statedViewButton'><span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span></button></li>\n                </ul>\n            </li>\n        </ul>\n    </nav></div>\n    <div ondrop=\"dropT(event, '",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"')\" ondragleave=\"removeHighlight();\" ondragover=\"allowDrop(event)\" class='panel-body' style='height:100%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelBody'>\n    </div>\n</div>\n<div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>\n    <div class='modal-dialog'>\n        <div class='modal-content'>\n            <div class='modal-header'>\n                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>\n            </div>\n            <div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>\n                <p></p>\n            </div>\n            <div class='modal-footer'>\n                <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n            </div>\n        </div>\n    </div>\n</div>"
}),this.JST["views/taxonomyPlugin/options.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,h="";return h+="\n                <tr>\n                    <td>",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===k?f.call(a,{hash:{},data:b}):f),h+=l(e)+'</td>\n                    <td>\n                        <div class="checkbox">\n                            <label>\n                                <input type="checkbox" id="'+l((e=d&&d.divElementId,typeof e===k?e.apply(a):e))+"-subscribeTo-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===k?f.call(a,{hash:{},data:b}):f),h+=l(e)+'" ',e=c["if"].call(a,a&&a.subscribed,{hash:{},inverse:m.noop,fn:m.program(2,g,b),data:b}),(e||0===e)&&(h+=e),h+='> <span class="i18n"></span>\n                            </label>\n                        </div>\n                    </td>\n                    <td>\n                        <div class="checkbox">\n                            <label>\n                                <input type="checkbox" id="'+l((e=d&&d.divElementId,typeof e===k?e.apply(a):e))+"-subscriptor-",(f=c.id)?e=f.call(a,{hash:{},data:b}):(f=a&&a.id,e=typeof f===k?f.call(a,{hash:{},data:b}):f),h+=l(e)+'" ',e=c["if"].call(a,a&&a.subscriptor,{hash:{},inverse:m.noop,fn:m.program(2,g,b),data:b}),(e||0===e)&&(h+=e),h+='> <span class="i18n"></span>\n                            </label>\n                        </div>\n                    </td>\n                </tr>\n            '}function g(){return"checked"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this;return j+='<form role="form" id="',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===k?i.call(b,{hash:{},data:e}):i),j+=l(h)+'-options-form">\n    <div class="form-group">\n        <table class=\'table table-bordered table-hover\'>\n            <thead>\n            <tr>\n                <th>Panel</th>\n                <th>Subscribed</th>\n                <th>Subscriptor</th>\n            </tr>\n            </thead>\n            <tbody>\n            ',h=c.each.call(b,(h=b&&b.options,null==h||h===!1?h:h.possibleSubscribers),{hash:{},inverse:m.noop,fn:m.programWithDepth(1,f,e,b),data:e}),(h||0===h)&&(j+=h),j+="\n            </tbody>\n        </table>\n    </div>\n</form>"});